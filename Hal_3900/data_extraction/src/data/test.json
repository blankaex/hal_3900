{"grouped":[{"tags":["table","COMP1521","Assignment","Text Computer System Fundamentals"]},{"tags":["table","Admin","Marks9","course mark","Group","assignment","Dueby","Submitgive","Webcms","mark","ceiling","code","Assessment","guide","style","tute solutions","lectures","instructions","marks","auto-testing","range","comment","block","line","input strings","auto-testing mark","statement","names","errors","test cases","assessment","MIPS","C","assembly code","tutor","syntax errors","spim","args","opcodes","C statement"]},{"tags":["table","marks","auto-testing","input strings","range","instructions","code","comment","line","C statement","MIPS","block","names","args","opcodes"]},{"tags":["table","prologue","epilogue","command-line argument checking","setUpDisplay Function","ToDo","function body","showDisplay Function","numbers","animation","isUpper ToDo","isLower","isUpper"]},{"tags":["list","Objectives","assembly code","experience","MIPS","functions","data","control structures"]},{"tags":["list","command-line argument","spaces","letters","buffer","versions","characters","part","content","display buffer","starting_pos","contents","output","repeat","column","left","time","display","message scrolls"]},{"tags":["list","theString","copy","string","bigString","characters","space","column","display","screen","all_chars","array","representation","Z","z","diagram","chars.s file","chars"]},{"tags":["list","function","clobbers","mapping","variables","registers","C code","MIPS"]},{"tags":["list","Errata","revision","instance","ch","sp","LW","epilogues","delay","LA","translation","break directive","blt","bge","changes","frame","comparison","space","isUpper","isLower","calls","logic","argument load"]},{"tags":["list","revision","instance","ch","epilogues","delay","sp","LA","LW"]},{"tags":["list","translation","break directive","bge","blt"]},{"tags":["list","ch","changes","frame","logic","calls","space","isUpper","isLower","comparison"]},{"tags":["list","argument load","LW","LA"]},{"tags":["list","message","scroll repeat","scroll","hand end","right","columns","end","display","colours","characters","colour change"]}],"block":[{"tags":["paragraph","Background","sight","shops","LEDs","text scrolls","something","grid"],"text":" A common sight in shops is a grid of LEDs where text scrolls across the grid, something like ... "},{"tags":["paragraph","aim","program","assignment","MIPS","video","text strings"],"text":" The aim of this assignment is to complete a MIPS program that can scroll alphabetic text strings like the above video. "},{"tags":["paragraph","Setting Up","directory","assignment","assignment files","command"],"text":" Create a private directory for doing the assignment, and put the assignment files in it by running the following command: "},{"tags":["paragraph","home","home machine","files","ZIP file","code","machines","machine","CSE"],"text":" If you're working on this at home, download the ZIP file and create the files on your home machine. It's fine to work on your own machine but remember to always test your code on the CSE machines before submitting. "},{"tags":["paragraph","command","files"],"text":" The above command will create the following files: "},{"tags":["paragraph","file","compilation","scroll.c","assembler part","C program","exe.s file","MIPS","exemplar"],"text":" A file to control compilation of scroll.c. It is not critical for the MIPS assembler part: it creates the executable C program to give you an exemplar, and can produce the exe.s file. "},{"tags":["paragraph","solution","assembler program","goal","C.","behaviour","program","MIPS"],"text":" A complete solution, written in C. Your goal is to write a MIPS assembler program to copy the behaviour of this program. "},{"tags":["paragraph","array","text","characters","scroll.c"],"text":" The array of big characters used in producing the scrolling text. This is #include'd in scroll.c. "},{"tags":["paragraph","solution","assignment","assembler","MIPS"],"text":" A partly complete solution to the assignment, written in MIPS assembler. "},{"tags":["paragraph","version","MIPS","array","characters","file","text","modification"],"text":" A MIPS version of the array of big characters used in producing the scrolling text. This file requires no modification. "},{"tags":["paragraph","C program","feel","behaviour","examples","C program","command-line argument","text string","scroll"],"text":" Initially, it would be worth compiling the C program and running it on some examples to get a feel for its behaviour. The compiled C program, called scroll, expects a single command-line argument: the text string to be scrolled. "},{"tags":["paragraph","C program","scroll"],"text":" You can compile and run the C program (scroll) as follows: "},{"tags":["paragraph","The Program","scrolling program","C","MIPS"],"text":" What the scrolling program should do, whether implemented in MIPS or C: "},{"tags":["paragraph","MIPS programs","C","function","same","command-line arguments","scrolling","functions","programs","set","function","code","function","purpose","comments"],"text":" Both the C and the MIPS programs are structured the same, with a main function to handle the command-line arguments and then run the scrolling. The programs also have the same set of lower-level functions. In scroll.c, there are comments describing the purpose of each function and the code is hopefully clear enough that you can understand how each function works. "},{"tags":["paragraph","diagram","programs","data structures"],"text":" The diagram below shows the major data structures used by the programs: "},{"tags":["paragraph","Exercise","aim","exercise","program skeleton","C program","file scroll.s)","chars.s file","MIPS","contents","data structure"],"text":" The aim of this exercise is to complete the supplied MIPS program skeleton (in the file scroll.s) to behave exactly like the C program (in scroll.c). You should not change the chars.s file; treat its contents as a read-only data structure. "},{"tags":["paragraph","scroll.","each function","comments"],"text":" In scroll.s each function has comments to: "},{"tags":["paragraph","suggestions","registers","registers","code","function code","C code","same","course"],"text":" Note that these are suggestions only; you can use whatever registers you like, provided that you save and restore any $s? registers that you overwrite in the function code. And, of course, provided that the code behaves the same as the C code. "},{"tags":["paragraph","functions","function prologues","epilogues","function","functions","registers","registers","prologue","epilogue","stack","templates"],"text":" To save you some time, we have included function prologues and epilogues in some functions. These save and restore registers $fp, $ra, and any $s? registers that the function happens to use, and also maintain the stack. You can use these as templates for how to implement the prologue and epilogue in the functions that do not provide them. "},{"tags":["paragraph","Some","functions","others","scroll.s","MIPS assembler","functions","status","rundown"],"text":" Some of the functions from scroll.s are already implemented, but others require you to write MIPS assembler for them. Here's a rundown of the functions in scroll.s and their status: "},{"tags":["paragraph","Running the program","scroll.s","MIPS program","file chars.s","all_chars","array","access","spim","order","qtspim","example","program","spim","files","program"],"text":" Note that scroll.s is not stand-alone MIPS program; it requires access to the all_chars[] array in the file chars.s. In order to run the program (either via spim or qtspim), you'll need to combine the two files. Here's an example of you might run the program using spim: "},{"tags":["paragraph","file exe.s","qtspim","cat step","time","file","scroll.s file","Makefile"],"text":" The file exe.s is a complete program that can be loaded into qtspim as well. You will need to do the cat step each time you change the scroll.s file and want to test it. The Makefile knows how to create this file too. "},{"tags":["paragraph","Challenges","Worth","kudos","marks"],"text":"(Worth kudos, but no marks)"},{"tags":["paragraph","message","scroll repeat","scroll","hand end","right","columns","end","display","end"],"text":" Make the scroll repeat. If you wait until the whole message scrolls off the left hand end, this is easy. Make it do a \"continuous scroll\", where the message starts repeating from the right before when the end of the right-hand end of the message has moved 10 columns from the right-hand end of the display. "},{"tags":["paragraph","colours","characters","colour change"],"text":" Change the colours of the '#' characters as they scroll. Make the colour change as aesthetically pleasing as possible. "},{"tags":["paragraph","Submission","scroll.s file","give","work","Webcms3"],"text":" You just need to submit the scroll.s file. You can do this either through Webcms3 or using give. You must submit your work before midnight on Sunday 2nd September. "},{"tags":["paragraph","fun"],"text":" Have fun, jas "}]}