{"posts":[{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" for the assignment, I tried so hard on it but my code still doesn’t work, and now the deadline is over. Can I still get some marks for the code that I submitted if it doesn’t work ","answers":[" Yes. You'll get some marks. You could also keep working on it, maybe get it working, and submit late. It might end up being worth more than submitting something that doesn't work. But this all depends on how much time you have available. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I was wondering what this error message meant. ","answers":[" it's not an error message. Your file executed everything and nothing is wrong. ",[" Oh, thankyou "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I'm really confused, is this what the print CLEAR is meant to look like? ","answers":[" QtSpim doesn't understand the control sequence we use for clear. That looks right. "," CLEAR, is like writing \"clear\" in the terminal "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I'v been trying to run my code on qtspim several times but it keeps getting caught at the point where it returns string 'main_1': where its detecting my string characters to not be upper or lower case, or even a ' '. i'v entered an all-lowercase string as a parameter, which should pass the isLower function which was given in the partly complete .s file. What should I be looking at in this case? ","answers":[" If you're running QtSpim on a Mac, there's a known problem (discussed in lectures and on this Forum), that the instruction that gets the address of the start of the string (i.e. argv[1]) needs to be lw $t2, 8($a1) rather than lw $t2, 4($a1) ",[" I'm using windows on DELL, but i changed it to lw $t2, 8($a1) and it worked. Thanks "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Did i understand correctly that $s2 contains numbers of all the entered characters as a single string and we were supposed to split them into individual hexadecimal values and also that calculation of bigLength was incorrect and also needed to be rewritten? I'm just still trying to find where i made a mistake ","answers":[" Did i understand correctly that $s2 contains numbers of all the entered characters as a single string and we were supposed to split them into individual hexadecimal values No. Either you did not understand correctly, or your explanation is mighty unclear. also that calculation of bigLength was incorrect and also needed to be rewritten? No. As far as I know its calculation is not incorrect. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" when i run the scroll.s and use qtspim, it looks like this, I don't know what is my problem ","answers":[" when i run the scroll.s and use qtspim, it looks like this, I don't know what is my problem Read the message in the xterm. It's telling you that you didn't supply a string. In QtSpim, you do this via the \"Run Parameters\" option under \"Simulator\" in the menu. If you're using QtSpim on a Mac, you need to read a whole bunch of other forum posts that describe what to do. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Is a valid style to have all the c in comments next to their corresponding mips statement but tabbed further along at approximately column 65 (so that all of them are completely clear of the mips)? I personally think this makes it the easiest to read but don't want to be penalised for going over the 80 char limit (if that is still applicable in mips). ","answers":[" This approach sounds perfectly reasonable "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" In regards to the marking criiteria, what does it mean by \"lining up the opcodes and the args consistently\" ","answers":[" Making it look like the supplied code. &lt;TAB&gt;OpCode&lt;TAB&gt;Args where Args are separated from each other by a comma and a space. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I am very confused about the data structure of 'bigString' In the assignment specification it's define as a double array of bigString[9][1000], with 9 rows and 1000 columns each row, that is 9 * 1000 = 9000 bytes in total. But in the real code provided it seems more like bigString[9][9000] from bigString[NROWS][NSCOLS], and make the bigString 9 * 9000 = 81000 bytes which confused me a lot. Is there an extra 9 multiplited in here? ","answers":[" This is a known error, but it doesn't effect program execution. ",[" Ok, thanks "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Whenever I try to run scroll.s, I get this memory error. I've tried going through my program through qtspim and it kept hanging around this line. And the console looks like this when it stops. Any tips on how to solve this? I'm absolutely lost right now. ","answers":[" The line you're looking at is the exit() function to finish the program. Form the registers, etc. it looks like the program is trying to terminate normally, after printing an error message. The program thinks that you didn't give it a string to print. Did you? If not, and within QtSpim, you need to feed the string in via the \"Run Parameters\" option under \"Simulator\" in the main menu. If you're using a Mac, check out the numerous other times it has been asked on the Forum about the main function not finding the string in argv[1], even if you do input it as described above. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Has anyone encountered their program outputting just these hash symbols instead of a string (the input was hello)? ","answers":[" It almost looks like you've messed up the offset calculations and you're printing a column as a row. But that's just a wild guess. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Is there an autotest for this assignment? If not, any suggestion on how to check the output of MIPS program identical to the C program? ","answers":[" $ make$ ./scroll \"hello\" &gt; out1$ 1521 spim -file exe.s \"hello\" | sed -e 1d &gt; out2$ diff out1 out2 This should work on the CSE machines (which is where you should test your programs anyway before submitting them), where the \"Loaded: /home/cs1521/lib/spim/exceptions.s\" is the only junk that spim writes before the real output. One other machines, it might write more junk. ",[" What is the \"802,810d801\"? ",[" It tells you that there's a difference between the two outputs. Lines 802-810 in out1 have been replaced by a single line in out2 Your output is 99% the same as the expected output. Without seeing the code (and don't send it because I don't have time to trawl through it), it's hard to tell. It might be simpler to interpret the output if you didn't print the CLEAR string in either program. "]],[" I used the command you provided and the output is: 802,810d801 &lt; &lt; &lt; &lt; &lt; &lt; &lt; &lt; &lt; "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" \"Bad address in data/stack read\" error on this line here I'm not sure what's going on, but it loops successfully twice before hitting this. Somehow, $t2 becomes 51 instead of an address Note: this is a part of the given code (ie i didn't write this part of the code) ","answers":[" The code just below what you sent has calls to isUpper and isLower, one of which you wrote. The code also jumps back to main_PTRs_cond. Perhaps your function messed things up. Try single-stepping through the isUpper function in QtSpim and seeing if it changes $t2 inappropriately somewhere. ",[" Just to check, could it be that $t2 is being overwritten when jumping to isUpper and isLower?? ",[" It won't be overwritten during the instruction that makes the jump (i.e. what I interpret you to mean by \"when jumping\") However, there's nothing to stop it being overwritten during execution of the function. "]],[" No, it doesn't (i may have done the easy way of copy pasting isLower and changing all the tags from Lower to Upper). Just to clarify (that it's not a return address issue), the code is supposed to loop thru my code (main_theLength_ge_1:) in main and then go back to main_PTRs_cond: right? ",[" In that case, try single-stepping around that region of the program and seeing which instruction messes up the value of $t2 . ",[" Ah, it would seem that the jr $ra in my setUpDisplay function is taking me back to main_ch_lower? Shouldn't it be taking me back to where I called j setUpDisplay? ",[" If you used jal setUpDisplay it might work better "]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" for the 3d array all_chars[which][row][col] I don't know what is the base address of all_chars, and I don't know the col_size is NDCOLS or NSCOLS ","answers":[" The label all_chars in an instruction gives you the base address of all_chars . all_chars is (effectively) a large array of 9-byte rows. Each big char occupies 9 rows. You can find the start byte of each big char by finding its offset from 'a' and then multiplying that by 81 (9*9). From that start byte, you have 9 rows of 9 chars each. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Are we allowed to change the registers in the \"delay\" function? Cause I want to use $s instead of $t in delay, since I already used a bunch of $t in main and I don't want delay to change the values in main's $t registers. ","answers":[" We told you that $t? registers are temporary and by convention can be changed by any function any time it likes. The caller of a function should make no assumptions that $t? registers will hold the same value after the function finishes as they did before the function was called. We also told you that $s? registers, by convention, should be preserved across a function call. What you're proposing is the opposite of this convention. Nobody will use your functions if you implement them this way ",[" Ok thanks "]," I personally would change the values in main that you don't want to be changed in a function to be $s registers (as that is the point of those registers). "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I want to know the two if in the photo is the two if means if isUpper(ch)) = 1, which = ch - 'A' and if isLower(ch) = 1, which = ch - 'a' +26 ","answers":[" That's a decent interpretation of what the code says. Note that at most one of those if 's can be true. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I must have an error in calculation of position of element of bigString[row][col + i * (CHRSIZE+1)] do i understand correctly the formula is: NSCOLS * row + (col + i * (CHRSIZE+1)) or is NSCOLS a wrong multiplier? Thank you again ","answers":[" NSCOLS is the wrong multiplier bigString rows contain 100*(CHRSIZE+1) bytes multiply by the row index to get the offset of the start of the row then add the col index to get the byte position within the row add that to &amp;bigString, and you've got the absolute address "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" When i look at the output from my exe.s using vim, i see a lot of null characters after each line once there's space between the end of the string and the rightmost of the display matrix. is this supposed to happen / will this affect the autotests? ","answers":[" No. It's not supposed to happen. Yes. It will affect the auto-testing. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, so for the function setUpDisplay, I'm accessing the argument 'int starting' from $a0. However, from qtspim it seems this value is really large and the loop : for (out_col = 0; out_col &lt; starting; out_col++) { doesn't seem to end. I tried accessing it with move $s0, $a0. I also tried accessing it as a address but that also didn't work. Thank you :) ","answers":[" The actual value in $a0 looks like an address in the data region. Since the starting argument is supposed to be a count (in the range -80...80), it should not have a value in the data region. I'd be looking at the code that set the value of $a0 before calling setUpDisplay ",[" Alright thanks for the tip :) "]," look into the delay function "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Well, anyone know how to have a auto-testing which shown in the assessment before submitting? what command? ","answers":[" what command? spim -file exe.s \"Some string\" Try a few variations on \"Some string\". That's all the testing you need. ",[" thanks and I have a perfect result, but only about the delay. is it alright to change some number in the delay func by myself? if there will be any affection for auto-testing? ",[" This is the last time I am going to answer this question ... The delay function is completely irrelevant to our testing. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, when I set the delay parameter in mips the same to c, it goes really really slow. Is that normal? Will that affect the auto test? ","answers":[" Read the Notices. ",[" So the scrolling speed does not affect test right? ",[" No. The speed has no effect on the tests. ",[" Thanks! "]]]," well, I changed the $t4 and $t5 in delay part in mips as 1000 and 100, it goes better, at least not so slow. however i don't know if it would affect the auto-test. by the way ,do you know how to have a auto-test?what command? ",[" I don't think we have auto test.. It seems that our assignment will be test by auto test after due. "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" \"Bad address in data/stack read\" error. Anyone have an idea of what the problem could be? Spent nearly a whole day trying to figure out what the issue is :'( It's printing a bunch of errors: According to qtspim, it's failing on the line I've highlighted in the code. I've done some testing and for some reason if I try to print the byte at display[row][out_col] 's address, it's fine, but it screws up if i try to print the byte at bigString[row][in_col] 's address... Any ideas appreciated!! ","answers":[" Why are you trying to print the bigString byte? bigString is only for inout. In any case, the output you've sent is giving plenty of clues. It's telling you which instruction. It's telling you the address being used. You know that this instruction is using the address contained in $t4 . Now find out which instruction set the value of $t4 incorrectly. Then work out why. (A loop that hasn't terminated? An invalid offset calculation?) ",[" I'm trying to print out bigString to see what characters are being stored there. Anyhow, thank you for the advice! I'll test them out and see if I can pinpoint where the issue lies. "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" And \"exception occurred at PC=0x004003f0\" I am getting these errors when attempting to run the code, i was just wondering if it is a problem with a loop or with wrong calculation of address, and so how do i tell if address is out of bounds? Thank you ","answers":[" The \"bad address\"es it's complaining about are all roughly in the data region (how do you know this?) If it's complaining about \"out of bounds\", then maybe you've gone beyond the end of your defined data structures. If you want to find where the bounds are, look at the \"Data\" tab in QtSpim. QtSpim tells you the value of all registers. If you're using some register as an offset/index, then check that its value hasn't gotten \"too large\" "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hello, Some trouble here. When i run my exe.s in putty with an input \"Hello there\", it only showing a rolling \"Hello\" here; while i dedug in qtspim, it only showing a roling \"there\". Why my one exe.s would have 2 different result in putty and qtspim? the pictures shown below is the result in putty and qtspim: ","answers":[" spim and QtSpim are slightly different environments. ",[" By the way, can i have a change in \"delay func.\"? because it is too slow,so I change the $t4 as 1000 and $t5 as 100. But, I don't know if i changed the delay func,is it alright to pass the auto-test? and how to have a auto-test by myself? ",[" The auto-tests couldn't care less about the delay function. Change the values so that they suit the speed of your terminal. how to have a auto-test by myself? It's not hard. By now, you should be able to think up suitable tests by yourself. Run your program with a number of different strings. Make sure they include upper-case, lower-case, and spaces. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, my program keeps on printing every character ... It might be a v stupid mistake but I've been staring at this program for 4 days straight and just can't find the problem! ","answers":[" One very easy thing to see from this output is that $10 has a value that can't possibly be an address, but you're using it as one in lb ..., 0($10) Is the value in $10 an offset rather than an address? If so, try adding the base address of the array before dereferencing it. ",[" Thanks for the help! It seems like I loaded the label instead of the byte into $a0 for syscall. "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" anyone know what is wrong with my code? When I enter an argument such as \"hi\" or \"abc\" or anything, it just skips all the code in the main and jumps straight to the main_post and i even used qtspim. ","answers":[" How do you know that it \"skips all the code in the main\"? ",[" I used qtspim and went through it step by step. I saw it just skipping to the epilogue. But all good, I think i just didn't insert the parameters properly :) "]," presuming you haven’t edited the code given to us in main. Run the string argument with the “run parameters” option in qtspim and set your string there ",[" yeaa that really helped me debug the code thank you!! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I was wondering if my style is good or not (this is just some random code I made up). https://pastebin.com/CKRWnhEr 1. When I comment something, what do I comment? The c code part or what the actual mips code is doing? 2. For example bge is the equivalent of i &lt; j. So do I comment i &lt; j or i &gt;= j 3. Also is there any autotests for this assignment? ","answers":[" Comments that just restate what the instruction is doing are not helpful. You're better to put a single line of C code as a comment over the few MIPS instructions that implement that C code. If you want to put (i &lt; j) somewhere, put it in a block comment before the loop. If you want to put (i &gt;= j), then put a comment like: if (i &gt;= j) break; There are few distinct cases that we can test, so you don't really need auto-tests. As long as it works with one word (e.g. \"hello\") and works for mixed case strings (e.g. \"Hello\") and two words (e.g. \"Hello world\"), and three words (e.g. \"Hello there John\") then it'll work for all of our tests. ",[" Thanks for the reply. Just 2 follow up questions. 1. What is a comment block? (a multiple line description)? 2. I have concerns about how I do the spacing for instructions sets which are 2, 3 and 4 character instruction sets. https://pastebin.com/CKRWnhEr In the above link, the instruction li and add have the registers line up nicely. However in the instruction move ,the registers are not lined up. What would I do? ",[" What is a comment block? (a multiple line description)? A bunch of comments, not appended to instructions, and occurring just before the sequence of MIPS instructions that they're describing. spacing for instructions sets which are 2, 3 and 4 character instruction sets. I think you mean register rather than character ... But, to be consistent with the supplied code, each instruction should be formatted like &lt;TAB&gt;OpCode&lt;TAB&gt;Args where the Args are separated from each other by a comma and a space. ",[" If I follow the same format supplied in the initial code, I will be fine (not lose any marks for style)? "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, sorry if this isn't very assignment specific but I've been stuck with a \"Can't expand stack by &lt;big number&gt; bytes to &lt;bigger number&gt;\" error for a while and was told it could be the way I'm setting up my prologue/epilogue. Assuming I'm using s0 through s5 would this be the correct way to set up and tear down the stack frame? ","answers":[" Use QtSpim to find what instruction it crashed on, and the values of the registers at that point. And then work backwards through the execution (in your head; QtSpim can't execute backwards) to see where the offending registers were set. "," looks fine to me. Make sure all your stacks are correct to then and see if it works. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I am getting the error \"Memory address out of bounds\", I have no idea what is causing this issue in the code. ","answers":[" Use QtSpim. At least it highlights the instruction where the error occurred and shows you registers that were recently changed. The register to look at is the one you're using as an index at the point the crash occurs. Then work out why it has that value. Etc. Etc. I.e. Work backwards from the instruction where it crashed to the place where the incorrect values were set. "," comment stuff and see what is causing it or not. Typically I had this issue when I called functions setupdisplay and showdisplay - which ended up being because my array offsets were incorrect, which may be your issue "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" How far are we permitted to stray from the provided C code? There are sections of main (e.g. the multiple nested for loops inside a single 3rd for loop) that would make more sense to me if I wrote them differently. Provided that our eventual output is the same, is this allowed? ","answers":[" Mapping C to MIPS is just a way of making it easier to write MIPS code. In reality, you might implement things differently to make them more efficient (less instructions, faster loops, etc.). *As long as* it actually works, you don't have to slavishly follow the C code. "," I think they wrote it in C like that, since it is the most easiest way to translate the code across from C to MIPS. Otherwise make sure you got your program working first before you think about this stuff. Writing it as a direct representation of C code in MIPS works fine and is the nature of the task. ",[" The writing of the code isn't the part I'm concerned about. To translate the given section into MIPS as-is would require 6 for loops and 4 if-statements, for approximately 16 labels. However, it could easily be done in half that number, which would (at least in my opinion) significantly improve the readability of the code, which is itself worth marks. ",[" can also be marked on your ability to translate code given to you in C and into MIPS, since you're understanding the process of how a set amount of C code may be represented in assembly code and your ability to manage all those assmembly processes. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I was just wondering if the value under \"Bad address in data/stack read:\" is the value it is trying to store the byte of (the line associated with the error is an lb call) and if that would mean I haven't correctly gotten the value to store in the array into the register I'm using. Thanks. ","answers":[" The stack starts at address 0x7ffffe00 and grows downwards, so 0xf7e497d6 is clearly not an address on the stack. Check the bits of your code that modify $sp and you'll probably find the instruction that's messing it up. If you single step through the program in QtSpim, it's easy to spot when the value changes to something bad, since QtSpim highlights the registers that were changed by the last instruction. If this is happening well into the program, single stepping will take too long, so use a breakpoint to get to roughly the relevant part of the code. (Left mouse-click while hovering over the instruction where you want to set the breakpoint) "," Could be more something like you're accessing a part that is beyond the size of the array. Also you're having stack issues it seems so check your epilogue/prologue "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi again. My program won't stop syscall-ing, and I was wondering whether there is any way I can stop it from doing so. A thousand thank you's. ","answers":[" An infinite loop around the syscall? Possibly caused by using the wrong value in $ra when doing jr $ra Or could be some other incorrect branch. Impossible to tell without more info. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, my program only print the first column and it does not scroll at all, which part could be wrong? Thanks ","answers":[" Are you changing the \"starting column\"? As Richard Liu said, look at what the C code is doing and render that in MIPS. "," look into C code where it scrolls the printing part, and look where you did that in MIPS. could be there. otherwise it is printing your array and your array could have the wrong stored values. Delay might be making it run slow so comment it out and check the behaviour again. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" The printed characters from my MIPS program doesn't scroll all the way to the left and stays inside the command prompt. I am wondering if this is acceptable for this assignment or is it require to scroll all the way to the left and then disappear from the command prompt? ","answers":[" You need to scroll the text all the way off the display. Think: negative starting column. "," probably required to scroll across the screen, since the assignment itself is named scroll. Presuming you are printing out the correct big character versions, could be something to do with delay or your loop to scroll "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I think my qtspim is reading one argument before because when I shift up the ($a0) by 4 bytes it reads my word perfectly on qtspim but tells me I need to enter a string on spim. Any clue what I may have done wrong. ","answers":[" I mentioned this in the lecture. The 4($a1) works ok on QtSpim on the CSE servers. However, on Macs, the argv[] array is a different size and you need to use 8($a1). "," The line of code provided with 4($a1) is correct. Any other problems your are having will be causes elsewere. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" How do I access all_chars[which][row][col] ? i've loaded the index/offset calculation into $t4 and done the below to try and load all_chars[which][row][col] into $t4 as well lb $t4, all_chars($t4) however im getting an \"bad address in data/stack read\" error. Can someone help? ","answers":[" Because you are using $t4 to store in character into all_chars and using $t4 as your offset. Maybe try lb $t0, all_chars($t4) (where $t0 is an used register) "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, my scroll.s now prints out only the bottom line of the word and then enters into Exception 7s. What does this mean? (this was for hello, also the % symbols in the right are just spaces- i changed the character to make sure they were printing) ","answers":[" Thankyou! "," formulas for your arrays could be wrong, or loops issues or register issues concerning not printing what you want. Otherwise the errors are because you are accessing an array beyond the size of the array or a counter is wrong? "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" does anyone know what does this mean? ","answers":[" Okayy, fixed it now! Thank you to everyone that helped :) "," 0x20 sounds like the space character ... check the load/store at +384. "," I saw that kind of thing when I was writing past the end of an array. I expect that output appears very quickly but I would try and see what was on the screen, if any thing, directly before that output starting appearing i.e where your program got up to. Then with that information try and debug from that point in your code within qtspim. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" In showDisplay(), I don't know what is printf(CLEAR) ","answers":[" CLEAR is just a string that was defined in the \"header\". You're just printing the string. ",[" Thank you, I know how to do that "]," CLEAR is a label in the .data section. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hello, I'm been debugging my program for almost the entire day now. I can;t figure out what is causing my program to print the big chars like this. I am printing the letter \"B\" https://gyazo.com/017cd099d8d64718c7c03d0e2b2b35fb What could be the cause of this? I've checked my formula's at least 7 times now. (You can see in the middle it brings \"B\" correctly. It prints the top half then the entire \"B\" then the bottom half ","answers":[" What happens if you print more characters? ",[" It looks like a mess. In this case I am writing \"Comp\", but you can only see bits and pieces of the \"o\" (I think its an \"o\" or a \"p\". https://gyazo.com/32032b9193e3c6ec4d86f0df38da80f7 Tried another typing \"Jku\" https://gyazo.com/97198adfe49cf7bab9721ce7bc9bf202 ",[" then the # or ' ' are not being copied properly from array to array. So it could be formulas on arrays, loops or register issues ",[" Well all my array copying formula's for the 2d array is just (I know some of them have other things in there like bigString[row][col + i * (CHRSIZE+1)], but I take that into account too. bigstring offset = (CHRSIZE * row) + ((CHRSIZE + 1) * i) + col array[row][col] offset = (row * CHRSIZE) + col Then for 3d arrays array[which][row][col] offset = ((CHRSIZE * CHRSIZE) * which) + (CHRSIZE * row) + col ",[" bigstring[NROWS][NSCOLS] display[NROWS][NDCOLS] think about this... ",[" That makes no sense to me. If I use NDCOL's the offset is way off and NSCOL's formula is basically given in the c code when you have to calculate: bigString[row][col + i * (CHRSIZE+1)] ",[" from C to MIPS you traverse an array from 1 column to the end then you 'move onto the next row'. Hence why we do row x maximum columns. So what are the maximum columns in those arrays? ",[" Max column in all the 2d arrays is 9? In bigString we have 9 rows and 9 columns (9x9) block for 1 letter. Edit: Reading some other questions. I see bigString as 9+1 columns. One column at the end (I'm assuming is the gap we leave between each letter we print) but doesn't the formula I gave above already take that into account (CHRSIZE + 1)? ",[" format: array[row][column] NDCOLS = 90 NSCOLS = 9000 display[9][90] bigstring[9][9000] the big string is meant to be that large since it holds the maximum amount that someone could input via the terminal (100 characters). display holds the maximum amount that will be displayed in the terminal at 1 given point of time. so the maximum columns for display is 90, and the maximum columns for bigstrings is 9000. make sure you're not mixing up your terminals. edit to your edit: yes gap for space between characters in a single word. I am getting mixed up now haha. But everything they've given us is correct and is there for a reason to be used. ",[" Could you explain why the column is 90? and not 9? I thought all 2D arrays only have a column of 9 (since the width of a letter is 9). Would this mean the offset for bigString is actually: bigstring offset = (NSCOLS * row) + ((CHRSIZE + 1) * i) + col ",[" yes to formula. I mean NDCOLS/NSCOLS are just a predetermined sizes to hold all the # and all the empty spaces ' '. So its not just holding the important character, and the 9x9 size of that character, since you're transferring everything over from one array to another. ",[" So when I calculate this part for bigstring: bigString[row][col] = ' '; That would also mean I need to do: bigstring offset = (NSCOLS * row) + col? ",[" yes "]]]]]]]]]]],[" It looks like a mess to you, but leaks information to me. As below, check the block building bigString. "]]," Presuming it isn't the formulas, check your loops that they are working as expected? ",[" Well I've also checked those already too. I've been over my code many times already. The first time I went over my code, I found issues with my formula, which I fixed, but after that, I checked my entire code again about 4 times but still haven't found the issue. I've been looking for mistakes ever since. ",[" I'd be suspicious of your first loop copying characters into bigString and the loop in setUpDisplay. I don't have enough data to suggest anywhere else to look. ",[" I've checked this. It looks perfect to me. I guess the only thing I am unsure about in the entire setUpDisplay is this part in c. I wrote it down on paper, and went through some of the cases, I feel like this part is correct too. if (out_col &gt;= NDCOLS) break; Mips: lw $t0, NDCOLS # Load NDCOLS into $t0 blt $s1, $t0, sud_start_rel_loop # if out_col &lt; NDCOLS go to next part j sud_end # break and jump to the end of the entire function. ",[" looks ok? but hard to tell only looking at a piece of code instead of the whole function (from label to label = loop: to end_loop:) ",[" I believe the loops are fine. I also checked the loops/the entire setUpDisplay function10 minutes ago. ",[" Looks like your counters or branch conditions/values might be wrong. The skewing of the text make me think your 'one off' somewhere in your code so each time a loop iterates it is one off where it should be hence the increasing misalignment you see. ",[" That was my first instinct too, but my loops are correct. I think my formulas might be wrong. bigstring offset = (CHRSIZE * row) + ((CHRSIZE + 1) * i) + col display[row][col] display offset = (row * CHRSIZE) + col Then for 3d arrays all_chars[which][row][col] all_chars = ((CHRSIZE * CHRSIZE) * which) + (CHRSIZE * row) + col ",[" 3d array 90 x letter number [0-51] + 10 x row number [0-8] + column number [0-9] assuming you have a blank space at the end of each 9 bytes for a space ",[" So are these formula's correct? NDCOLS = 90 NSCOLS = 9000 CHRSIZE = 9 c: display[i][j] = ' '; display offset = (NDCOLS * i) + j c: bigString[row][col + i * (CHRSIZE+1)] = ' '; bigstring offset = (NSCOLS * row) + (((CHRSIZE + 1) * i) + col) c: all_chars[which][row][col] all_chars offset = ((CHRSIZE * CHRSIZE) * which) + (CHRSIZE * row) + col (Confused here why the letter number is 90, because 9 width and 9 height, so we take into account the +1 column gap?). c: bigString[row][col] = ' '; bigString offset = (NSCOLS * i) + j ",[" its just which * 9 * 9. no 9+1. bigstring is fine but you didn't take that concept for the display array... ",[" I edited the post above. Like that? ",[" what is max columns for display? ",[" 9 columns for the letter + 1 for the gap. 10 total columns for the offset ",[" reread what I said above regarding these arrays and the display array. you seem to have missed the point. ",[" I'm just having trouble understanding by the column is 90 for display and 9000 for bigstring rather than 9. I went to one of the help sessions and I was told that the column size would be 9 because the width for each character is 9 characters long. ",[" each character is of size 9x9. as represented in chars.s display array is sized to fit that amount of characters in the terminal big string array is sized to fit the entire string, in big characters 9x9, of what the user inputted. so naturally the display array must use the max columns it has in it and not just 9x9 since its not just fitting in a 9x9 character, it also may contain other 9x9 characters and spaces, etc. I guess specifically the terminal can display 9 characters at 1 given time - but not certain on that. ",[" I think I just got it. So when the user inputs a letter. Thats automatically 10 columns taken up (9 for the letter and 1 for the gap). If the user enters 2 letters, that's 10 columns for the first letter, and 10 for the second letter. Hence 20 columns total? So the max column for display is 90? or 100? ",[" NDCOLS is defined for us. Use it. But yes that's the way to think about it. ",[" So these are correct now? NDCOLS = 90 NSCOLS = 9000 CHRSIZE = 9 c: display[i][j] = ' '; display offset = (NDCOLS * i) + j c: bigString[row][col + i * (CHRSIZE+1)] = ' '; bigstring offset = (NSCOLS * row) + (((CHRSIZE + 1) * i) + col) c: all_chars[which][row][col] all_chars offset = ((CHRSIZE * CHRSIZE) * which) + (CHRSIZE * row) + col (Confused here why the letter number is 90, because 9 width and 9 height, so we take into account the +1 column gap?). c: bigString[row][col] = ' '; bigString offset = (NSCOLS * i) + j ",[" should be yeah. ",[" Last thing, NDCOLS is defined as 80. This means I have to make NDCOLS equal to 90? ",[" no. "]]]]]]]]]]]]]]]]]]]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi. Sorry for asking for help so much, but I've got an error and im not sure why my program still wont go through qtspim properly. This might be a related question - how would i be able to enter the code here? I inserted the exact same format, and it wouldn't read my input into the program I was alrd told to 'load some code', which i did through '1521 qtspim -file exe.s '. What could i possibly be doing wrong? ","answers":[" File &gt; Reinitialise and Load File is your friend. And don't forget to set arguments in Simulator &gt; Run Parameters ",[" I was using MARS myself as an emulator at home but then when I ran the code on qtspim I saw something similar. From memory it was something like a white space or layout issue qtspim was complaining about. Making sure everything was aligned in the file fixed it, it didn't seem to be a syntax or coding error. ",[" The error itself means that, when SPIM attempted to do symbol resolution for any dangling labels before executing, it couldn't find the label `main` -- this is left dangling by the default runtime (in `exceptions.s`). QtSpim is likely forgetting to tell you that it couldn't load the file. I've not used MARS, but I gather it's got a quite different interpreter to SPIM. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" IS there a way i can retrieve my code from previous submissions? ","answers":[" I know you could in other COMP subjects I have taken but I am not sure you can yourself in this subject. I am pretty sure one of the tutors would be able to retreive a previous revision for you though. ",[" Yeah i thought that too, so i didnt bother making backups, changed quite a bit of code, broke a few things but ended up fixing it "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I was just wondering how you would found the offset for the 3D array all_chars? ","answers":[" Well the offset for 2D arrays are: ( (row_Index * col_Size) + col_Index) * sizeof(data_type) + base_address. I think if you kind of substitute the 3rd dimension, you'll find it. And it's pretty close to the above formula. "," Think about it like this. The which array has a character for each index. Going into that index you access the matrix representation of that character. So then how might you access 'a' or 'b'. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" [deleted] ","answers":[" I asked this question before, and we are allowed to, yes. Spec also says \"Already complete(delay function), but you can tweak the numbers if you want, to speed up or slow down the animation.\" ",[" Thanks! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, when I try to run the parameter hello or \"hello\" into qtspim, it always just goes through the main__0 path and then clears the stack, like how it would act if there was no command line argument. I'm using the latest revision (1.5) and my code prints stuff out when I run it with spim, so how can I get it to run through my code properly on qtspim? I've submitted my latest code with give if that helps. ","answers":[" ... if it works fine using SPIM on CSE, that's all you need. QtSpim is (in my experience) filled with bugs that cause breakage. ",[" I wanted to use qtspim for debugging though since my code isn't printing out the right things right now - it keeps printing out all hashes in the display. I wanted to see where things might be going wrong. Should I go about debugging another way then? ",[" I can't think of any particularly nice approach using QtSpim. I'd suggest Xspim (`1521 xspim`) as a more reliable option, but it seems to be badly behaved in VLAB. My preferred debugging approach is a combination of `spim -dump -file`, `hang: j hang`, and a bunch of print syscalls. It's spartan, but it gets the job done. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I'm really not sure where my code is going wrong as I am getting no exceptions or error, yet it is just printing this: any idea what this might be? ","answers":[" I've experienced this difficulty before finally getting it to work. It may/may not be what happened in your case but in my case I forgot that $t registers unlike $s registers aren't preserved after a function call and my output is pretty much what you have there. "," check your arrays are holding correct character value or that the array formulas are correct (byte offsets) "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, when I want to print a single character in a string(e.g. display[I][j]), which syscall should I use? Is syscall 11 correct? ","answers":[" Yup! "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Memory address out of bounds Hi, I wrote a code snippet like this. And it behaves like this: It seems that the code could run normally until \" bne $t8, $t7 .....\". It could print out value of $t7 which is the first element of theString array (\"h\"). But it cannot print out $t8, which supposed to be a blank. I guess the problem happens at the \"bne\". Is there any suggestion about this kind of issue? Thanks in advance! ","answers":[" \"Memory address out of bounds\" suggests you've got a syscall 4 with a character value in $a0. I suspect you're looking in the wrong spot. "," are you sure the issue is not occurring in \"ch_not_eq_blank\" like it might be doing something in that function which does something wrong - otherwise check where specifically the issue is in QtSpim and see what values are in your registers "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I keep getting the above error message. From qtspim I know which part of the code is the issue, and I've tried to change the code numerous times but nothing seems to be working. If someone could give some advice, that'll be great thank you! ","answers":[" What's the address that's producing the fault? ",[" Hi, so I got this output using spim. ",[" You've wandered off the end of an array in the .data segment. I agree with Richard: check your range conditions and offsets. In particular, you have one useful piece of information: where the fault is (+1fc); check around there. "],[" check your registers are behaving as expected or potentially a formula for byte offset is wrong (presuming this is in the area of the first C loop you are meant to implement) ",[" Thanks for your help Jashank and Richard! Seems I just made a very careless mistake :'( "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hey I've been running my program in qtspim, but it seems to be exiting on the early part, printing 'Only letters and spaces are allowed in the string!'. Running it again I've noticed that it detected 5 command line arguments when it starts running. I also haven't changed anything in the main program. Is this meant to happen? Submitted code if its any help. ","answers":[" Does it work when you're not using QtSpim? ",[" it ends up not printing anything like this. ",[" I'm pretty sure the 5 command line arguments are \"1521\" \"spim\" \"-file\" \"exe.s\" \" \"hello\" \". if you can run 1521 spim -file exe.s \"hello\" and nothing happens, check you have either implemented your setupdisplay &amp; showdisplay functions properly. Since it would have printed something else, if something was wrong. You are using \"set parameters\" properly with \"command line\" being a or whatever right? ",[" (No, SPIM counts arguments after -file FILENAME such that the program behaves roughly like a normal application, and so you could, concievably, make it an executable script.) "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Can we run the auto-test ourselves on the assignment to check if they pass? ","answers":[" The submission test does `spim -assemble -file exe.s`, which should be enough to catch syntax errors. As for more testing... you've got a known to be working program, and a program that may work; why not write your own tests? Have a look at the tests used in the labs to get some ideas of how to do that. ",[" Thanks Jashank, not a bad idea and time permitting I would probably give that ago but time is something that may not permit. ",[" I only just submitted the assignment for the first time. Does the output below indicate the submission tests passed? Continuing with the submission... Submission: assign1 ------------------------------ Files found: scroll.s ------------------------------ [assign1 dryrun] Checking syntax of 'scroll.s'... cat chars.s scroll.s &gt; exe.s Submission datestamp: Sat Sep 1 20:07:38 2018 Assignment deadline: Sun Sep 2 23:59:59 2018 This submission is 1 day and 3 hours early Submission accepted. Awesome! ",[" It just verifies scroll.s can be concatenated into an exe.s file ",[" Not just. It asks SPIM to check it can assemble all the opcodes, which should give you a good idea if your syntax is wrong, or you've goofed a symbol. That command isn't visible; or, rather, the output from `make` isn't suppressed. "]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" [deleted] ","answers":[" You haven't loaded any code! "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi! How are you today? I have a question in regards to assignment 1. I'm just wondering if we arewe allowed to change the stack frame for the main function? Thank you. Raymond. ","answers":[" Absolutely! ",[" Hi Mr. Jashank! Thank you! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi there! I have another question in regards to assignment 1. How do I store the ' ' into array in MIPS? Thank you. Raymond. ","answers":[" You'd have to load the value immediate you wanted to store, then store that into the array at the appropriate location. ",[" if we have the address of display[i][j] sorted in the $t3, and ' ' stored in $t4, do we use sw $t4, ($t3) ? but that would be store ' ' in $t3 instead of in display[i][j]? ",[" Stores work in the opposite direction to loads. sw register, location writes the value in register to the memory address location ... so your store is the right way around. ",[" Hi Mr. Jashank! Thank you! "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Read from unused memory-mapped IO address (0xfffffff0) I'm not sure about what this mean, I saw another guy have similar issue but mine got \"read\" and different value. Could anyone give an explanation? Thank you very much!!! ","answers":[" It's the same sort of issue; you're offsetting -16 from a value that's gone to zero. On a hunch, you're not using $s8 somewhere? ",[" I got it, I didn't correctly write epilogue of the function. Thanks for hints! "],[" No, what I used most of the $s registers in function stack are $s1, $s2, $s4, $s5, $s6 "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi! I am a bit confused by 'clobbers'. For example, in a function, if I use $s6 as i in a loop,and after this loop I use $s6 for other purposes, does this mean $s6 is a clobber? Thanks. ","answers":[" Clobbers mark up registers that will lose their value across a function call. Save registers shouldn't. ",[" Thank you for your reply. Does it mean that if there is no function call inside a function, then there are no clobbers in this function ? ",[" If a function can be observed to change the value of a register, that register is clobbered. (If a function can be observed to change values in s-registers, that function is broken.) "],[" If I'm not mistaken that's correct, for example, in the delay function, you can see that all the clobbers are t registers. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" how do I do command line arguments in qtspim?? ","answers":[" Simulator -&gt; Run Parameters Then in the 2nd text box, you insert your command line args there. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Scroll Window Height If I expand my terminal window to higher than 9 rows I can see the previous output as shown below. Do we just assume the terminal window is only ever going to be 9 rows high so the previous output won't be seen or are we meant to somehow clear the terminal screen prior to printing so we will only ever see the single row of scrolling characters regardless of the window height? Thanks ","answers":[" You are given a special string in the CLEAR label to print after each iteration. printing the CLEAR label as a string will clear the screen, and is required to be used to pass the auto tests. ",[" OK thanks, I see that now. "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Error: \"Write to unused memory-mapped IO address (0xfffffffc)\" I've tried my own research and debugging but I can't seem to find out how to fix this error does anyone know/can help?? ","answers":[" 0xfffffffc is two's complement -4. Some variable you're dereferencing with offset -4 is zero. This was a known issue with some versions of the sample code; make sure you've got up-to-date starter code and check your epilogues. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, getting syntax error with global variables when trying to run the code. Any ideas on how to fix or why this error is occuring? syntax error bge $t2, NROWS, nrows_end_loop1 However it compiles does not have the error if i run bge $t2, $t0, nrows_end_loop1 Thanks! ","answers":[" You need to load the values from those memory locations. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi there! i have done the program and try to debug. But the \"spim\" command not found . I tried many times but got the same result. Could someone help me ? ","answers":[" have you tried 1521 spim -file exe.s \"test input\" ? "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" an error is occuring when i access the all_chars array. is it ok to do 'lb $t0, all_chars(offset) to store the content into $t0 or is it because my calculation for the offset is incorrect? thanks a lot! ","answers":[" As long as offset is a single register's value, I see no obvious problem. SPIM can be temperamental about this, though, so you could also add the label and offset together, and that would be fine too, if the first style doesn't work. "," that should be fine. calculation or something else is incorrect. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi. Is there any possible way for me to test my main function without my other functions being completed yet? From what I've tried, it doesn't seem to work, and simply outputs: Exception occurred at PC=0x004003cc Unaligned address in inst/data fetch: 0x10010232 Exception 4 [Address error in inst/data fetch] occurred and ignored many many times. I'm not sure whether this has to do with the fact that the other functions aren't done, or because my main function is fault. Thanks. ","answers":[" Is there any possible way for me to test my main function without my other functions being completed yet? It's possible , but you're not going to get sensible behaviour from main(). At the very least, all of your functions would need a prologue and an epilogue, and set a dummy return value in $v0 . Then your main() could call the functions and have them return. In the case of isUpper() and isLower() , the only plausible dummy return value would be 1, otherwise your program will stop with an error straight away. Event then, if your string does not contain only upper and lower case letters, you'll get problems further on ... You're better off testing your lower level functions first (which would require writing a simple dummy main() ), and then putting them together with the main() function. ",[" Thanks for the reply. I finished all the required functions, but i still get the same error. How do i identify such an error? Thanks. ",[" The error is an unaligned access, suggesting you've got a load-word of a value that can't be loaded as a word. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Do we need to follow the format of the given code in order to get the styling mark? For example, for our loops, do we need to set labels for init,cond, step as in the main_PTRs_init, main_PTRs_cond main_PTRs_step ? Or is it fine to leave it like this? init_loop_ i： (if...then j to endi) init_loop_ j: (if.... j to end j) j++ j init_loop_ j endj: i++.. j init_loop_i endi: Thank you. ","answers":[" Pick a style and be consistent. So long as that style is not totally illegible, you're pretty likely to get the style mark. The style I've used is intended to make it easy to see C's control flow points in your assembly program. Many of those labels won't be a branch target, but serve to provide you information. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi. My program has numerous errors that I have no idea as to why they exist. I haven't a clue as to why this occurs. This prevents my program from actually running anything at all. ","answers":[" I'm not sure how to put my actual MIPS file here, for only the 'Course Staff' to see. ",[" I looked at QtSpim and it seems like you're running QtSpim without first loading the exe.s file into QtSpim?? So either do \"1521 qtspim -file exe.s\" or open qtspim then \"Load file\" or \"Reinitialise and Load File\" "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi all, I'm getting some errors when i run spim -file exe.s abc (screenshot below). However, when I run it using qtspim, everything seems all good. Any help on how to fix this would be much appreciated!! Thanks ","answers":[" The version of spim you are using is different from that on the CSE labs, in the labs a char can be loaded by li. but in your version li only works with ints. either change the line to 'li $a0, 10' or use the CSE version. ",[" Thank you! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, when I try to run exe.s with \"hello\" or with any non-empty string &lt; 100 char, it always returns \"Only letters and spaces are allowed in the string!\". I haven't changed anything in main before the first ..TODO.. section besides adding things to the stack and I also haven't changed the inLower function, so shouldn't the command line checking for lower case words at least be working?. I've tried to print out some things to try to see what was happening, and in one test when I printed out the return value v0 of isLower after the function call, there was one more return value than there was letters e.g. \"hello\" --printed-out--&gt; 111110. In another test, I forced v0 to take 1 after isLower was called, and got a \"String mush (sic) be &lt; 100 chars\" error. I've also tried using qtspim and running parameters like \"hello\" but it only prints the main__0 message before restoring the stack so that hasn't helped. I've been using the latest revision of the code from assign1 ($Revision: 1.5 $), so what could the problem be? I've submitted my current code with give if that would help. ","answers":[" Line numbers are from scroll.s without the code fragment includded. if you add this: li $a0, 68 li $v0, 11 syscall to line 291. you will see something strange, execution gets to your code and then at some point in the future jumps back to the arg checking. the ONLY way this is possible is by jumping to the wrong place, you don't jump to the wrong label anywhere, so only an indirect jump will do this. the main way to indirectly jump is by a ja $ra And therein lies the problem, when a function is called it's return address is saved to $ra. but only if the address is saved there to begin with. You call `j isUpper`(372) instead if `jal isUpper` in your code this causes $ra not to be set and when isUpper returns your jump back to the last properly called function `isLower`(165) in the arg checking section, thus the error gets printed ",[" Thank you for the explanation! That seems to have fixed the problem. "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Allowed to alter \"delay\" function numbers? I checked the other posts regarding delay and it was not quite clear so I just wanted to verify. Are we allowed to alter the delay function, specifically the $t4 &amp; $t5 values so it prints nicely out on the terminal? Thanks. ","answers":[" The is a post on the front page: \"Tweak the loop bounds in delay until you get decent scrolling speed\". "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi there. May I ask can I build a extra function myself (for finding the address of the element of the array). Also I wonder how could I add an argument into Qtspim (like \"Hello there\" ) ","answers":[" Hi there, you are allowed write extra functions :) To add arguments into QtSpim, go to the menu bar, Simulator -&gt; Run Parameters, and you'll be able to enter in your arguments. Word of warning though, you won't be able to test strings that have a space bar - due to the way that QtSpim handles the arguments. ",[" Thank you thanks a lot!! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" GREEN FLASHES Hi there. When I run my MIPS code, I get flashing green (cursor?) rectangles. You can see an example in the image below. Strangely, this only occurs at certain speeds. At lower speeds, there is no flashing green. I'm not sure if this is a problem with uninitialised array indexes in my code or if my code is ok. I know some others are having the same problem. Would anyone be able to point us in the direction of the bug? Any help would be greatly appreciated. Thanks! ","answers":[" The short answer: we're interested in the characters your code outputs, not how it's painted by a heap of very slow software emulating an even slower terminal. The slightly longer, and less cryptic answer: the approach we're using in painting the marquee to the terminal is extremely naive: for every frame, we clear everything, and then paint everything. In an ideal world, the terminal could work out how to turn this into partial updates of the screen. In practice, what you're seeing is that not happening. The way terminals work hasn't really changed much since 1978, with the introduction of the DEC VT-100 terminal; the terminals we use today, or more accurately, terminal emulators , pretend to be VT-100 relatives of various denominations. These were powered by Intel 8080 processors, running at a blistering two megahertz, and with very nearly no memory, and words like \"optimised display update algorithm\" weren't the domain of hardware. The sequences of characters in the \"clear\" label -- if I recall correctly, something like \\033[H\\033[2J -- is magic to clear all characters on the screen. The terminal emulator meditates upon its idea of what the screen looks like, and updates it, character by character, or sequence by sequence, so each step occurs effectively separately. At low speed, the terminal emulator and the rest of the graphics pipeline can keep up, but at high speed, the terminal has to be painting nearly continuously, which can cause the frame that's pushed into the raster buffer to be incorrect. What you're likely seeing, then, is a weird combination of multiple frames, one fully painted with the cursor placed after the last newline, and one that's being painted, with a cursor being placed before characters are. Exactly what is causing that would be a fun (well, \"fun\") weekend exercise in following data through the baklava-like layers of (thin, flaky, delicious?) abstractions. An interesting challenge (and one not worth marks but worth many, many kudos and/or Mars bars): devise a faster screen painting algorithm for this assignment (or for, say, a visual text editor like Vi or Emacs). There's a few interesting approaches that come to mind ... you may also like a list of all the control sequences you could use to help you out. ",[" Thanks, Jashank! Much appreciated. I will begin research into baklava "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I got some questions there. 1.Though we have a .space 81000 there, but the bytes we actually use is 9*10*1000 which is 9000, so just leave other places nothing or a space? 2. for display, at t=0, should we have a column() of the character stored in bigString or should all the column be the column of \" \" Thank you in advance! ","answers":[" Hi, Feng! You questions seem a little bit ambiguous. So for your first question, why are you saying that the actual bytes we use is 9000? Are you saying NSCOLS is at size 9000?But that is not the total bytes we will use, that’s just the number of bytes the bigString colum will use, hence the actual byte bigString uses is multipled by NROWS, and that is the maximum number of bytes it will take. And if you are saying what will happen if the input is shorter than the maximum, then I would recommend you to read through the setUpDisplay function, variable “theLength” is passed to setUpDisply function to tell setUpDisplay to stop setting up as long as it hits the end of your input, so it won’t keep printing until reach the end of the bigString. And for your question 2, are you saying after the first iteration, the program will show the first column of bigString? And yes, it will, since the starting_col is set to NDCOLS-1, and I don’t think we need to make it show nothing in the first iteration, as the assignment specification just asked us to translate the C program, but if you want , u can simply set starting_col to NDCOLS, it will fix the problem . And I also think you have some misunderstandings with respect to bigString and display, because if you want to change the starting column that will show after the first iteration, you should alter the arrary “display” rather than “big String”, as “bigString” constantly stores the “big version” of our input and will not be altered once it is created, and “display” is the actual picture of every frame we see from the command line. ",[" After a communication to her, her first confusion was actually about the calculation of NSCOLS, which is in deed a problem of the code, it was accidentally multiplied by an extra NROWS. Original post: https://webcms3.cse.unsw.edu.au/COMP1521/18s2/forums/2702663 "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" theString = hgffhgfg la $t7, theString li $t5, 4 mul $t6, $t3, $t5 $t3 is i counter which is 0, $t6 = 0 as expected, addu $t7, $t7, $t6 $t7, no change as expected, lw $s2, ($t7) $s2 = 66666768, unexpected should be ascii for 'h' not sure what to do, is the string not being read in properly? or am i somehow accessing the wrong address, im not sure what is wrong&lt;/span&gt; note - i get different errors based on the starting letter of the string argument z5165118@vx3:~/scrolls$ 1521 spim -file exe.s asd Loaded: /home/cs1521/lib/spim/exceptions.s Exception occurred at PC=0x004002c0 Unaligned address in inst/data fetch: 0x00647361 Exception 4 [Address error in inst/data fetch] occurred and ignored Only letters and spaces are allowed in the string! . . . z5165118@vx3:~/scrolls$ 1521 spim -file exe.s dsa Loaded: /home/cs1521/lib/spim/exceptions.s Exception occurred at PC=0x004002c0 Bad address in data/stack read: 0x00617364 Exception 7 [Bad data address] occurred and ignored Only letters and spaces are allowed in the string! really lost right now ","answers":[" Because you're dealing with a string (array of char), each element is one byte long. When you multiply the index by 4 (in mul $t6, $t3, $t5), you're skipping over 3 elements. When iterating through an array of chars, you do not need to multiply the index to get the correct byte offset. "," from an ascii table : h 68 and if we have a look whats in $s2 we see: 666667 68 so lets convert the rest: 66(f)66(f)67(g)68(h) its your string backwards. because a char is 1 byte and lw loads a words(4 bytes) your loading four bytes(chars) at a time try lb(load byte) to get a single char at a time. "," You're loading a word from the address $t7, which is address 0 ",[" $t7 is not 0, its the address loaded from theString, when i check in QTSPIM ",[" doesn't lw just take the value of the whole string, whereas if you used lb you get 'h'? try that? ",[" load word loads the next 4 bytes, which is not a full string im pretty sure Nvm lb worked! ty, still quite confused as other examples of accessing arrays all included lw, and traversing word by word ",[" lw is for arrays of ints, lb is for arrays of chars "]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi there. I ran into an infinite loop. For some reason, the value store in register $t0 cannot exceed 8. I would be grateful if someone can help me out. Here is my code: lw $s4, NROWS li $t0, 0 initialise_display_row_loop: # finish loop when $t0 &gt;= $s4 bge $t0, $s4, finished_initialse_display nop # for debugging (for some reason, this keeps printing out from 1 to 8 in an infinite loop) move $a0, $t0 li $v0, 1 syscall # then some code here addi $t0, $t0, 1 # i++ j initialise_display_row_loop nop finished_initialse_display: Thanks again for looking at my code. Any kind of help/suggestion would be appreciated! ","answers":[" Your code iterates for $t0 = 0 to $t0 &lt; NROWS ... given that NROWS = 9, it's not surprising that it doesn't exceed 8 ",[" Thanks for replying. But the problem is for some reason $t0 keeps resetting to 0 and thus never satisfies the branch condition to jump out of the loop... "]," ... have you got a function call in there somewhere? Are you assuming a t-register is retaining its value across a function call? ",[" Thanks for the reply. I don't have any function in between, neither do I use the register for any calculation... ",[" Cool! Send me your code; I'd love to have a look. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, in the isLower function provided in scroll.s, is there a particular reason a \"fallthrough\" label is used? Thanks ","answers":[" I consider anywhere that control flow moves from one edge to another to be a fallthrough, and the comment there notes what's happening. The label is a bit more subtle, though; if you've read my guide to writing assembly, you'll have spotted a reference to \"phi\" labels, which are where both branches of a conditional come back together; this name is borrowed from SSA form. So, all together: in the false arms of isLower, control flow falls through into the phi, as opposed to the true arms where it explicitly jumps. ",[" Thanks Jashank! One more quick question, when we are printing out a single newline character do we have to declare it in .data, or can we just load immediate into $a0 and syscall? "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" QtSpim issues when used on CSE VLAB machine. In attempts to debug my code, I seemed to have done something to my QtSpim application, as I cannot use it at all. Whenever I attempt to \"Load File\" or \"Reinitalize and load file\" in MIPS, my terminal outputs \"setNativeLocks failed: Resource temporarily unavailable\". Then when I attempt to run or step through my program using QtSpim i get the error \"Exception occurred at PC=0x00040000\" followed by \"Bad address in text read: 0x00040000\" which then continues to output the same error message with the hexidecimal value just incrementing by 4 (\"Exception occurred at PC=0x00040004\"). In the QtSpim window, it always seems to run starting from line [80000180] or the first line in the \"Kernel Text Segment\" and never reaches the \"User Text Segment\" I did attempt logging off and on again, disconnecting and reconnecting to the VPN and loading other assembly files although nothing seemed to work. Hence irrespective of if the assembly code was incorrect, QtSpim did not work. Any help would be greatly appreciated as it makes using QtSpim in VLab impossible. ","answers":[" I'm not sure what the lock problem is. Maybe there are too many people trying to run QtSpim on the VLAB servers. Is it still happening? ",[" It appears everywhere on CSE... I suspect a bug in QtSpim. ",[" I don't ... but why not tell them about xspim? "]]," PC=0x00040000 is where it normally starts running. If there's not a valid instruction at that location, then you would definitely observe the behaviour you describe where it jumps off to the kernel to \"handle\" the error. What appears in the code window before you step through the program? ",[" I tried again just now, it seems I still am having the same issues. I've added screenshots of the issues I detailed above. But basically I open QtSpim, load a file, then press single step and it starts at \"PC=0x80000180\"/the line I display above every time. I have tried using previous exercises which I know work fine, although they did not work, and this program (\"exe.s\" or in this case \"exe_final.s\") works fine on home computer's QtSpim. Although I seem to be unable to use \"run parameters\" on my mac since it crashes hence I tried to use QtSpim on the VLAB to no avail. ",[" Have a careful look at your text segment addresses. The address 0x00040000 is incorrect; it should be 0x00400000. ",[" Thanks Jas and Jashank for the help. It is working now. It seems the \"run parameters\" had the address stuck at 0x00400000. "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, what is the best way to debug my program printing out a chunk of space and no characters? I can't step through in mips because there's so many loops that I'll never reach the end, so are there any common reasons for this happening that I can look into? Thanks. ","answers":[" Qtspim has breakpoints that can be set by right clicking and has a list of each register. ",[" I'm not sure how to figure out using breakpoints whether certain arrays have been filled with a blank rather than a character, how would I go about it? Thanks. ",[" set a break point before you set your display array to stop executing at the trouble spot. Then step through from there to see what value you are saving into the array to make sure its correct. "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, In the provided scroll.s v1.5, the error message has a typo \"String mus h be &lt;\". The scroll.c file fixes the typo. I know this is a trivial issue but I am not sure how the auto tests will be run. (Are our outputs compared to outputs produced from a model .s file or the model .c file?) Should I fix the typo? Thanks, ","answers":[" Both the misspelled and correct message will be marked as correct. Fix at your own discretion. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi there, in my program,the whole message can't be scrolled off the left hand end. It always stoped when the the first letter of message touch the left hand side screen. It is so weird and I can't find anything wrong in qtspim. What parts could be wrong? Thanks. ","answers":[" I suspect you've got one of the conditions in `main' wrong, and your program is giving up too soon. I'd have to see the code to have a less speculative answer. ",[" Hi Jashank, Thank you for your reply, I have send my code to your email. Thanks "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I'm entering an infinite loop when I run scroll.s and I can't find out why. Can someone please help? ","answers":[" I'd suggest trying some of the following: - run in QTspim to find the location of the infinite loop - check all loops to make sure you have a jump instruction when you need it, a branch instruction when you need it, and that you are incrementing any counters. - check any registers you are using as counters in loops to make sure that they aren't being used for something else and being overwritten. - check your stack frame setup and tear down -&gt; errors in return address can sometimes lead to this behaviour "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I am having trouble trying to debug my code. When I run it via the console, I get the following error message: But when I try to run it in qtspim with the argument 'hello' in the argument box, I get the output \"Only letters and spaces are allowed in the string!\" even though the program has identified there was an argument (as it didn't just print out the usage error \"Usage: ./scroll String\"). I have tried to use the command line version of spim and step through execution line by line, but am not sure how to go about 'injecting' a string into the program as if it was an argument in the original execution of the program. Any help would be greatly appreciated! ","answers":[" I'm getting the same error! Did you anyone manage to fix it? Not sure what's wrong "," Are you using the most recent version of the code om the assign1.zip? If so look to the frame set up and tear down in your isUpper subprocess. ",[" Yep, I'm using version 1.5. I'll have a look at the isUpper subprocess - but I copied the same prologue and epilogue from isLower, so I don't see why that would be an issue? ",[" I'm getting a very similar error and I still don't know why ",[" I've managed to use Jas' suggested debugging fix to temporary disable the need for command line argument, and can run it inside qtspim now "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I am getting the error \"Write to unused memory-mapped IO address (0xfffffffc)\" everytime I try and run the scroll.s file. Can someone give me an idea of what this sort of error refers to, I have already tried using qtspim and can see the save registers, which I am storing important results in, are not changing, but I am not sure what is causing this. ","answers":[" Email me your code and I'll have a look. Hard to work out without more context. ",[" Thank You. I have sent my code ",[" Hey Adam! I'm getting the same error! What was the problem with yours? Hopefully I get ideas to fix mine! ",[" Double check the prologue and epilogue of isUpper, make sure there is no old code floating around in your file, that was what caused my error "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" For the scroll.c file, there is one line where it says “ int which = ch – ‘A’ ” (ch is type char) To achieve this in mips, what should the method be? Should be translate both ch and ‘A’ into ascii numbers and do the subtraction or we can just do subtraction between characters? Thanks a lot! ","answers":[" You can just simply do subtraction, since actually ch and ‘A’ are all treated as integers(or u can say immediate numbers), and that’s also why when u try to assign ‘A’ to a register , you use “li (load immediates) rather than other instructions. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Small possible mistake in scroll.s sorry if I'm wrong. isLower is loading 1 to $v0 if true, and 0 if false but in main_PTRs_cond after calling the isLower function it is considering $v0 = 0 as being true i.e. in line 154 beqz $v0, main_ch_isLower ","answers":[" This has been fixed in the new .zip that is now live. "," Also in line 174 the loop is being broken when $s0 &lt; $t0 i.e. current_length &lt; max_chars instead of current_length &gt;= max_chars. Sorry if I'm wrong once again ",[" Already been sent to jas. Should be updated shortly. In the mean time changing blt to bge will fix the problem. ",[" cheers ",[" Now fixed. ",[" Just wondering the purpose of multiply by NROWS here. I changed the c code so that NSCOLS = MAXCHARS * (CHRSIZE + 1) and it was fine with handling an argument of 99 chars. ",[" See jas' answer. "],[" Yeah I'm also confused about this. Shouldn't the number of columns in the bigString matrix only need to be 1000? Why are we multiplying it by NROWS? "]]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I am not sure why, but this line is causing the error \"Write to unused memory-mapped IO address (0xfffffffc)\". I don't see the problem in this piece of code, it is part of the starter code we were given. ","answers":[" 0xfffffffc is -4 ... so $sp is zero. Check your prologues and epilogues contain correct loads and stores. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I was just wondering why NSCOLS is the product of NROWS*MAXCHARS*(CHARSIZE+1) as opposed to just MAXCHARS*(CHARSIZE+1)? This currently give us an array bigString[9][9000] as opposed to bigString[9][1000]. ","answers":[" Yes ... you're right ... ignore the problem unless it's causing you to run out of memory. At least we gave you *more* space than you need in the matrix, rather than less. And it doesn't affect the way you deal with the matrix. It's effectively just a large array of bytes, which you treat as 9 x 1000-byte segments glued together, one after the other. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" What is the final values of the delay numbers for the scroll.s file when submitting? ","answers":[" anything you want that produces a nice looking output, as long as it is still relatively fast, so it doesn't time out. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Will only the latest submission be marked ","answers":[" Yes. You can use give as many times as you want before the due date, and only the most recent will be marked. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" will we get marked down for not using nop even though MIPS works without it? ","answers":[" No, you waon't get marked down ... as long as you put a statement at the top of your program, saying that you know that the program may fail on real MIPS hardware. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Does it matter what the numbers in the delay function are set to when we submit? ","answers":[" only the output of the program is checked, as long as the delay is not long enough to time out the auto tests, delay does not matter at all. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Putchar to mips, is putchar in mips simply, print string syscall from a register which has a word stored in it? or am i missing something huge ","answers":[" The syscall number for print char is 11, with a byte stored in $a0. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I get an infinite loop with this error when I try running my program with spim. Any idea about what it means/how to fix it? ","answers":[" The address is bad? 0x00000020 looks like NULL plus 32 bytes, which won't resolve. The other address looks like a data address has been multiplied by something, plausibly 2 or 32. Ask SPIM for the disassembly, and work out what's at instruction 0x4003b0, and how you got there. QtSpim gives you the disassembly in a window; Xspim lets you step through it. It may help you to step through with some idea of what the original code was doing, to see if you've mistranslated something obvious. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I'm having trouble de bugging my code. I have gone step by step with multiple command line arguments such as \"Hello\", \"hello\" etc, but i have never even reached the point in the main function that i have written. A common error is if the first letter is lower case, the program will come up with the \"write to unused memory mapped IO address\" during the first step of the isLower prologue. Other times QtSpim will just close without telling me anything usually around a store byte command. ","answers":[" Did you download your code before the revisions were made at 2:30pm on Sun 19 August? If so you will need to replace the provided part of the main subprocess with the new code. ",[" Thanks yeah I was on the 1.4 code not the 1.5 code. I have now moved my code into the new file with not much success in debugging, i am still getting errors before it even reached my code. ",[" Not entirely true, you are responsible for the isUpper subprocess have a look at that part of the code, especially the stack frame setup and tear down. ",[" Thanks Dylan. there was an issue in my UpperCase epilogue. My debugging is moving forward now Quick question, would you have any idea why my qtspim on my mac, despite giving it lots of different command line arguments it always seems to just give a space (0x32), I can see it in the register. However when I run the program on the CSE system it receives the appropriate ascii codes. ",[" Unfortunately I have no experience running qtspim on a mac so i am no help there. "]]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" How do you use qtspim, i have gone: cat chars.s scroll.s &gt; exe.s 1521 qtspim -file exe.s and then specified \"Hello\" as the run parameter but it still executes the code to do what it should do when no command line argument has been run, where it prints \"Usage: blah blah blah\". When i run with spim i have the \"Write to unused memory-mapped IO address\" but i don't know how to solve it without qtspim. Cheers. ","answers":[" Did you download your code before the revisions were made at 2:30pm on Sun 19 August? If so you will need to replace the provided part of the main subprocess with the new code. ",[" no, i didn't ",[" Please send your code, and i'll have a look. ",[" Thanks, i just sent it. "]]]," Good Q. I am having similar problems "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Just wondering what the purpose of completing isUpper when it is just the opposite of isLower? Could we leave it out? ","answers":[" It's not \"the opposite\". The two functions are measuring different things. Maybe *in this context* it's not needed, but it would definitely be useful, and distinct from isLower in other contexts. But it was mainly there to be an easy mark tog et started ... because it is so similar to isLower. ",[" Thanks! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" I know how to implement something like display[i][j] = ' '; in MIPS, after watching this week's lab video ( https://www.soln.io/s/Hk1b3YUUQ?series_id=rJ-ufzvU... ), but I am not sure how to implement bigString[row][col + i * (CHRSIZE+1)] = ' '. Can someone explain how to do this ","answers":[" Jashank did a nice explanation of this (he was getting a value, rather than setting a value, but there's only on line different) in Tuesday's lecture towards the of the first hour. The videos are on echo360 now, and will be on YouTube later today (hopefully ",[" ok ... Jashank's explanation wasn't quite the same ... but principle of computing an offset by arithmetic on indices is the same "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi I'm a bit confused by NSCOLS being 9000. Shouldn't the number of columns in the bigString matrix only need to be 1000? Why are we multiplying it by NROWS? ","answers":[" Maybe NSCOLS is a crappy name. NSELEMS might have been better. It's easiest to allocate the entire matrix in one statement ( .space 9000 ), which includes 9 rows of 1000 bytes each, giving 9000 bytes. The alternative would be to have nine .space 1000 declarations, one for each row. ",[" Hi I noticed this as well but I am still confused by this since afterwards the label \" bigString \" is declared to be .space 81000 (NROWS * NSCOLS) which is (NROWS * NROWS * MAXCHARS * (CHRSIZE + 1)). Does this make sense? "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I've managed to get a working solution except I have a few issues with mine: 1. Using the given delay values in the C file makes my text not scroll and reducing it to 2000, 100 (for t4 and t5) makes it scroll very slowly. Is this an issue with MIPS or my code? 2. When I print a scrolling word I get my text blinker (not sure what the right word to describe it is) flying all over the place as opposed to running the C file solution which keeps it in the bottom left hand corner. Doing a diff between the outputs between the C file and MIPS one has no differences (except the MIPS has an extra line saying where my SPIM was loaded from). Once again is this an issue with my code or MIPS? Or could it potentially be my home computer (I am using the windows bash on ubuntu lol) ","answers":[" Delay: SPIM is several times (maybe ~1000x?) slower than the same code running natively. You almost certainly want to turn down the delay numbers. I gather Microsoft don't know how to implement a standard terminal. Try a real ANSI-compatible terminal emulator, like PuTTY, or hop onto a system running a real OS and try there. Otherwise, good job! ",[" Isn't that tearing because of the lag? "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" How can u use all_chars array when its not in the scroll.s code it keeps saying its undefined ","answers":[" Did you create exe.s by combining the code and data files. If you're trying to run scroll.s by itself, it will not have the all_chars array. ",[" Thank you, but how do i install spim if it doesn't let me through vlab ",[" You can find it here . "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" hi how to run the.s file with a command line argument ","answers":[" E.g. spim -file scroll.s \"Hello there\" Where \"Hello there\" is a single command-line argument ",[" but when I run qtspim -file exe.s ./scroll \"hello\" it said no such file hello? ",[" You didn't say that you were using qtspim . I haven't been able to work out how to enter command-line arguments in qtspim . If someone else has, maybe they can enlighten us. In the meantime, the simplest solution would be to modify the main program to set theString manually to whatever command-line argument string you want. Comment out all of the argc/argv processing leading up to this. ",[" You can set command line arguments from qtspim in Simulator -&gt; Run Parameters. ",[" Any idea how to get the command line argument to work when you use the 'step by step' mode? Setting the command line argument in 'run parameters' only seems to work when you run the whole program. ",[" Just set a breakpoint somewhere early in the mips code. Then you can “run the whole program”, and it will stop at the breakpoint. Once it reaches the breakpoint, you can step through the code. "]]],[" Thanks "]]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" When I compare the output of my .s file with the .c file there's a difference '&lt; Loaded: /home/cs1521/lib/spim/exceptions.s ' which I think is an extra line when running spim how could I remove that line of output to see whether there's a real difference between outputs? ","answers":[" spim -file scroll.s \"message\" | sed -e 1d &gt; observed.output "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" scroll speed too slow? ","answers":[" I just posted a Notice on this. The solution is to tweak the loop bounds in the delay function until you get acceptable scrolling speed. "," Do you know how to run the program with a command line argument? I could only manually change a0 and a1 ",[" make 1521 spim -file exe.s String isnt it this? ",[" Thanks, I think by changing the value of the delay number could help "]]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" typo in scroll.s &gt; \"String mush be &lt; \" instead of &gt; \"String must be &lt; \" ","answers":[" Your message didn't come though quite right, but I'm guessing you thought it should be &lt;= rather than &lt;. The buffer is 100 bytes long which allows for at most 99 visible chars, plus the '\\0' to terminate the strings. ",[" oh oz no I meant scroll.s has 'mush' instead of 'must' ",[" It's too late to fix it in assign1.zip. Everyone will have already downloaded it (won't they?) with the incorrect message. Maybe some people will decide to fix it ... so we'll have to allow either spelling in the test cases. "]]," oh yeah i noticed that too "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I was wondering when the MIPS code for the assignment would be released? ","answers":[" The MIPS code has already been released, read the assessment 1 spec for the download link. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I am a little confused about the part for handling the oversize error, why there a 2 comparison. Why we can not jump to main_theLength_ge_MAXCHARS directly and print the error message, but need to first jump to main_PTRs_f and then jump to main_theLength_ge_MAXCHARS . Thank you very muchhhhhhhhhh!!! ","answers":[" Because that's not what the C does :-) Remember, the assignment is to take a blob of C, and translate it to SPIM-flavoured MIPS assembly. You could deviate from a literal interpretation of the C, but you must explain why you've done what you've done. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hi, I believe there is another error in almost all the epilogue sections of all the functions except delay, where the stack pointer is assigned using load word. Thus when the function returned the stack pointer was 0 when stepped through with QtSpim. For me this meant that any time I tried to run the starter code it would simply crash QtSpim on both CSE through VLab and my machine most likely due to its use in the prologue of the next function. It was quite frustrating trying to locate this issue. After changing all 5 occurrences to load address as shown below it appears to be working correctly and no longer crashing QtSpim. ","answers":[" Additionally the given starter code also does not store theString correctly in memory. Here $t1 has not been used yet and is 0. Instead $s2 should be used as it is currently storing the relevant ch. ",[" Both these issues are now fixed in the provided code. Thanks for the heads-up! "]]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" Hello, On line 73 (i.e. the # Frame bit of the main function's text) in scroll.s, is there any particular reason why $s0 and $s1 are not included when it looks like they are included as per lines 113 and 114? Unless we're supposed to be putting that in there ourselves. Or am I misunderstanding what's going on? Thanks ","answers":[" The line ends with a ... As in and everything else, the comment isn't too important but you can update it if you wish. "]},{"tags":[{"name":"Forums"},{"name":"Assignments"},{"name":"Assignment 1"},{"name":"Assignment 1 Specification"}],"question":" How do we print the escape sequence to clear the screen? Can I still use the regular string printing syscall, even though the string isn't null-terminated? ","answers":[" The .asciiz directive is allows you to write a sequence of NUL-terminated ASCII bytes; by definition, it is a NUL-terminated string. In other words, these two declarations are equivalent: CLEAR1: .asciiz \"\\033[H\\033[2J\" CLEAR2: .byte 0x1b, 0x5b, 0x48, 0x1b, 0x5b, 0x32, 0x4a, 0x00 If you look in the data section, up around address 0x10011088 , you'll see exactly this is the case -- [0x10011080] 0x00000064 0x00002328 0x1b485b1b 0x004a325b Note that the bytes written into the section there are reversed within the word. That is, we wrote out bytes 0x1b, 0x5b, 0x48, 0x1b , but the word at 0x10011088 is 0x1b485b1b . The terminating NUL is in the word at 0x1001108c . ",[" Another quick question: How do you print individual chars (since it doesn't seem to be any of the listed syscall functions)? Edit: Nevermind, I figured out its syscall 11, which I don't think is in the lecture notes. ",[" It's worthwhile having a look at the syscalls table in the SPIM instruction set document. "]],[" Ahh, thanks. That makes sense. "]]}]}