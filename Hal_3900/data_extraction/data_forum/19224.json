{"posts":[{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history file","salience":0.15274792909622192,"theta":1},{"name":"bits","salience":0.1509549915790558,"theta":1},{"name":"line","salience":0.11983577907085419,"theta":1},{"name":"line","salience":0.11841613054275513,"theta":1},{"name":"parts","salience":0.10440655797719955,"theta":1},{"name":"buffer length","salience":0.08778239786624908,"theta":1},{"name":"length","salience":0.08365839719772339,"theta":1},{"name":"char","salience":0.05893314257264137,"theta":1},{"name":"scanf","salience":0.05185788869857788,"theta":1},{"name":"buffer char","salience":0.03712721914052963,"theta":1},{"name":"string","salience":0.03427957370877266,"theta":1}],"question":"when i try to fscanf in from the history file i have bits of the previously scanned line or am missing parts of the new line how do i avoid this i am currently placing the scanned string into a buffer char of length 100 a chosen buffer length and reusing that char for each scanf","answers":["don t use fscanf use fgets to read each line into a buffer and then use sscanf to parse the text in the buffer",["thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"memory leak","salience":0.4052647352218628,"theta":1},{"name":"line","salience":0.14562471210956573,"theta":1},{"name":"code","salience":0.13517017662525177,"theta":1},{"name":"c","salience":0.11487165838479996,"theta":1},{"name":"args","salience":0.0934925228357315,"theta":1},{"name":"t","salience":0.06949145346879959,"theta":1},{"name":"code","salience":0.03608475998044014,"theta":1}],"question":"what is this memory leak on line 299 the code i have on mymysh c is if strcmp args i lt equal my code doesn t even go to 299 on history c","answers":["at the moment all i can tell is that you are calling strdup in findexecutable and never freeing the result","its line 299 in the malloc c file you don t appear to be compiling with the g flag so it s not giving very good info"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"memory leaks","salience":0.24884089827537537,"theta":1},{"name":"child processes","salience":0.2154390662908554,"theta":1},{"name":"parent program","salience":0.1026022657752037,"theta":1},{"name":"none","salience":0.08780573308467865,"theta":1},{"name":"child","salience":0.06781098246574402,"theta":1},{"name":"memory leaks","salience":0.06306804716587067,"theta":1},{"name":"error","salience":0.06042250618338585,"theta":1},{"name":"bug","salience":0.041981715708971024,"theta":1},{"name":"im","salience":0.02947860024869442,"theta":1},{"name":"parent","salience":0.0230907890945673,"theta":1},{"name":"parent","salience":0.0230907890945673,"theta":1},{"name":"doesn","salience":0.018518498167395592,"theta":1},{"name":"t","salience":0.0178501196205616,"theta":1}],"question":"is it ok if our child processes have memory leaks when exiting my parent program has none but i find if i exit out of my child one when it s not ready eg because it has an error or w e it has memory leaks but when it exits into the parent one the parent one doesn t have any i ve been trying to fix this bug for hours and i m not sure if i could","answers":[]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"showcommandhistory","salience":0.17144769430160522,"theta":1},{"name":"history","salience":0.14158250391483307,"theta":1},{"name":"someone","salience":0.09850329160690308,"theta":1},{"name":"parameter","salience":0.05930950120091438,"theta":1},{"name":"file input","salience":0.051055844873189926,"theta":1},{"name":"showcommandhistory file histfile","salience":0.05035465210676193,"theta":1},{"name":"scaffold","salience":0.044744063168764114,"theta":1},{"name":"names","salience":0.044744063168764114,"theta":1},{"name":"showcommandhistory file","salience":0.04055193066596985,"theta":1},{"name":"option","salience":0.034738939255476,"theta":1},{"name":"output","salience":0.03078046813607216,"theta":1},{"name":"history shouldn t","salience":0.03078046813607216,"theta":1},{"name":"outf","salience":0.03040989302098751,"theta":1},{"name":"void","salience":0.03040989302098751,"theta":1},{"name":"example program","salience":0.028276829048991203,"theta":1},{"name":"command history","salience":0.024997446686029434,"theta":1},{"name":"commandhistory struct","salience":0.021381838247179985,"theta":1},{"name":"parameter","salience":0.0205001849681139,"theta":1},{"name":"something","salience":0.017073919996619225,"theta":1},{"name":"history","salience":0.015733618289232254,"theta":1},{"name":"history file","salience":0.012622947804629803,"theta":1}],"question":"i was hoping someone could explain why showcommandhistory is supposed to take a file input in the history scaffold the parameter has two different names in history h void showcommandhistory file histfile in history c void showcommandhistory file outf i thought it might be to redirect output but displaying history shouldn t ever redirect going by the example program the other option would be to read in the history from the history file but the history is already loaded into the commandhistory struct and that is all i use to display the command history am i missing something obvious or is this parameter useless","answers":["the parameter makes the savecommandhistory function easier to write",["ahh ok thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"permission issue","salience":0.3593786060810089,"theta":1},{"name":"cd","salience":0.15692761540412903,"theta":1},{"name":"cd","salience":0.15210631489753723,"theta":1},{"name":"input","salience":0.12005545198917389,"theta":1},{"name":"cd ing","salience":0.04762396588921547,"theta":1},{"name":"folder","salience":0.03682046756148338,"theta":1},{"name":"folder","salience":0.034254223108291626,"theta":1},{"name":"cd works","salience":0.03242865577340126,"theta":1},{"name":"issue","salience":0.018239596858620644,"theta":1},{"name":"code","salience":0.016040965914726257,"theta":1},{"name":"anyone","salience":0.016040965914726257,"theta":1},{"name":"home directory","salience":0.01008316595107317,"theta":1}],"question":"cd is not working when i input cd by itself and then cd ing into another folder i know i have cd works when i am in cs1521 folder but not when i m in my home directory i am wondering if it is a permission issue or my code s issue anyone else","answers":["does cd knownfolder work when you use cd by itself what do you see if the next command is pwd or ls",["all 3 of your suggestions work it is only when i try to cd file when it does not work the error is triggered by chdir returning 1",["you can t cd to a file if that s what your comment meant and if you re putting quotes around the directory name that you want to cd to that won t work either have a read of man 2 chdir do any of the errors mentioned there apply in your case",["sorry i phrased that very carelessly i meant directory and the quotations weren t part of input i ve looked up chdir but am unsure how to check the error output except for the fact chdir returns 1 if it fails which i ve used to print no such file or directory how do i print errno to output so i can find out which error i am facing thanks edit worked it out by passing absolute path to chdir instead of just relative path before",["perror will tell you which error"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"element","salience":0.2312290221452713,"theta":1},{"name":"glob","salience":0.19863928854465485,"theta":1},{"name":"tokens array","salience":0.09208675473928452,"theta":1},{"name":"strdup","salience":0.07556647807359695,"theta":1},{"name":"elements","salience":0.0627567395567894,"theta":1},{"name":"one","salience":0.05593559518456459,"theta":1},{"name":"wildcard returns","salience":0.05139892175793648,"theta":1},{"name":"things","salience":0.04609351605176926,"theta":1},{"name":"array pointer","salience":0.04285965487360954,"theta":1},{"name":"ci ve","salience":0.030590292066335678,"theta":1},{"name":"memory","salience":0.027323585003614426,"theta":1},{"name":"thanks","salience":0.027323585003614426,"theta":1},{"name":"help","salience":0.027323585003614426,"theta":1},{"name":"tokens","salience":0.019299466162919998,"theta":1},{"name":"strdup gl pathc i","salience":0.011573516763746738,"theta":1}],"question":"hi i m currently trying to add an extra element onto my tokens array to implement glob properly assuming that it was tokenised to have 2 elements ls c how would i create a new one so that i can include the wildcard returns from c i ve tried things such as the following i 3 tokens i strdup gl pathc i but i receive an illegal array pointer i thought that strdup would allocate the memory for me thanks for any help","answers":["first off gl pathc is an int gl pathv is the array you want secondly you will need to realloc the tokens array to its current size plus gl argc 1 if you take this approach both of there problems will cause an illegal array error to fix this you could realloc like i mentioned above or you could use glob nocheck as a flag to glob and call glob on all elements of the tokens array in order this will give you back a gl pathv array that you can use as your new tokens array without needing to strdup every element",["ahhh finally got it thank you dylan the only thing is i m not sure whether i should tokenise this gl pathv array or not i m currently returning gl pathv but it sometimes works and then sometimes segfaults i assume this has to do with running out of memory maybe i can return gl pathv but then i m not able to free it at the end of my program because it s not recognised as a glob t anymore alternatively i could tokenise it and send this back but i m not sure what i would pass as the second argument of tokenise there is no string that separates each token have i missed something edit i should also mention that i m using the glob append flag",["gl pathv is a tokenised array you can free it with freetokens",["ok thank you for that do you know why i would be getting this error message then when i input ls it seems to be intermittent and i can t figure out why it goes away when i create a debug loop printing out all the gl pathv strings and then comes back when i delete this loop i can t figure out why this would be happening mymysh c 234 runtime error illegal array pointer or other operation execution stopped here in filenameexpand tokens 0x60300000c850 in mymysh c at line 234 int i for i 0 tokens i null i gt glob tokens i glob tilde glob nocheck glob append 0 amp result values when execution stopped i 0 tokens i ls let me know if it s easier if i email my code",["the first call to glob shouldn t have glob append only on subsequent calls also the second last argument should be null not 0",["thank you so much dylan"]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"input ls","salience":0.15285445749759674,"theta":1},{"name":"code","salience":0.12058933824300766,"theta":1},{"name":"ls","salience":0.10579494386911392,"theta":1},{"name":"ls","salience":0.1045382022857666,"theta":1},{"name":"snail pace","salience":0.09962843358516693,"theta":1},{"name":"implementation","salience":0.08524323999881744,"theta":1},{"name":"ref imp","salience":0.08422461152076721,"theta":1},{"name":"bash","salience":0.07741951942443848,"theta":1},{"name":"mymysh","salience":0.0593513548374176,"theta":1},{"name":"thanks","salience":0.052575480192899704,"theta":1},{"name":"argument list","salience":0.03153003007173538,"theta":1},{"name":"cse","salience":0.02625039778649807,"theta":1}],"question":"hello i am confused as to how far back our code should go with this input ls my ref imp is functioning for ls but breaking on ls my implementation works up to but is snail pace on also the actual bash on cse says argument list is too long if you try to do this outside the mymysh how far back do we have to do thanks","answers":["as far as the example goes"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"file directory error","salience":0.37318772077560425,"theta":1},{"name":"xyx txt","salience":0.0865996778011322,"theta":1},{"name":"error","salience":0.08560524135828018,"theta":1},{"name":"contents","salience":0.07424357533454895,"theta":1},{"name":"cat","salience":0.0691303089261055,"theta":1},{"name":"ideas","salience":0.05862266942858696,"theta":1},{"name":"file","salience":0.05413249880075455,"theta":1},{"name":"command","salience":0.04712102189660072,"theta":1},{"name":"terminal","salience":0.043834831565618515,"theta":1},{"name":"any","salience":0.03636779636144638,"theta":1},{"name":"ones","salience":0.03319285437464714,"theta":1},{"name":"im","salience":0.019673090428113937,"theta":1},{"name":"error","salience":0.01828872784972191,"theta":1}],"question":"no such file directory error i keep getting this error when i do cat lt xyx txt even though it does execute the command and print the contents of the file to the terminal i cant seem to figure out where i m going wrong because the error isn t any of the ones i v set up using perror any ideas where i should be checking","answers":["you re passing lt as an argument to cat you need to remove lt and the file name after you do the redirection and before you execve",["fixed thank you so much"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"execve","salience":0.7260266542434692,"theta":1},{"name":"child process","salience":0.06694938242435455,"theta":1},{"name":"child process","salience":0.06095455586910248,"theta":1},{"name":"execution","salience":0.04172065481543541,"theta":1},{"name":"issue","salience":0.03745612874627113,"theta":1},{"name":"child process","salience":0.029466135427355766,"theta":1},{"name":"command nonexec execve","salience":0.020753109827637672,"theta":1},{"name":"times","salience":0.016673384234309196,"theta":1}],"question":"i understand when you call execve and it succeeds it throws away the child process after the execution however if it fails the child process is still running how do i close the child process my issue is when i type the command nonexec execve fails but it doesn t close the forked shelled therefore i have to type exit 2 times instead of 1","answers":["put a call to the exit function after you print the error message for execve failing",["thank you i was trying kill 0 sigterm and kill 0 sigkill and it wasn t giving the same output but exit 1 did it thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cat lt","salience":0.3507840037345886,"theta":1},{"name":"command","salience":0.2987020015716553,"theta":1},{"name":"input prompt","salience":0.17629671096801758,"theta":1},{"name":"error message","salience":0.17421729862689972,"theta":1}],"question":"if we were to run an invalid command such as cat lt is it necessary to print an error message and then proceed to ask for input prompt","answers":["go by what the example does"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"guarantees","salience":0.3564976453781128,"theta":1},{"name":"size","salience":0.2544655203819275,"theta":1},{"name":"home","salience":0.17994078993797302,"theta":1},{"name":"history","salience":0.12788903713226318,"theta":1},{"name":"form","salience":0.08120699226856232,"theta":1}],"question":"do we have any guarantees on the maximum size of the expanded form of the string home mymysh history","answers":["home wont be longer than max path the whole thing shouldn t be longer than max path but that s not entirely guaranteed",["where s max path defined",["include lt linux limits h gt although it is probably better to just use strlen on the return of getenv home"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"suggestions","salience":0.37841469049453735,"theta":1},{"name":"im","salience":0.14112555980682373,"theta":1},{"name":"error message","salience":0.13877201080322266,"theta":1},{"name":"error message","salience":0.12503616511821747,"theta":1},{"name":"program","salience":0.09054113179445267,"theta":1},{"name":"type","salience":0.07056525349617004,"theta":1},{"name":"executable","salience":0.05554515868425369,"theta":1}],"question":"hi in the suggestions for testing how is this particular error message generated i m asking because the error message that my program produces is different i don t get nonexec unknown type of executable","answers":["what error message do you get this issue was discussed in another comments thread",["the error message that i get is nonexec exec format error i used perror and exit 255 but the message is different the thread that you linked said that the error was manually printed does that refer to the unknown type of executable part",["clearly mymysh doesn t use perror just copy what mymysh does",["yes thank you"]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"problem","salience":0.6273391842842102,"theta":1},{"name":"function","salience":0.16820436716079712,"theta":1},{"name":"way","salience":0.10861688107252121,"theta":1},{"name":"error message","salience":0.05869345739483833,"theta":1},{"name":"haven","salience":0.03714608773589134,"theta":1}],"question":"i have a problem with isexecutable function even though it wasn t modified in any way i haven t had this error message until today","answers":["nvm i forgot a curly brace somewhere lmao"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"output","salience":0.08040483295917511,"theta":1},{"name":"answers","salience":0.0709734559059143,"theta":1},{"name":"printing errors","salience":0.0709734559059143,"theta":1},{"name":"number","salience":0.0709734559059143,"theta":1},{"name":"errors","salience":0.06344746798276901,"theta":1},{"name":"difference","salience":0.06008132919669151,"theta":1},{"name":"error message","salience":0.05606801435351372,"theta":1},{"name":"functionality","salience":0.04693404585123062,"theta":1},{"name":"error","salience":0.040225401520729065,"theta":1},{"name":"error message","salience":0.03627998009324074,"theta":1},{"name":"file","salience":0.033740490674972534,"theta":1},{"name":"reference program","salience":0.031193938106298447,"theta":1},{"name":"nonexec","salience":0.029812324792146683,"theta":1},{"name":"choice","salience":0.027449199929833412,"theta":1},{"name":"t matter","salience":0.027449199929833412,"theta":1},{"name":"file","salience":0.023159531876444817,"theta":1},{"name":"reference","salience":0.023078467696905136,"theta":1},{"name":"ne","salience":0.01965242624282837,"theta":1},{"name":"programs","salience":0.01965242624282837,"theta":1},{"name":"executable","salience":0.018821580335497856,"theta":1},{"name":"nonexec gt","salience":0.018821580335497856,"theta":1},{"name":"type","salience":0.018821580335497856,"theta":1},{"name":"tests","salience":0.018593378365039825,"theta":1},{"name":"error messages","salience":0.016261423006653786,"theta":1},{"name":"t","salience":0.016261423006653786,"theta":1},{"name":"commands","salience":0.013045994564890862,"theta":1},{"name":"list","salience":0.012887345626950264,"theta":1},{"name":"output stream","salience":0.009145761840045452,"theta":1},{"name":"t","salience":0.007158015388995409,"theta":1},{"name":"file","salience":0.007158015388995409,"theta":1},{"name":"autotests","salience":0.005737235303968191,"theta":1},{"name":"terminal","salience":0.005737235303968191,"theta":1}],"question":"regarding printing errors to stderr or the current output stream a number of answers already have indicated that when printing our own errors our choice doesn t matter however this creates a functional difference with the reference program in the tests released today trying to run the non executable file nonexec with nonexec printed an error message nonexec unknown type of executable if we run with nonexec gt ne out the error message gets printed to the ne out file instead however printing the error to stderr in our own programs causes it to be printed to the terminal rather than the file can we assume that the autotests used for marking won t be redirecting commands with error messages if we can t can we have a list of when the reference uses stderr and when it uses the current output stream to ensure that our functionality is the same","answers":["we will try to fiddle the output to ensure consistent output whether to stderr stdout i m sure we ll be able to filter the output from your program to knock it into canonical form if we can t work out how to do it then we won t use that test and we can manually check whether you ve handled non executable objects appropriately"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.33555540442466736,"theta":1},{"name":"response","salience":0.2563956379890442,"theta":1},{"name":"question","salience":0.20711027085781097,"theta":1},{"name":"cs1521 bin mymysh","salience":0.0853998214006424,"theta":1},{"name":"history","salience":0.045124780386686325,"theta":1},{"name":"sample solution","salience":0.04149714484810829,"theta":1},{"name":"thanks","salience":0.028916949406266212,"theta":1}],"question":"hi quick question about the cs1521 bin mymysh given a clean history if h is the first command typed the response is my current code does this instead is the sample solution bugged or should we try to follow that thanks","answers":["this isn t what i see when you say clean history what precisely does that mean remove the history file make it zero length edit it and have a single newline",["ah i think it was the edit with single new line causing this thanks one more quick question should sequence numbers begin at 0 or 1",["they begin at 1"]],"mine shows nothing with clean history hope this may helps"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"home","salience":0.2463952749967575,"theta":1},{"name":"string path","salience":0.18440476059913635,"theta":1},{"name":"assignment","salience":0.11429554969072342,"theta":1},{"name":"directory","salience":0.10529500246047974,"theta":1},{"name":"sn path","salience":0.09092066437005997,"theta":1},{"name":"printf","salience":0.09092066437005997,"theta":1},{"name":"thanks","salience":0.07123768329620361,"theta":1},{"name":"output","salience":0.0567471906542778,"theta":1},{"name":"code printf sn getenv home","salience":0.039783209562301636,"theta":1}],"question":"hi when creating the string path for opening mymysh history home is being changed to the assignment 2 directory after this code printf s n getenv home and printf s n path are the same output thanks","answers":["your declaration of path doesn t allocate any memory the getenv function returns a pointer to the string in the environment array the strcat function will then try to append the name of the history file to this element in the environment array the elements in the env array are fixed size it doesn t make sense to concatenate something onto the end of a full fixed size array define path as a large array copy the environment string into that array the append histfile"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"ls txt gt","salience":0.406850665807724,"theta":1},{"name":"function","salience":0.10876064002513885,"theta":1},{"name":"history","salience":0.10876064002513885,"theta":1},{"name":"fopen error","salience":0.06173572689294815,"theta":1},{"name":"ls txt gt ls","salience":0.05251089110970497,"theta":1},{"name":"execve","salience":0.04237936809659004,"theta":1},{"name":"success","salience":0.04237936809659004,"theta":1},{"name":"file redirection","salience":0.03758162632584572,"theta":1},{"name":"t output","salience":0.03313201665878296,"theta":1},{"name":"file anything","salience":0.029524749144911766,"theta":1},{"name":"bin ls","salience":0.027398331090807915,"theta":1},{"name":"address","salience":0.01709345355629921,"theta":1},{"name":"error","salience":0.016387855634093285,"theta":1},{"name":"stdout","salience":0.015504664741456509,"theta":1}],"question":"should i add the function to the history if there is an fopen error when i try and redirect stdout say i do ls txt gt so normally it wouldn t output to a file anything since there is invalid file redirection but running execve would still return 0 so it is technically a success my current output is mymysh ls txt gt ls out running bin ls fopen failure bad address returns 0 is this acceptable or should i just make it terminate upon an error","answers":["this should result in no execve happening and the command shouldn t be added to the history the running should only be printed if you are going to execve and all checks for a valid command should happen first but the line given should work",["ok thanks something must be wrong i ll give it a go"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"something","salience":0.35194525122642517,"theta":1},{"name":"cat file txt gt test","salience":0.11788207292556763,"theta":1},{"name":"text txt","salience":0.10711319744586945,"theta":1},{"name":"file txt","salience":0.09981304407119751,"theta":1},{"name":"content","salience":0.08179492503404617,"theta":1},{"name":"result","salience":0.0808287188410759,"theta":1},{"name":"pastebin com","salience":0.06663408130407333,"theta":1},{"name":"text txt","salience":0.05370384454727173,"theta":1},{"name":"parts","salience":0.04028486832976341,"theta":1}],"question":"hello when i do something like cat file txt gt test txt the result in my text txt is https pastebin com ek0sj4nm the content of file txt is https pastebin com bvrik5rq i am unsure of how i am suppose to get rid of the unwanted parts in text txt","answers":["don t use pastebin all of those crap ads it spews at you obscure the text you can paste images into your post using the little mountain icon on the command line just above",["test txt after running the cat command file txt so there s a bunch of unwanted text in test txt it should just say this is the contents of file txt",["looks like your dup2 ing too early in the program the dup2 s should be inside the child part of the fork",["i think you were right i added my redirection code in my child process if statement if pid 0 which got rid of the ending divider and return value however it is still putting in the top part of the content in my test txt file",["it still looks like you re dup2 is too early or at least the running is to late the running should be right before the fork",["hmm what i am doing is 1 forking 2 if statement to check if i am in the child 3 in that if statement in the child i print running 4 execute 5 in parent i print the ending divider",["move 3 to before the fork",["thank you i fixed it i just forgot to move the dup2 part again"],["1 print out running 2 forking 3 if statement to check i am in the child 4 in child i execute 5 print out divider outside the if statement output of text txt"]]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"line","salience":0.40163692831993103,"theta":1},{"name":"error","salience":0.23551517724990845,"theta":1},{"name":"file card expansion","salience":0.0944298803806305,"theta":1},{"name":"glob","salience":0.07977305352687836,"theta":1},{"name":"glob wildcard","salience":0.06522402912378311,"theta":1},{"name":"glob tilde","salience":0.05996241420507431,"theta":1},{"name":"time","salience":0.03195628523826599,"theta":1},{"name":"amp glob","salience":0.03150221332907677,"theta":1}],"question":"hi i m getting this error everytime i use my file card expansion twice free invalid next size normal aborted this occurs on the line that i call glob wildcard s glob nocheck glob tilde 0 amp glob struct what does this mean and how would i fix it p s it works perfectly fine the first time","answers":["sorry didn t see the rest its because you don t have the glob append flag on your glob call",["i added glob append but that didn t solve anything i noticed something else though in this loop args 0 originally ls changes midway through the loop is there something wrong with the way i m mallocing while j lt glob struct gl pathc printf args 0 s n args 0 if args i null printf i d n i args i malloc sizeof char maxline strcpy args i glob struct gl pathv j printf s n args i i j args i null",["is the args array malloced large enough the last line sets args i to null if i is 0 this will be bad"]],"your freeing something that isn t malloced run with valgrind or gdb to find out where"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"assumption","salience":0.3230845630168915,"theta":1},{"name":"usage","salience":0.19852140545845032,"theta":1},{"name":"letter","salience":0.11305571347475052,"theta":1},{"name":"command","salience":0.11305571347475052,"theta":1},{"name":"cd","salience":0.10101746767759323,"theta":1},{"name":"ls root","salience":0.05568113550543785,"theta":1},{"name":"examples","salience":0.05568113550543785,"theta":1},{"name":"cd cs1521 ls","salience":0.03990286588668823,"theta":1}],"question":"hello can we make the assumption that the correct usage of will always be as the first letter in a command what i mean valid cd me txt cd cs1521 ls invalid i can t think of any examples ls root","answers":["follow what the example does"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"zip im","salience":0.40448230504989624,"theta":1},{"name":"web 18s2 assignments","salience":0.25382137298583984,"theta":1},{"name":"something","salience":0.19950631260871887,"theta":1},{"name":"thanks","salience":0.14219000935554504,"theta":1}],"question":"hi i m unable to unzip home cs1521 web 18s2 assignments assign2 files zip i m not sure why am i doing something wrong thanks","answers":["now fixed try again"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"asdf","salience":0.3986772298812866,"theta":1},{"name":"bin mymysh","salience":0.3978196978569031,"theta":1},{"name":"io redirection shouldn t","salience":0.2035030722618103,"theta":1}],"question":"in cs1521 bin mymysh mymysh lt asdf will print invalid i o redirection shouldn t it print lt command not found","answers":["that s one way you could do it cs1521 bin mymysh does it another equally valid way copy what the reference solution does","this really just has to do with the order that things are checked in try to recreate this error"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"file","salience":0.233689546585083,"theta":1},{"name":"directory","salience":0.20855674147605896,"theta":1},{"name":"cd","salience":0.14294426143169403,"theta":1},{"name":"solution","salience":0.08499269932508469,"theta":1},{"name":"input cd","salience":0.07294899970293045,"theta":1},{"name":"cd command","salience":0.06598115712404251,"theta":1},{"name":"filename gt","salience":0.05890567973256111,"theta":1},{"name":"setup","salience":0.04112619906663895,"theta":1},{"name":"bug","salience":0.04112619906663895,"theta":1},{"name":"behaviour","salience":0.028973091393709183,"theta":1},{"name":"history command","salience":0.02075544372200966,"theta":1}],"question":"in a directory with a file named cd the provided solution executes the built in cd command upon the input cd lt some filename gt moreover it does not execute the built in history command on a similar corresponding setup does this constitute a bug or should we replicate this behaviour","answers":["in a directory with a file named cd the provided solution executes the built in cd command this is what i d expect it to do i m not sure what the precise problem is here if mymysh sees a built in like cd and h it processes that and doesn t bother looking for a command with that name in the path a file with the name cd would never be executed even if the x flag was on"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"auto tests","salience":0.18026185035705566,"theta":1},{"name":"something","salience":0.12633581459522247,"theta":1},{"name":"question","salience":0.12030066549777985,"theta":1},{"name":"thanks","salience":0.12030066549777985,"theta":1},{"name":"autotest","salience":0.057626962661743164,"theta":1},{"name":"mistakes","salience":0.052958566695451736,"theta":1},{"name":"header gt","salience":0.04784155637025833,"theta":1},{"name":"assignment","salience":0.04011364281177521,"theta":1},{"name":"course","salience":0.03224487230181694,"theta":1},{"name":"header gt john shepherd","salience":0.03185541555285454,"theta":1},{"name":"testing stuff","salience":0.02961425855755806,"theta":1},{"name":"footer gt","salience":0.023373395204544067,"theta":1},{"name":"exp","salience":0.02237679250538349,"theta":1},{"name":"format n space","salience":0.02131062187254429,"theta":1},{"name":"auto testing","salience":0.01956980861723423,"theta":1},{"name":"stage","salience":0.01774228736758232,"theta":1},{"name":"bin mymysh","salience":0.015097660943865776,"theta":1},{"name":"file","salience":0.01229249406605959,"theta":1},{"name":"sequence","salience":0.012289207428693771,"theta":1},{"name":"shell commands","salience":0.00985546875745058,"theta":1},{"name":"mymysh","salience":0.006637996062636375,"theta":1}],"question":"just poking this question will any auto tests be available before the due time thanks yinan feng 10 days ago hi i wonder can we have some autotest to make sure we do not have silly mistakes including format n space thank you in advance lt header gt john shepherd 10 days ago lt header gt once i ve finished writing an assignment for my other course i ll put up some testing stuff however but this stage you ought to be able to do testing yourself e g write a sequence of shell commands in a file then do something like mymysh lt fileofcommands gt out obs cs1521 bin mymysh lt fileofcommands gt out exp diff out obs out exp after all this is what we do for auto testing lt footer gt lt footer gt","answers":["some testing suggestions are now available auto testing no see the notice"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"output","salience":0.4804845154285431,"theta":1},{"name":"outpu","salience":0.2060694396495819,"theta":1},{"name":"error names","salience":0.16111847758293152,"theta":1},{"name":"directories","salience":0.08967047929763794,"theta":1},{"name":"suggestions","salience":0.06265709549188614,"theta":1}],"question":"my output the correct outpu i cant figure out how to get the error names correct and still have them launch to the correct directories do you have any suggestions","answers":["your code execve tokens 0 tokens envp example code execve command tokens envp the example doesn t modify the tokens array with the full path but creates a new variable while you are modifying the tokens array"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"questions","salience":0.17737028002738953,"theta":1},{"name":"redirects","salience":0.17737028002738953,"theta":1},{"name":"tokens gt lt","salience":0.09859348088502884,"theta":1},{"name":"tokens","salience":0.07455376535654068,"theta":1},{"name":"filename","salience":0.07021065801382065,"theta":1},{"name":"input","salience":0.05492362752556801,"theta":1},{"name":"output","salience":0.05492362752556801,"theta":1},{"name":"input txt gt output","salience":0.05048028379678726,"theta":1},{"name":"possibility","salience":0.04836791753768921,"theta":1},{"name":"cases","salience":0.04778739809989929,"theta":1},{"name":"command line example","salience":0.04444502666592598,"theta":1},{"name":"token","salience":0.04184691235423088,"theta":1},{"name":"command","salience":0.029428713023662567,"theta":1},{"name":"part","salience":0.014849014580249786,"theta":1},{"name":"executable","salience":0.014849014580249786,"theta":1}],"question":"several questions 1 in both redirects it is written tokens gt lt and a filename as the last two tokens does it mean that we can treat both cases separately we can ignore the possibility of input and output in the same command line example executable lt input txt gt output txt 2 in the history part what does it mean by an executable for the command first token actually exists isn t all executable counted as valid command or am i getting it wrong","answers":["1 getting both an input and output redirection is an error only one is allowed at a time 2 if the user enters a command that doesn t exists eg cta instead of cat then cta isn t added to the history"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"program","salience":0.34018009901046753,"theta":1},{"name":"pipe","salience":0.25137269496917725,"theta":1},{"name":"anywhere","salience":0.23983360826969147,"theta":1},{"name":"liz","salience":0.16861358284950256,"theta":1}],"question":"hi should i be concerned that my program works but i haven t used pipe anywhere thanks liz","answers":["you don t necessarily need the pipe function it would be useful in the challenge though",["thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"valgrind","salience":0.10346709936857224,"theta":1},{"name":"few","salience":0.09304971247911453,"theta":1},{"name":"code","salience":0.06875276565551758,"theta":1},{"name":"value","salience":0.053628258407115936,"theta":1},{"name":"follow errors","salience":0.05001000687479973,"theta":1},{"name":"stack allocation","salience":0.04569584131240845,"theta":1},{"name":"jump","salience":0.040228553116321564,"theta":1},{"name":"move","salience":0.040228553116321564,"theta":1},{"name":"value","salience":0.036879703402519226,"theta":1},{"name":"value","salience":0.03643536940217018,"theta":1},{"name":"values","salience":0.03643536940217018,"theta":1},{"name":"size","salience":0.03437412902712822,"theta":1},{"name":"size","salience":0.03437412902712822,"theta":1},{"name":"bytes","salience":0.03234126418828964,"theta":1},{"name":"size","salience":0.03157342970371246,"theta":1},{"name":"0xsome address","salience":0.03138994425535202,"theta":1},{"name":"block","salience":0.028639813885092735,"theta":1},{"name":"write","salience":0.02761327102780342,"theta":1},{"name":"d","salience":0.02761327102780342,"theta":1},{"name":"heap allocation use","salience":0.027279233559966087,"theta":1},{"name":"t","salience":0.019153369590640068,"theta":1},{"name":"doesn","salience":0.019153369590640068,"theta":1},{"name":"memory leaks","salience":0.019153369590640068,"theta":1},{"name":"memcheck","salience":0.019153369590640068,"theta":1},{"name":"errors","salience":0.01674843579530716,"theta":1},{"name":"errors","salience":0.010516543872654438,"theta":1},{"name":"code","salience":0.009833048097789288,"theta":1},{"name":"warnings","salience":0.006278773304075003,"theta":1}],"question":"when i run my code through valgrind i get a few of the follow errors uninitialised value was created by a stack allocation conditional jump or move depends on uninitialised values uninitialised value was created by a heap allocation use of uninitialised value of size 4 invalid write of size 1 address 0xsome address is 0 bytes after a block of size 200 was alloc d however my code seems to work fine no compile warnings or errors and valgrind doesn t report any memory leaks with memcheck do i need to be concerned about these errors what causes them and how can i fix them","answers":["this means that you are using a piece of memory as a condition probably in a loop or if before you assign a value it s a good idea to fix this issue even more than memory leaks as the memory you re using could have any value stored in it"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"files","salience":0.3556310534477234,"theta":1},{"name":"bin mymysh","salience":0.11192085593938828,"theta":1},{"name":"commands","salience":0.10633156448602676,"theta":1},{"name":"command txt gt exp","salience":0.09088451415300369,"theta":1},{"name":"command txt","salience":0.04736410826444626,"theta":1},{"name":"output","salience":0.0360226035118103,"theta":1},{"name":"values","salience":0.03515568748116493,"theta":1},{"name":"error","salience":0.03331570699810982,"theta":1},{"name":"shell","salience":0.02745669335126877,"theta":1},{"name":"output im","salience":0.022465020418167114,"theta":1},{"name":"output","salience":0.02114618755877018,"theta":1},{"name":"shell","salience":0.01930701546370983,"theta":1},{"name":"file","salience":0.017302516847848892,"theta":1},{"name":"bin mymysh","salience":0.016629023477435112,"theta":1},{"name":"error message cat","salience":0.013555814512073994,"theta":1},{"name":"cat","salience":0.013555814512073994,"theta":1},{"name":"type","salience":0.01191707793623209,"theta":1},{"name":"command txt gt","salience":0.010019371286034584,"theta":1},{"name":"command txt","salience":0.010019371286034584,"theta":1}],"question":"when running the commands cs1521 bin mymysh lt command txt gt exp mymysh lt command txt gt exp2 i notice that the outputted files have different values however when output is directly in the shell they are the same i understand that this is due to stderr when there is an error however based on the above output i m not sure what is in stderr when i run cs1521 bin mymysh lt command txt gt exp i get when i run mymysh lt command txt gt exp2 i get why would the given shell not output the below the error message cat unknown type of executable cat is just an empty file","answers":["try doing your redirection using mymysh lt command txt gt output txt 2 gt amp 1",["hello i checked using your command however it still gives the same output"],"your output is more correct it has to do with the order of error checking in the example i believe"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"tab","salience":0.2673991918563843,"theta":1},{"name":"questions","salience":0.058996643871068954,"theta":1},{"name":"assignment","salience":0.058996643871068954,"theta":1},{"name":"conditions","salience":0.058996643871068954,"theta":1},{"name":"home","salience":0.058996643871068954,"theta":1},{"name":"program","salience":0.058996643871068954,"theta":1},{"name":"bin mymysh","salience":0.03213123977184296,"theta":1},{"name":"sequence number","salience":0.02270786091685295,"theta":1},{"name":"bin mymysh","salience":0.022043904289603233,"theta":1},{"name":"c","salience":0.02055433765053749,"theta":1},{"name":"command","salience":0.02055433765053749,"theta":1},{"name":"commands","salience":0.019103843718767166,"theta":1},{"name":"file","salience":0.01779783144593239,"theta":1},{"name":"sleep","salience":0.017693888396024704,"theta":1},{"name":"order","salience":0.017363818362355232,"theta":1},{"name":"command","salience":0.017326444387435913,"theta":1},{"name":"txt","salience":0.01575123332440853,"theta":1},{"name":"tokenise","salience":0.015366744250059128,"theta":1},{"name":"characters","salience":0.015366744250059128,"theta":1},{"name":"redirection","salience":0.014279714785516262,"theta":1},{"name":"cat","salience":0.014279714785516262,"theta":1},{"name":"myshsh","salience":0.014106117188930511,"theta":1},{"name":"c 4","salience":0.012342617847025394,"theta":1},{"name":"command","salience":0.011018913239240646,"theta":1},{"name":"matches","salience":0.010775464586913586,"theta":1},{"name":"stdout","salience":0.010775464586913586,"theta":1},{"name":"error message","salience":0.010775464586913586,"theta":1},{"name":"errors","salience":0.010584685951471329,"theta":1},{"name":"xxxx returns","salience":0.008965661749243736,"theta":1},{"name":"lot","salience":0.007550795096904039,"theta":1},{"name":"thanks","salience":0.007550795096904039,"theta":1},{"name":"fork execve malloc","salience":0.007550795096904039,"theta":1},{"name":"bin mymysh prints","salience":0.007550795096904039,"theta":1},{"name":"bin mymysh","salience":0.006724981125444174,"theta":1},{"name":"file","salience":0.005908409599214792,"theta":1},{"name":"files","salience":0.005908409599214792,"theta":1},{"name":"txt","salience":0.005908409599214792,"theta":1},{"name":"abcd gt txt","salience":0.005908409599214792,"theta":1},{"name":"glob nocheck glob","salience":0.005389747209846973,"theta":1}],"question":"hi i have some questions about this assignment 1 will our program be tested under some special conditions like home is not set or being provided an invalid mymysh history random order or invalid sequence number invalid line 2 i notice that cs1521 bin mymysh will also tokenise t which is the horizontal tab are there any other characters that need to be used in tokenise 3 if i interrupt a command for example run sleep 10 then immediately press ctrl c both sleep and cs1521 bin mymysh will exit are we supposed to keep myshsh running when it is running a command and we press ctrl c 4 for the redirection should we treat the commands like cat lt c valid or not if c matches exactly 1 file 5 if i run a command like echo abcd gt txt and txt does not match and files with glob nocheck glob will preserve exactly txt and cs1521 bin mymysh will actually create a file called txt is this correct or not 6 should we print running xxxx returns xx to stdout or stderr 7 should the error message printed by our myshsh matches exactly what cs1521 bin mymysh prints if so what should be printed if fork execve malloc wait etc fail since these errors rarely occur thanks a lot","answers":["some of these questions can be answered by do what cs1521 bin mymysh does for those questions i ll just say follow cs1521 bin mymysh 1 will our program be tested under some special conditions like home is not set or being provided an invalid mymysh history random order or invalid sequence number invalid line no they ll be tested under normal conditions and we re not mean or stupid if we find that everyone s prrogram is failing because of some assumption we ve made we ll change the tests 2 i notice that cs1521 bin mymysh will also tokenise t which is the horizontal tab are there any other characters that need to be used in tokenise no it used to tokenise on and as well but we stopped doing that a while ago 3 if i interrupt a command for example run sleep 10 then immediately press ctrl c both sleep and cs1521 bin mymysh will exit are we supposed to keep myshsh running when it is running a command and we press ctrl c follow cs1521 bin mymysh 4 for the redirection should we treat the commands like cat lt c valid or not if c matches exactly 1 file follow cs1521 bin mymysh 5 if i run a command like echo abcd gt txt and txt does not match and files with glob nocheck glob will preserve exactly txt and cs1521 bin mymysh will actually create a file called txt is this correct or not follow cs1521 bin mymysh 6 should we print running xxxx returns xx to stdout or stderr stdout i e follow cs1521 bin mymysh 7 should the error message printed by our myshsh matches exactly what cs1521 bin mymysh prints if so what should be printed if fork execve malloc wait etc fail since these errors rarely occur you can assume that fork malloc wait won t fail they won t fail during our testing you can test an execve failure easily enough to see what cs1521 bin mymysh does it would have been useful to ask these kinds of questions two weeks ago in the period when we were tightening the spec too late to change it now"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"gt","salience":0.3269375264644623,"theta":1},{"name":"posts","salience":0.11389639973640442,"theta":1},{"name":"command something","salience":0.10840240865945816,"theta":1},{"name":"gt","salience":0.09981438517570496,"theta":1},{"name":"command txt gt output txt","salience":0.09025604277849197,"theta":1},{"name":"spec","salience":0.08055534213781357,"theta":1},{"name":"anywhere","salience":0.07408889383077621,"theta":1},{"name":"error","salience":0.05620260164141655,"theta":1},{"name":"token","salience":0.024923201650381088,"theta":1},{"name":"line","salience":0.024923201650381088,"theta":1}],"question":"do we need to handle gt and lt in the command something like lt command txt gt output txt in the spec it says having gt or lt anywhere but the 2nd last token in the line should result in an error but i ve been seeing posts that include it","answers":["no command to mymysh should contain both lt and gt the posts you ve been seeing are talking about running mymysh from bash the real shell and capturing mymysh s output"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"glob","salience":0.4520699083805084,"theta":1},{"name":"file expansion","salience":0.22396810352802277,"theta":1},{"name":"space","salience":0.20674411952495575,"theta":1},{"name":"code start","salience":0.03907262161374092,"theta":1},{"name":"maxline","salience":0.03907262161374092,"theta":1},{"name":"buffer","salience":0.03907262161374092,"theta":1}],"question":"when i used the glob to do the file expansion i don t know why sometimes an empty space or a messy code start on my buffer maxline please help me to find out thank you","answers":["it is impossible to diagnose your problem effectively with this much information note that the expanded filenames don t need to go into the command line buffer anyway they should be added as extra tokens into your tokens array the c should remain in the command like buffer and be stored in the history list perhaps you could use gdb to track how the values of tokens 0 or whatever you call you array of tokens changes during the execution of your code that does the glob expansion"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"debug region","salience":0.4303848445415497,"theta":1},{"name":"base code","salience":0.33204275369644165,"theta":1},{"name":"assignment","salience":0.23757240176200867,"theta":1}],"question":"hi should we get rid of the if debug region in the base code for the assignment","answers":["edit the makefile and use a version of cflags that doesn t have ddbug in it and then make clean make",["but for final submission does it matter whether we keep the debug portion in or should we remove it",["we re suppliying the makefile for auto testing we won t run with debugging on if you add your own debugging output remove it before submission or wrap it in ifdef dbug endif"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"issues","salience":0.15911057591438293,"theta":1},{"name":"cat command printing output","salience":0.14675326645374298,"theta":1},{"name":"file","salience":0.06178056821227074,"theta":1},{"name":"order","salience":0.057604510337114334,"theta":1},{"name":"cat","salience":0.052835967391729355,"theta":1},{"name":"command cat h gt gt","salience":0.05220290645956993,"theta":1},{"name":"cat","salience":0.04855750873684883,"theta":1},{"name":"gt gt","salience":0.04855750873684883,"theta":1},{"name":"mymysh","salience":0.04555591568350792,"theta":1},{"name":"cs1521 bin mymysh","salience":0.04500844329595566,"theta":1},{"name":"directory","salience":0.04135289043188095,"theta":1},{"name":"abc","salience":0.04135289043188095,"theta":1},{"name":"h file","salience":0.036757227033376694,"theta":1},{"name":"h file","salience":0.036757227033376694,"theta":1},{"name":"program","salience":0.027514059096574783,"theta":1},{"name":"abc","salience":0.025743873789906502,"theta":1},{"name":"way","salience":0.023197034373879433,"theta":1},{"name":"sample shell","salience":0.019314417615532875,"theta":1},{"name":"file","salience":0.01624019257724285,"theta":1},{"name":"directory","salience":0.013803025707602501,"theta":1}],"question":"hi i m experiencing issues with the cat command printing output in different order when i run the command cat h gt gt abc using cs1521 bin mymysh i get this however when i run using mymysh i get the two lines cat gt gt no such file or directory and cat abc no such file or directory are being printed before the h file in my program but after the h file in the sample shell is there any way to fix this","answers":["mymysh doesn t handle gt gt it s producing the correct response in this case","it looks like you convert cat h gt gt abc to cat gt gt abc history h when you expand wildcards you should expand in place hence it should be converted to cat history h gt gt abc"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"file name expansion function","salience":0.38172122836112976,"theta":1},{"name":"wild card","salience":0.26898249983787537,"theta":1},{"name":"wildcards","salience":0.20615561306476593,"theta":1},{"name":"thanks","salience":0.14314065873622894,"theta":1}],"question":"hey i was wondering why my file name expansion function did not expand the tilde wild card properly all the other wildcards seem to work thanks","answers":["this is what my program terminal displays",["the man page for glob explains the different options that can be used with it i think you ll find your answer there",["yep consider what simon said and also consider the hint in the assignment hint use glob nocheck glob tilde as the second parameter of the glob function"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"dcc","salience":0.16441570222377777,"theta":1},{"name":"spec","salience":0.16441570222377777,"theta":1},{"name":"error","salience":0.07335610687732697,"theta":1},{"name":"template mymysh c file","salience":0.07160899043083191,"theta":1},{"name":"error","salience":0.06058629974722862,"theta":1},{"name":"runtime error","salience":0.05503927543759346,"theta":1},{"name":"envp","salience":0.051207080483436584,"theta":1},{"name":"operation execution","salience":0.05091217905282974,"theta":1},{"name":"gt","salience":0.04937697574496269,"theta":1},{"name":"array pointer","salience":0.04323983192443848,"theta":1},{"name":"line","salience":0.04119889810681343,"theta":1},{"name":"envp","salience":0.03879054635763168,"theta":1},{"name":"execution","salience":0.03458087518811226,"theta":1},{"name":"break values","salience":0.031174810603260994,"theta":1},{"name":"workaround","salience":0.02629419043660164,"theta":1},{"name":"gcc","salience":0.021901268512010574,"theta":1},{"name":"thanks","salience":0.021901268512010574,"theta":1}],"question":"hello as per the spec i am compiling under dcc i have compiled the provided template mymysh c file and receive the following error during runtime mymysh c 59 runtime error illegal array pointer or other operation execution stopped here in main in mymysh c at line 59 if envp 0 null gt for i 0 envp i null i if strncmp envp i path 5 0 break values when execution stopped i 0 envp i this error does not happen with gcc is there a workaround for this thanks","answers":["as per the spec i am compiling under dcc that was a typo in the spec it should have been gcc and the makefile uses gcc i can t see why dcc should be complaining i d need to see the rest of your code",["i have the same issue but it occurs when i run the shell i ve tried recompiling using both dcc and gcc but same error occurs",["as i said i d need to see the rest of the code to see what you ve done wrong with envp which is the most likely cause of such an error"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"token","salience":0.13382278382778168,"theta":1},{"name":"result","salience":0.11305418610572815,"theta":1},{"name":"glob","salience":0.10359732806682587,"theta":1},{"name":"code","salience":0.09594517201185226,"theta":1},{"name":"printf","salience":0.057265739887952805,"theta":1},{"name":"strcpy tokens","salience":0.04397403448820114,"theta":1},{"name":"question glob","salience":0.04039701819419861,"theta":1},{"name":"tilde n printf","salience":0.04039701819419861,"theta":1},{"name":"tokens","salience":0.03580836206674576,"theta":1},{"name":"int","salience":0.035561300814151764,"theta":1},{"name":"path","salience":0.03259962797164917,"theta":1},{"name":"pathv","salience":0.03259962797164917,"theta":1},{"name":"value","salience":0.026254387572407722,"theta":1},{"name":"strcpy tokens","salience":0.02518189139664173,"theta":1},{"name":"tilde","salience":0.024405814707279205,"theta":1},{"name":"home directory","salience":0.02241121605038643,"theta":1},{"name":"space","salience":0.02241121605038643,"theta":1},{"name":"strcpy amp tokens","salience":0.01768173649907112,"theta":1},{"name":"array elements","salience":0.017134884372353554,"theta":1},{"name":"gl pathv","salience":0.01627872884273529,"theta":1},{"name":"im","salience":0.01516344677656889,"theta":1},{"name":"help","salience":0.011871184222400188,"theta":1},{"name":"errors","salience":0.008218030445277691,"theta":1},{"name":"tokenise function","salience":0.007449564058333635,"theta":1},{"name":"array pointer","salience":0.007449564058333635,"theta":1},{"name":"operation","salience":0.007449564058333635,"theta":1},{"name":"someone","salience":0.005616567097604275,"theta":1}],"question":"hi i m currently trying to replace the token with the result from glob edit removed code left what was most needed for the question glob t result int i printf found a tilde n printf corresponds to s n result gl pathv strcpy tokens i result gl pathv i had thought that a simple strcpy tokens i result gl pathv would be fine to pass the value across to replace the tilde with the path to the home directory i had thought this would be fine as the space has already been malloced from the tokenise function however i m receiving errors related to illegal array pointer or other operation could someone please explaing to me what i m not understanding here i have also tried using array elements e g strcpy tokens 0 result gl pathv 0 strcpy amp tokens 0 result gl pathv 0 thank you for any help","answers":["hey joe not sure but maybe when tokens was malloc d the amount of space allocated is less than you need to copy the expanded home directory into the same location you could maybe create your own char array and malloc it to copy the strings from result gl pathv or maybe pass the actual result struct itself back to main and read through the expanded paths in result gl pathv this would require a bit of tweaking though as the result gl pathv array doesn t hold the executable name and any of switches that execve needs so it needs to be massaged a bit to work using glob dooffs with glob allows x number of slots to be left available at the beginning where other strings could be copied to i e executable name",["thanks for that simon"],"please remove your code from the forum if you need to share code please do it by email the problem is size expanding a results in a much larger string than what you started with and tokens 0 hasn t got the space for it you could either 1 realloc tokens 0 2 free tokens 0 then strdup into it 3 free tokens 0 then assign it as a pointer",["sorry dylan have removed the code and left what is needed for the question to make sense let me know if i need to remove that too i ll give your suggestions a try thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.11474054306745529,"theta":1},{"name":"globbing","salience":0.045537497848272324,"theta":1},{"name":"j","salience":0.034284647554159164,"theta":1},{"name":"tokens","salience":0.0340542308986187,"theta":1},{"name":"list","salience":0.02535330504179001,"theta":1},{"name":"glob command","salience":0.024624716490507126,"theta":1},{"name":"char glob command array","salience":0.02410051040351391,"theta":1},{"name":"array","salience":0.02410051040351391,"theta":1},{"name":"paths","salience":0.02246083691716194,"theta":1},{"name":"paths","salience":0.02246083691716194,"theta":1},{"name":"elements","salience":0.02246083691716194,"theta":1},{"name":"filenameexpand function","salience":0.02246083691716194,"theta":1},{"name":"number","salience":0.02050839550793171,"theta":1},{"name":"number","salience":0.02050839550793171,"theta":1},{"name":"trouble","salience":0.02050839550793171,"theta":1},{"name":"command","salience":0.018208013847470284,"theta":1},{"name":"execution","salience":0.01803814060986042,"theta":1},{"name":"tokens","salience":0.014027678407728672,"theta":1},{"name":"glob command","salience":0.012320678681135178,"theta":1},{"name":"command","salience":0.012320678681135178,"theta":1},{"name":"command","salience":0.012320678681135178,"theta":1},{"name":"command","salience":0.012320678681135178,"theta":1},{"name":"glob command","salience":0.012320678681135178,"theta":1},{"name":"glob","salience":0.011845861561596394,"theta":1},{"name":"switch","salience":0.011493172496557236,"theta":1},{"name":"switch arguments","salience":0.009740345180034637,"theta":1},{"name":"switch arguments","salience":0.009740345180034637,"theta":1},{"name":"tokens","salience":0.008920707739889622,"theta":1},{"name":"tokens","salience":0.008920707739889622,"theta":1},{"name":"tokens","salience":0.008920707739889622,"theta":1},{"name":"strcpy glob command j tokens","salience":0.008920707739889622,"theta":1},{"name":"tokens","salience":0.008812078274786472,"theta":1},{"name":"tokens","salience":0.008812078274786472,"theta":1},{"name":"tokens","salience":0.008812078274786472,"theta":1},{"name":"tokens","salience":0.008812078274786472,"theta":1},{"name":"char","salience":0.008560308255255222,"theta":1},{"name":"element","salience":0.008560308255255222,"theta":1},{"name":"char glob command glob command size paths","salience":0.008560308255255222,"theta":1},{"name":"glob command malloc glob command size","salience":0.008560308255255222,"theta":1},{"name":"switch","salience":0.00830851960927248,"theta":1},{"name":"switch","salience":0.00830851960927248,"theta":1},{"name":"ls","salience":0.007934071123600006,"theta":1},{"name":"ls la","salience":0.007810400333255529,"theta":1},{"name":"string","salience":0.006996131036430597,"theta":1},{"name":"switch count","salience":0.00686319824308157,"theta":1},{"name":"tokens args","salience":0.00686319824308157,"theta":1},{"name":"values","salience":0.00669685797765851,"theta":1},{"name":"glob command","salience":0.006621389649808407,"theta":1},{"name":"glob command","salience":0.006621389649808407,"theta":1},{"name":"string","salience":0.006579901557415724,"theta":1},{"name":"switch arguments","salience":0.006579901557415724,"theta":1},{"name":"tokens","salience":0.006274784915149212,"theta":1},{"name":"function","salience":0.005781402811408043,"theta":1},{"name":"print statements","salience":0.005359466653317213,"theta":1},{"name":"glob command d","salience":0.005339312367141247,"theta":1},{"name":"printf","salience":0.005339312367141247,"theta":1},{"name":"loop","salience":0.005274154245853424,"theta":1},{"name":"tokens","salience":0.005030749831348658,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"glob command","salience":0.0049927071668207645,"theta":1},{"name":"debugging output","salience":0.004633667413145304,"theta":1},{"name":"switch","salience":0.003993217367678881,"theta":1},{"name":"tokens","salience":0.0039348481222987175,"theta":1},{"name":"glob command","salience":0.0034961476922035217,"theta":1},{"name":"glob command","salience":0.0034961476922035217,"theta":1},{"name":"argument","salience":0.0031997861806303263,"theta":1},{"name":"glob command size","salience":0.002834838582202792,"theta":1},{"name":"strcpy function","salience":0.002578931860625744,"theta":1},{"name":"command ls la","salience":0.002563760383054614,"theta":1},{"name":"debugging","salience":0.002563760383054614,"theta":1},{"name":"switch argument","salience":0.0024773823097348213,"theta":1},{"name":"troubleshooting","salience":0.0023522600531578064,"theta":1},{"name":"condition statement","salience":0.0023522600531578064,"theta":1},{"name":"light","salience":0.0022133702877908945,"theta":1},{"name":"glob command","salience":0.0021910162176936865,"theta":1},{"name":"glob command","salience":0.0021910162176936865,"theta":1},{"name":"line","salience":0.002066159388050437,"theta":1},{"name":"part","salience":0.002066159388050437,"theta":1},{"name":"glob command iji","salience":0.0018956621643155813,"theta":1},{"name":"mallocing glob command","salience":0.0018217869801446795,"theta":1},{"name":"above","salience":0.0017305634682998061,"theta":1},{"name":"glob command array","salience":0.001453520031645894,"theta":1},{"name":"element","salience":0.0013533495366573334,"theta":1},{"name":"mymysh","salience":0.0013431215193122625,"theta":1},{"name":"issue","salience":0.001272231456823647,"theta":1},{"name":"loop","salience":0.0012343181297183037,"theta":1},{"name":"something","salience":0.001084101153537631,"theta":1},{"name":"memory allocation","salience":0.001084101153537631,"theta":1},{"name":"anyone","salience":0.001084101153537631,"theta":1},{"name":"content","salience":0.0010761958546936512,"theta":1},{"name":"strings","salience":0.001057337736710906,"theta":1},{"name":"strings","salience":0.0010316232219338417,"theta":1},{"name":"garbage","salience":0.0009633273584768176,"theta":1},{"name":"array","salience":0.0009150482364930212,"theta":1},{"name":"two","salience":0.0008732064161449671,"theta":1}],"question":"hi i am having trouble with the char glob command array i am using within the filenameexpand function to hold the possibly larger list of tokens to return back to main for execution i can t seem to populate it with more than two string elements i malloc the array as below based on the number of expanded paths in the paths struct after globbing plus the number of switch arguments identified in tokens args starting with plus an extra element to hold the command being executed i have confirmed the values used to calculate glob command size are correct while debugging this char glob command glob command size paths gl pathc switch count 1 glob command malloc glob command size sizeof char i am testing with a command such as ls l a intentionally with multiple switch arguments and i am able to copy the first string the command from tokens to glob command strcpy glob command 0 tokens 0 debugging output from above command was glob command 0 is now ls but when i then use a loop to copy all switch arguments starting with from tokens to glob command i can only copy one string before the function breaks for i 1 j 1 tokens i null i printf current j is d and i is d n j i printf current tokens d s n i tokens i if tokens i 0 printf found switch n strcpy glob command j tokens i printf copied switch s n tokens i printf glob command d is now s n i glob command i j i have performed debugging by adding print statements and can confirm the second switch a argument in the command ls l a is matched by the the line if tokens i 0 but the strcpy function following that condition statement fails glob command 0 is now ls current j is 1 and i is 1 current tokens 1 l found switch copied switch l glob command 1 is now l current j is 2 and i is 2 current tokens 2 a found switch returns 0 mymysh as part of my troubleshooting after mallocing glob command i printed its content expecting all strings in the array to be null but found the first two seemed to hold garbage as shown below and i am not sure if this is related to why i can only copy two strings the command to execute and the first matched switch argument to it or not glob command 0 is hd x x x w w w w w w w w glob command 1 is hd x x x w w w w w w w w glob command 2 is null glob command 3 is null glob command 4 is null glob command 5 is null glob command 6 is null glob command 7 is null glob command 8 is null glob command 9 is null glob command 10 is null glob command 11 is null glob command 12 is null glob command 13 is null glob command 14 is null glob command 15 is null glob command 16 is null glob command 17 is null glob command 18 is null glob command 19 is null i think the issue has something to do with memory allocation but i can t work out why the above for loop fails when trying to added a third element to the glob command array can anyone shed any light on this for me","answers":["the problem your having is how to alloc a 2d array glob commands is an array of pointers but but each element of the array also needs to be alloced as an array of chars now filenameexpand takes a char so you can pass tokens directly into it and if you give glob the glob nocheck flag glob will do all if this for you as glob mallocs the strings it returns",["so do i need to malloc within a loop first mallocing the outer array and then traversing through it to malloc each inner array",["for a array of strings normally yes but the strings returned from glob are already malloced so you shouldnt need to",["thanks dylan i was original using the array within the glob struct but it seemed a bit fiddly as i needed to use realloc to get it working properly so i decided to rewrite this section by copying the content out of the glob output into a char array i seemed to have got it working now though thanks for your help"]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"permission","salience":0.3182682693004608,"theta":1},{"name":"o","salience":0.22212785482406616,"theta":1},{"name":"file","salience":0.1070903092622757,"theta":1},{"name":"outputfilename o","salience":0.09138677269220352,"theta":1},{"name":"permission","salience":0.06933987885713577,"theta":1},{"name":"output file","salience":0.06771984696388245,"theta":1},{"name":"file","salience":0.05735557898879051,"theta":1},{"name":"advance","salience":0.027539659291505814,"theta":1},{"name":"permission","salience":0.02160840481519699,"theta":1},{"name":"cat command","salience":0.01756342314183712,"theta":1}],"question":"permission denied with open o creat hi i was trying to use open outputfilename o creat to have a output file to redirect but by perror it showed permission denied the file was created but showed permission denied again when using cat command to inspect this file how could this be solved thank you in advance","answers":["i am still trying to perfect file output redirection myself but i think you ll find you need to tweak your permission flags when calling open have a look at man 2 open and there are a bunch of options you can use with o create to set the permissions on the file you create"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.18158286809921265,"theta":1},{"name":"notation","salience":0.13151729106903076,"theta":1},{"name":"command","salience":0.11678285151720047,"theta":1},{"name":"strings","salience":0.08818299323320389,"theta":1},{"name":"assignment","salience":0.07482364773750305,"theta":1},{"name":"linux bash command","salience":0.07449577003717422,"theta":1},{"name":"sfihkdff","salience":0.06828824430704117,"theta":1},{"name":"cs1521 bin mymysh","salience":0.0609092153608799,"theta":1},{"name":"example","salience":0.06018238887190819,"theta":1},{"name":"sfihkdff command","salience":0.056553058326244354,"theta":1},{"name":"bash","salience":0.0481908842921257,"theta":1},{"name":"spec","salience":0.019715603440999985,"theta":1},{"name":"coommand","salience":0.01877519115805626,"theta":1}],"question":"when i run the special notation for re executes the previous command with additional strings behind for example sfihkdff in the cs1521 bin mymysh shell it still re executes the previous command however from the linux bash command it doesn t execute the previous coommand and shows bash sfihkdff command not found so for this assignment which spec should i follow","answers":["mymysh isn t bash you should stick with the example and just ignore everythong folloing"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"feature","salience":0.20593711733818054,"theta":1},{"name":"cd home","salience":0.18533918261528015,"theta":1},{"name":"cd","salience":0.18533918261528015,"theta":1},{"name":"bin mymysh","salience":0.14416192471981049,"theta":1},{"name":"feature","salience":0.13151758909225464,"theta":1},{"name":"code","salience":0.0818561464548111,"theta":1},{"name":"spec","salience":0.06584887951612473,"theta":1}],"question":"when i run cs1521 bin mymysh with cd it automatically cd home but this feature is not the spec should we modify this feature in our code","answers":["your shell should do this yes"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"return status","salience":0.6781473755836487,"theta":1},{"name":"reason","salience":0.12577325105667114,"theta":1},{"name":"child process","salience":0.05125611275434494,"theta":1},{"name":"reference soln","salience":0.04026564583182335,"theta":1},{"name":"times","salience":0.03510323166847229,"theta":1},{"name":"will","salience":0.024801766499876976,"theta":1},{"name":"problems","salience":0.024801766499876976,"theta":1},{"name":"soln","salience":0.019850846379995346,"theta":1}],"question":"for some reason the return status of my child process is always 256 times larger than that of the reference soln is it safe to just divide mine by 256 or will that potentially cause problems later reference soln my soln","answers":["you need to use the wexitstatus function described by man 2 wait",["ahh i see thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"memory","salience":0.4221746027469635,"theta":1},{"name":"history functions","salience":0.2608455419540405,"theta":1},{"name":"memory leaks","salience":0.13392381370067596,"theta":1},{"name":"free s","salience":0.10147275775671005,"theta":1},{"name":"cleancommandhistory","salience":0.08158329129219055,"theta":1}],"question":"is cleancommandhistory needed if i free allocated memory as i go along in my other history functions or is it recommended to write the free s for cleancommandhistory to make it easier when marking memory leaks","answers":[]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"mymysh","salience":0.20245669782161713,"theta":1},{"name":"x","salience":0.13499779999256134,"theta":1},{"name":"commands","salience":0.11950594931840897,"theta":1},{"name":"example","salience":0.11585336178541183,"theta":1},{"name":"history file","salience":0.10479655116796494,"theta":1},{"name":"command x","salience":0.0905633270740509,"theta":1},{"name":"sequence number","salience":0.05403097718954086,"theta":1},{"name":"sequence number","salience":0.05403097718954086,"theta":1},{"name":"history file","salience":0.040322888642549515,"theta":1},{"name":"history file","salience":0.02843942865729332,"theta":1},{"name":"versions","salience":0.02286372520029545,"theta":1},{"name":"syntax","salience":0.01606915332376957,"theta":1},{"name":"code thanks","salience":0.01606915332376957,"theta":1}],"question":"hi the example mymysh returns no command x for x at a sequence number 20 less than the highest sequence number however for my history file i have saved all historical commands such that 1 to 999 can all be accessed providing they exist do i have to make them not exist for max 20 furthermore is it possible to create a differently named history file such as mymysh history new so that if prior versions of the history file with invalid syntax exists it does not effect your code thanks","answers":["the internal history and the history file should both only have a max of maxhist 20 items in them history shouldn t stop at 999 either any positive integer should work"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.620542049407959,"theta":1},{"name":"parts","salience":0.15207400918006897,"theta":1},{"name":"code","salience":0.15207400918006897,"theta":1},{"name":"initcommandhistory function","salience":0.07530990242958069,"theta":1}],"question":"hi i keep getting this error i ve commented some parts of my code out and it runs fine if i comment out my initcommandhistory function","answers":["you are trying to free unallocated memory run gdb or valgrind to find where"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"message","salience":0.12753775715827942,"theta":1},{"name":"command","salience":0.12455747276544571,"theta":1},{"name":"file","salience":0.09305034577846527,"theta":1},{"name":"command txt gt exp","salience":0.09192060679197311,"theta":1},{"name":"file","salience":0.08660433441400528,"theta":1},{"name":"terminal","salience":0.08610808849334717,"theta":1},{"name":"idea","salience":0.08574730157852173,"theta":1},{"name":"directory","salience":0.07587572932243347,"theta":1},{"name":"error message input redirection","salience":0.07496904581785202,"theta":1},{"name":"terminal","salience":0.0600145161151886,"theta":1},{"name":"hint","salience":0.04736914113163948,"theta":1},{"name":"file","salience":0.04624566063284874,"theta":1}],"question":"hi when i was running cs1521 bin mymysh lt command txt gt exp for wc command i found error message input redirection no such file or directory will be printed in terminal but not exp file all other message printed in file except this i have no idea about when it should be printed in terminal rather than in file can i get some hint about it","answers":["if you want to capture all of the output from mymysh try the command cs1521 bin mymysh lt command txt gt exp 2 gt amp 1","looks like that message is being printed to stderr not stdout this is because this error is produced by perror not printf"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cat","salience":0.15047061443328857,"theta":1},{"name":"t","salience":0.08086708188056946,"theta":1},{"name":"file","salience":0.07301457971334457,"theta":1},{"name":"directory","salience":0.058775924146175385,"theta":1},{"name":"input redirection","salience":0.05807088688015938,"theta":1},{"name":"program","salience":0.05668557807803154,"theta":1},{"name":"sample solution","salience":0.053248755633831024,"theta":1},{"name":"myout file","salience":0.04963946342468262,"theta":1},{"name":"file doesn t","salience":0.043719254434108734,"theta":1},{"name":"stdout","salience":0.04038184508681297,"theta":1},{"name":"printing","salience":0.04038184508681297,"theta":1},{"name":"sample solution","salience":0.0374620221555233,"theta":1},{"name":"solution","salience":0.0374620221555233,"theta":1},{"name":"fork","salience":0.037088777869939804,"theta":1},{"name":"error message","salience":0.037088777869939804,"theta":1},{"name":"import glass","salience":0.03490954637527466,"theta":1},{"name":"z5112735","salience":0.02855963259935379,"theta":1},{"name":"export glass","salience":0.0245126411318779,"theta":1},{"name":"difference","salience":0.02362433448433876,"theta":1},{"name":"sample solution","salience":0.01653307117521763,"theta":1},{"name":"output","salience":0.010397778823971748,"theta":1},{"name":"cd","salience":0.007105575874447823,"theta":1}],"question":"when i run mymysh lt test0 gt myout where test0 has cat lt doesntexist c my program will have input redirection no such file or directory in the myout file with the sample solution the out file doesn t have it but instead prints it to stdout i have tried moving the printing of the error message inside the fork and outside but still doesn t reproduce the output of the sample solution also when i run cd on my solution i get import glass 2 z5112735 on the sample solution i get tmp amd glass export glass 2 z5112735 is this difference significant","answers":["on my solution i get import glass 2 z5112735 on the sample solution i get tmp amd glass export glass 2 z5112735 is this difference significant did you run both commands on the same machine",["i ran it on the same machine but i had opened two terminal windows",["were the shells in both windows running on the same machine in any case the difference doesn t matter",["yes the shells were running on the same machine i tried it again with just one terminal and ran the same tests the only difference was once again the result of cd surprisingly when i cd in my own shell and then pwd the directory printed is tmp amd glass export glass 2 z5112735 so the only time i get the weird import glass 2 z5112735 is the result after calling the cd command i assume from what you re saying that this difference won t affect the autotesting of my shell then"]]],"if the redirect isn t working on the sample then the sample is printing to stderr you should end up in the same place how are you getting the home directory",["they both seem to be the home directory ls providers the same result i used the following command to goto home chdir getenv home"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"errors","salience":0.4184350371360779,"theta":1},{"name":"text","salience":0.2308022528886795,"theta":1},{"name":"make","salience":0.1398005187511444,"theta":1},{"name":"cse machine","salience":0.0585860013961792,"theta":1},{"name":"text","salience":0.05173376202583313,"theta":1},{"name":"history","salience":0.03654876723885536,"theta":1},{"name":"issue","salience":0.027175452560186386,"theta":1},{"name":"help","salience":0.022655729204416275,"theta":1},{"name":"mymysh c","salience":0.014262491837143898,"theta":1}],"question":"running make produces very strange errors which i don t understand nor know how to fix the white text is a cse machine and the green text is my mac i have included history h in mymysh c and in history c so i am not sure what the issue is pls help","answers":["why do you have a main function in history o to me it looks like an issue with your history o have you tried make clean and then make",["i had copy and pasted mymysh c into history c facepalm"],"include history h included in both files mymysh c amp history c otherwise you might need to download all the new files again hope it helps mate"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"question","salience":0.17104117572307587,"theta":1},{"name":"sample shell","salience":0.09150847047567368,"theta":1},{"name":"command","salience":0.08736331760883331,"theta":1},{"name":"return value","salience":0.08623041212558746,"theta":1},{"name":"redirect input output","salience":0.06255655735731125,"theta":1},{"name":"build","salience":0.06255655735731125,"theta":1},{"name":"sample shell","salience":0.03597917780280113,"theta":1},{"name":"shell","salience":0.03597917780280113,"theta":1},{"name":"part","salience":0.02555638551712036,"theta":1},{"name":"sample shell","salience":0.024751998484134674,"theta":1},{"name":"shell","salience":0.024454031139612198,"theta":1},{"name":"history","salience":0.024285228922963142,"theta":1},{"name":"command","salience":0.023578863590955734,"theta":1},{"name":"stdout","salience":0.022730687633156776,"theta":1},{"name":"command","salience":0.02165973000228405,"theta":1},{"name":"file part","salience":0.01905631646513939,"theta":1},{"name":"file","salience":0.01905631646513939,"theta":1},{"name":"linux","salience":0.018716512247920036,"theta":1},{"name":"shell","salience":0.017194639891386032,"theta":1},{"name":"ls gt","salience":0.016664549708366394,"theta":1},{"name":"abc","salience":0.016664549708366394,"theta":1},{"name":"linux system","salience":0.01646282710134983,"theta":1},{"name":"running xxxxxxx","salience":0.015302211046218872,"theta":1},{"name":"part","salience":0.014400995336472988,"theta":1},{"name":"command","salience":0.011495234444737434,"theta":1},{"name":"file","salience":0.010104998014867306,"theta":1},{"name":"command","salience":0.007219478953629732,"theta":1},{"name":"half","salience":0.00626508379355073,"theta":1},{"name":"stdout","salience":0.006079015787690878,"theta":1},{"name":"line","salience":0.005085497163236141,"theta":1}],"question":"couple question about the sample shell 1 redirect input output is not working for the build in command pwd history in the sample shell but it is working for the normal shell in the linux system so i choose to stick with the normal shell of linux is that ok 2 in the sample shell provided for command like ls gt abc since the stdout is redirect to the file part of command like running xxxxxxx is also being redirected to the file as well so the stdout of the command left to be half of the line and the return value which looks weird to me so instead in my own shell i preserve the whole running part and only redirect the part that is produced by the command to the file is it okay to do that","answers":["so i choose to stick with the normal shell of linux is that ok no the spec asked you to implement a clone of the reference shell not a clone of the real shell","redirection should not work for inbuilts it s in the spec only the outup of the command itself should be redirected that s a bug in the example"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"code","salience":0.4264509081840515,"theta":1},{"name":"terminal","salience":0.1965913623571396,"theta":1},{"name":"output","salience":0.13491639494895935,"theta":1},{"name":"output","salience":0.12414968013763428,"theta":1},{"name":"hint","salience":0.07545150071382523,"theta":1},{"name":"terminal","salience":0.04244014620780945,"theta":1}],"question":"hi my code works well on terminal but when i am trying to put the output to file out obs it have different output from what i have in terminal i can not figure out why can i get some hint on that","answers":["ls output output one file per line when not outputting to a terminal this is intended behavior the order is wrong because of buffering but this is the correct output for this assessment and the example program does the same",["this is what my program ptint",["but my file even not print running bin ls makefile b txt cmd txt history h mymysh mymysh o out obs a txt c txt history c history o mymysh c out exp these lines which suppose to be printed it works well in terminal i have no idea why it does not work when print to a file"]],["but my file even not print running bin ls makefile b txt cmd txt history h mymysh mymysh o out obs a txt c txt history c history o mymysh c out exp these lines which suppose to be printed it works well in terminal i have no idea why it does not work when print to a file",["ok so only two lines are missing running and this could be because your printing this inside the fork not before it other than that i would need to see your code",["yes i do it inside the fork so we must do it before the fork but these things listed must be inside the fork print by execve function makefile b txt cmd txt history h mymysh mymysh o out obs a txt c txt history c history o mymysh c out exp so how can we print that before fork i miss them as well",["that is printed by ls and is being printed at the top of the file one line for each item and that is expected",["thank you very much dylan i just have another 2 questions 1 when we use history command the definitly cs1521 bin mymysh will behave different from our owns since the command stored in txt file is different and that does not matter right 2 the struct returned in glob function are different for mac and cse serve one according to man i search on google almost all answers follows the mac one rather than cse one do we need to use the cse one and will the test run in this environment",["i don t quite understand your first question you program needs to run on cse use man in the cse server as your guide to glob",["when we use mymysh lt command txt gt out obs cs1521 bin mymysh lt command txt gt out exp diff out obs out exp command to check whether out output is same as the cs1521 bin mymysh all other command will be fine exccept the h or history command the output for these two will be different since they have different history and create mymysh history file in different place so that is supposed to happen and does not matter right thank you in advance",["the history file is the same so that s not a problem the shell never prints its own path so that shouldn t be a problem either",["but when testing by mymysh lt command txt gt out obs cs1521 bin mymysh lt command txt gt out exp diff out obs out exp they will not run at the same time so when we first run mymysh some history recorded and when we start to run cs1521 bin mymysh some history have already recorded in the history file so if we run h command will we have different result thank you in advance"]]]]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"directory","salience":0.5934449434280396,"theta":1},{"name":"terminal","salience":0.18130987882614136,"theta":1},{"name":"mymysh","salience":0.10748116672039032,"theta":1},{"name":"file","salience":0.08380615711212158,"theta":1},{"name":"someone","salience":0.0339578352868557,"theta":1}],"question":"when i run mymysh on terminal it returns no such file or directory can someone tell me why that happened please","answers":["you need to run make first"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"redirect part","salience":0.5366200804710388,"theta":1},{"name":"gt","salience":0.19597692787647247,"theta":1},{"name":"gt gt","salience":0.1400124430656433,"theta":1},{"name":"advance","salience":0.08019326627254486,"theta":1},{"name":"something","salience":0.047197263687849045,"theta":1}],"question":"for redirect part we only need to handle lt and gt write to read from we do not need to handle something like gt gt append right thank you in advance","answers":["you don t need to handle append no"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"copy","salience":0.7074333429336548,"theta":1},{"name":"trim function","salience":0.2925666272640228,"theta":1}],"question":"can we make a copy of the trim function in history c","answers":["definitely although as the history lines are in a known format you don t necessarily need it"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"io redirection","salience":0.3434998691082001,"theta":1},{"name":"mymysh","salience":0.19093644618988037,"theta":1},{"name":"c files","salience":0.15681380033493042,"theta":1},{"name":"terminal","salience":0.13311508297920227,"theta":1},{"name":"symbols","salience":0.12258311361074448,"theta":1},{"name":"bug","salience":0.05305168032646179,"theta":1}],"question":"when i type into the given mymysh i get the c files printed to terminal as well as some random symbols i m assuming this is a bug so should the correct output be invalid i o redirection","answers":["gt gt isn t a recognized symbol so it is just passed to cat as a file name",["o thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"sequence number","salience":0.5761951804161072,"theta":1},{"name":"increment","salience":0.14936116337776184,"theta":1},{"name":"command","salience":0.14936116337776184,"theta":1},{"name":"problems","salience":0.07326803356409073,"theta":1},{"name":"implementation","salience":0.051814451813697815,"theta":1}],"question":"should the sequence number still increment with an invalid command even if it is not saved to history i had assumed not but have just realised i m not sure and this would definitely cause problems with my current implementation","answers":["i believe an invalid command does not increment the sequence number as it s not placed into history you can check with the testing shell at cs1521 bin mymysh"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"directory","salience":0.6408394575119019,"theta":1},{"name":"history file","salience":0.07252082973718643,"theta":1},{"name":"home histfile","salience":0.06221533939242363,"theta":1},{"name":"nothing","salience":0.051423847675323486,"theta":1},{"name":"ls","salience":0.046180374920368195,"theta":1},{"name":"histfile","salience":0.04350690543651581,"theta":1},{"name":"something","salience":0.024667920544743538,"theta":1},{"name":"thanks","salience":0.024667920544743538,"theta":1},{"name":"home directory","salience":0.01766572706401348,"theta":1},{"name":"command","salience":0.016311651095747948,"theta":1}],"question":"what would be the directory that contains the mymysh history file i tried using home histfile but nothing seems to be created after i used the ls a command in the home directory are we supposed to use histfile or something else instead thanks","answers":["in your cse terminal type cd then pwd that should be your home directory otherwise you can use this command to print out your home directory printf your home is s n getenv home",["got it thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"input redirection","salience":0.1473342329263687,"theta":1},{"name":"problems","salience":0.1473342329263687,"theta":1},{"name":"shell","salience":0.09519046545028687,"theta":1},{"name":"shell","salience":0.06356942653656006,"theta":1},{"name":"type","salience":0.05121157690882683,"theta":1},{"name":"mymysh","salience":0.04640943929553032,"theta":1},{"name":"something","salience":0.04431772604584694,"theta":1},{"name":"mymysh","salience":0.04014982655644417,"theta":1},{"name":"set","salience":0.04001341760158539,"theta":1},{"name":"lines","salience":0.04001341760158539,"theta":1},{"name":"call","salience":0.03521936759352684,"theta":1},{"name":"shell prompt","salience":0.03479508310556412,"theta":1},{"name":"stdout","salience":0.0323529876768589,"theta":1},{"name":"commands","salience":0.029716655611991882,"theta":1},{"name":"forum post","salience":0.024460555985569954,"theta":1},{"name":"im","salience":0.024460555985569954,"theta":1},{"name":"xxx","salience":0.024460555985569954,"theta":1},{"name":"set","salience":0.01953059807419777,"theta":1},{"name":"problem","salience":0.01953059807419777,"theta":1},{"name":"help","salience":0.01717090792953968,"theta":1},{"name":"lines","salience":0.01197419036179781,"theta":1},{"name":"test gt","salience":0.010784182697534561,"theta":1}],"question":"when i try to run my shell with an input redirection these problems don t exist when i run the shell and type commands in e g mymysh lt test the shell prompt gets randomly printed as seen in the mymysh right before the second set of lines for each call i read something online about needing to fflush stdout before forking to fix this furthermore when i try to then output redirect e g mymysh lt test gt a not only are the lines jumbled similar to a previous forum post but i m also missing the mymysh running xxx as well as the first set of any help on this problem would be much appreciated","answers":["are you printing running and inside your fork if so then that s your second problem moving all prints before the fork will probably fix the first problem too",["yep that fixed it why does it not work as expected when we print inside the fork"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"spec","salience":0.42419156432151794,"theta":1},{"name":"read","salience":0.21192631125450134,"theta":1},{"name":"commands section","salience":0.08802219480276108,"theta":1},{"name":"command","salience":0.07481145113706589,"theta":1},{"name":"command executable","salience":0.056388091295957565,"theta":1},{"name":"test","salience":0.04288407787680626,"theta":1},{"name":"pathname","salience":0.04040383920073509,"theta":1},{"name":"path","salience":0.037599340081214905,"theta":1},{"name":"path","salience":0.023773139342665672,"theta":1}],"question":"for the read and write execute commands section the spec says before the command it should show the full pathname of the command executable for a relative path ie test should it show that or the absolute path","answers":["if it requires a path search then you print the full path if you are given a relative path ie starts with or then just print it as is",["just on this point wouldn t something starting with be an absolute path not a relative path would it be more correct to say that in the case of this particular requirement of the assignment that a relative path is something that either starts with or or contains but doesn t start with an i am trying to clarify this so also i can be sure i achieve the correct outcome here thanks",["true if you are given a relative or absolute path print what your given if you need to search path ie you r given a command name only eg cat then print the full path",["thanks for the clarification"]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"hi","salience":0.5712653994560242,"theta":1},{"name":"way","salience":0.23533295094966888,"theta":1},{"name":"execve function","salience":0.1152341291308403,"theta":1},{"name":"case","salience":0.07816752791404724,"theta":1}],"question":"hi is there some simple way to make execve function fail i want to test that case","answers":["try to run a normal text file with the executable bit set chmod u x file txt",["do you mean this it seems like running well",["dylan meant try to execute the file whose mode you changed try running file txt",["hi when i run that mysh got error message exec format error but sample got unknow type of executable i got the message from errno i have no idea about how to get the same error as sample",["by the way what number should i return when execve fail i did exit errno should i do this",["the error is manually printed exit 255"]]],["oh yeah i got it thank you"]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.2352885752916336,"theta":1},{"name":"ls c","salience":0.159624844789505,"theta":1},{"name":"ls","salience":0.13726213574409485,"theta":1},{"name":"ls","salience":0.13566766679286957,"theta":1},{"name":"anyone","salience":0.12943032383918762,"theta":1},{"name":"file","salience":0.05830205976963043,"theta":1},{"name":"picture","salience":0.054891638457775116,"theta":1},{"name":"thanks","salience":0.054891638457775116,"theta":1},{"name":"dicrectory","salience":0.034641098231077194,"theta":1}],"question":"hi when i run command such as ls c or ls c print out also ls cannot access c no such file or dicrectory can anyone help me please picture below thanks","answers":["are you using the glob function to expand c",["yes dylan",["are you inserting the expanded file names back into the token string in place of c and c before execve ing the ls command",["i have inserted the expanded file name command after execve the ls command but i still get the same problem thank you",["you re clearly not inserting the glob results into the token string because the command line arg you pass to ls is c what you should be passing as args to ls is glob c history c mymysh c etc"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history c","salience":0.3437615633010864,"theta":1},{"name":"arguments","salience":0.16123217344284058,"theta":1},{"name":"arguments","salience":0.11248220503330231,"theta":1},{"name":"functions","salience":0.11116967350244522,"theta":1},{"name":"functions","salience":0.10359545797109604,"theta":1},{"name":"history h file","salience":0.0695614367723465,"theta":1},{"name":"thanks","salience":0.04909874498844147,"theta":1},{"name":"advance","salience":0.04909874498844147,"theta":1}],"question":"for history c are we allowed to change the arguments for some functions since if i change the arguments for some functions i need to change the history h file as well is that allowed thanks in advance","answers":["as you give history h you can modify anything in either file"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"something","salience":0.25873658061027527,"theta":1},{"name":"bin mymysh","salience":0.2383875548839569,"theta":1},{"name":"acceptance","salience":0.22367271780967712,"theta":1},{"name":"n","salience":0.17811410129070282,"theta":1},{"name":"program","salience":0.059508875012397766,"theta":1},{"name":"file","salience":0.04158017784357071,"theta":1}],"question":"hi i get something like this in cs1521 bin mymysh as well as my own program so this is acceptance right if there is no n at the end of the file it will looks like it","answers":["this just means the file is incorrectly formatted this is the intended output"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"reference solution","salience":0.27617543935775757,"theta":1},{"name":"output","salience":0.25995901226997375,"theta":1},{"name":"file","salience":0.21346159279346466,"theta":1},{"name":"output","salience":0.18519103527069092,"theta":1},{"name":"order","salience":0.0652129277586937,"theta":1}],"question":"when running the reference solution and redirecting the output to a file should the order of the output be changed","answers":["are you outputting anything to stderr sorry this is the referance idealy this probably shouldn t happen it has to do with buffering ls is smart and knows then its outputting to a file and changes how it outputs mymysh isn t that smart there is a work around but it s complicated and uncomfortable",["hey i m still confused about what is expected for testing for example test02 ls gt xyz cat lt xyz rm xyz on cse machine mymysh lt test02 gt myout cs1521 bin mymysh lt test02 gt theirout myout mymysh running bin ls returns 0 mymysh running bin cat makefile history c history h history o mymysh mymysh c mymysh o myout test01 test02 test02 amp testdir testhist testhist c theirout xyz returns 0 mymysh running bin rm returns 0 mymysh mymysh theirout makefile history c history h history o mymysh mymysh c mymysh o myout test01 test02 test02 amp testdir testhist testhist c theirout xyz mymysh running bin ls returns 0 mymysh running bin cat returns 0 mymysh running bin rm returns 0 mymysh mymysh as you can see the output of ls is written to the file at different times does this mean i ll lose marks on the autotests should i change my program so that it behaves the same as the model solution shell at all times include output redirection of this form",["your output is in the correct place so you won t lose marks the example output is what i would expect because of buffering how did you fix that issue",["i got this output by using fflush stdout immediately after any text is written to stdout during the execution of main is that ok",["don t fflush you are circumventing the buffering being done the out of order order of output is expected when mymysh is redirected to a file",["gotcha thanks"]]]]],["also not that ls has different formatting when redirection to a file as well"],["a fix for this on your end it to run stdbuf i0 o0 e0 cs1521 bin mymysh lt etc gt",["should we use this to run both the reference and our solution when redirecting the output to a file for testing",["if your running for testing don t use it if your savings a session for debugging or just to look at then do"]]],["only if malloc fopen fails etc",["see my edit"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"trim function","salience":0.2630672752857208,"theta":1},{"name":"value","salience":0.08674891293048859,"theta":1},{"name":"text","salience":0.07339971512556076,"theta":1},{"name":"characters","salience":0.07339971512556076,"theta":1},{"name":"string","salience":0.07339971512556076,"theta":1},{"name":"spaces","salience":0.07339971512556076,"theta":1},{"name":"gcc","salience":0.03969701752066612,"theta":1},{"name":"im","salience":0.03135135397315025,"theta":1},{"name":"array index","salience":0.028455441817641258,"theta":1},{"name":"question","salience":0.023431140929460526,"theta":1},{"name":"outcome","salience":0.022868141531944275,"theta":1},{"name":"behaviour","salience":0.022868141531944275,"theta":1},{"name":"dcc gcc","salience":0.02192608267068863,"theta":1},{"name":"dcc","salience":0.020007632672786713,"theta":1},{"name":"trim function","salience":0.01995936594903469,"theta":1},{"name":"c libraries","salience":0.019520802423357964,"theta":1},{"name":"issue","salience":0.019520802423357964,"theta":1},{"name":"cse machines","salience":0.019520802423357964,"theta":1},{"name":"dcc","salience":0.017075002193450928,"theta":1},{"name":"all","salience":0.013534950092434883,"theta":1},{"name":"error checking","salience":0.011404489167034626,"theta":1},{"name":"code thanks joe","salience":0.009490574710071087,"theta":1},{"name":"trim function","salience":0.007976604625582695,"theta":1},{"name":"trim function","salience":0.007976604625582695,"theta":1}],"question":"hi the trim function is currently breaking when i enter no text i e no characters or a string of spaces as the last value moves to an illegal array index i e last 1 i should mention that this only occurs when compiling with dcc gcc does not pick this up i should note that i m running dcc locally rather than on the cse machines due to the issue with the new c libraries breaking dcc my question is is this considered acceptable behaviour seeing as gcc allows it and i get the desired outcome or should i be editing the provided trim function to check for this alternatively should i be checking for this before the trim function is called ideally i would like the trim function to deal with all of this edit i would like to keep using dcc as its error checking is really useful so i would ideally like to resolve this within the code thanks joe","answers":["this is a bug with trim you can fix the trim function in your code to keep dcc quiet that won t break auto testing after you submit",["thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"hi","salience":0.4234459698200226,"theta":1},{"name":"file","salience":0.3263688385486603,"theta":1},{"name":"history file","salience":0.14476577937602997,"theta":1},{"name":"thanks","salience":0.06456030160188675,"theta":1},{"name":"history c","salience":0.04085911437869072,"theta":1}],"question":"hi are we able to assume that the mymysh history file already exists or are we required to create the file in history c if it does not yet exist thanks","answers":["consider the case where you re running mymysh on a brand new computer for the first time it wouldn t exist yet so no don t assume it already exists and make checks to see if the file is there or not"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"message","salience":0.24698050320148468,"theta":1},{"name":"mysh","salience":0.09976041316986084,"theta":1},{"name":"error","salience":0.07966122776269913,"theta":1},{"name":"bin cat","salience":0.07554397732019424,"theta":1},{"name":"cat","salience":0.06390878558158875,"theta":1},{"name":"other","salience":0.0628831535577774,"theta":1},{"name":"directory","salience":0.05633052438497543,"theta":1},{"name":"directory","salience":0.05240842327475548,"theta":1},{"name":"file","salience":0.0514829084277153,"theta":1},{"name":"file","salience":0.04789115488529205,"theta":1},{"name":"example","salience":0.04588713496923447,"theta":1},{"name":"directory bin","salience":0.03626105561852455,"theta":1},{"name":"sense","salience":0.03349428251385689,"theta":1},{"name":"something","salience":0.028253618627786636,"theta":1},{"name":"one","salience":0.019252834841609,"theta":1}],"question":"hi when i run mysh if there is error the message will be like bin cat xxx no such file or directory but the example one will be cat xxx no such file or directory i think it makes sense since one of them is in the directory bin but the other not should i do something to it or it s okay","answers":["they re both in the directory bin one shell is displaying the complete command pathname the other is not do whatever cs1521 bin mymysh does","for execve args 0 args envp if args 0 is bin cat then you get the first for execve command args envp if command is bin cat and args 0 is cat you get the latter",["okay thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"memory leaks","salience":0.3276403248310089,"theta":1},{"name":"sample solution","salience":0.28427594900131226,"theta":1},{"name":"memory leaks","salience":0.08000916987657547,"theta":1},{"name":"assignment","salience":0.07974180579185486,"theta":1},{"name":"memory leaks","salience":0.07449280470609665,"theta":1},{"name":"sample solution","salience":0.07424326241016388,"theta":1},{"name":"memory leaks","salience":0.03986614570021629,"theta":1},{"name":"assignment","salience":0.03973053768277168,"theta":1}],"question":"memory leaks in sample solution i was wondering if we need to check memory leaks for our assignment i tried to check the memory leaks of the sample solution and spotted several does it mean we actually don t need to check memory leaks for our assignment","answers":["we will check for memory leaks if it s easy but just to make the point not to dock marks as dylan says you should not have memory leaks in your programs do what i say not what i do",["lol roger that my program doesn t have any leak though"],"i don t know if memory leaks will lower marks but you should strive for none anyway"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"mymysh","salience":0.325562059879303,"theta":1},{"name":"error","salience":0.18033261597156525,"theta":1},{"name":"outputs","salience":0.1459285318851471,"theta":1},{"name":"mymysh","salience":0.09150359779596329,"theta":1},{"name":"mysh","salience":0.08066625148057938,"theta":1},{"name":"difference","salience":0.06656340509653091,"theta":1},{"name":"programs","salience":0.04576466232538223,"theta":1},{"name":"machines","salience":0.03908289596438408,"theta":1},{"name":"part","salience":0.02459597773849964,"theta":1}],"question":"hello using the given mymysh i notice that i get different outputs when i run the programs using given mymysh using my mysh is this an error on my part that needs to be fixed or is there just a difference when run on different machines","answers":["is this on the cse server"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"wonder","salience":0.6064163446426392,"theta":1},{"name":"error message","salience":0.14586777985095978,"theta":1},{"name":"bin mymysh","salience":0.13609035313129425,"theta":1},{"name":"situations","salience":0.11162550747394562,"theta":1}],"question":"hi just wonder do we need to have exactly same error message as cs1521 bin mymysh i think it s a bit hard to try all situations","answers":["as much as possible yes anything else will cause auto tests to fail"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"file","salience":0.30631837248802185,"theta":1},{"name":"exec format error","salience":0.10390342772006989,"theta":1},{"name":"type","salience":0.09279299527406693,"theta":1},{"name":"permissions","salience":0.08640220761299133,"theta":1},{"name":"executable","salience":0.06765726208686829,"theta":1},{"name":"perror","salience":0.062201809138059616,"theta":1},{"name":"sample","salience":0.058893997222185135,"theta":1},{"name":"error","salience":0.04713419824838638,"theta":1},{"name":"execve failures","salience":0.04148593917489052,"theta":1},{"name":"perror","salience":0.03315669298171997,"theta":1},{"name":"ones","salience":0.029164237901568413,"theta":1},{"name":"elsewhere","salience":0.029164237901568413,"theta":1},{"name":"print statement","salience":0.020862312987446785,"theta":1},{"name":"print statement","salience":0.020862312987446785,"theta":1}],"question":"if i try to run an empty file that has execute permissions perror seems to print out exec format error and 0 is returned however the sample prints unknown type of executable and 255 is returned is this from perror or just from a print statement if it s from a print statement do we associate all execve failures with this error or only specific ones and use perror elsewhere","answers":["that s from an explicit printf which is followed by return 255",["thank you i found it odd for it to print unknown type of executable even for permission denied errors however i will follow the sample"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"commands","salience":0.15945462882518768,"theta":1},{"name":"commands","salience":0.15945462882518768,"theta":1},{"name":"shell","salience":0.14923939108848572,"theta":1},{"name":"process","salience":0.0815538540482521,"theta":1},{"name":"loops","salience":0.0759541392326355,"theta":1},{"name":"reason","salience":0.0582924410700798,"theta":1},{"name":"fork","salience":0.03896908834576607,"theta":1},{"name":"shell","salience":0.03734483942389488,"theta":1},{"name":"pipelines","salience":0.03668210282921791,"theta":1},{"name":"rest","salience":0.036003727465867996,"theta":1},{"name":"lack","salience":0.0322837196290493,"theta":1},{"name":"command history implementation","salience":0.030016642063856125,"theta":1},{"name":"shell command history","salience":0.02825533039867878,"theta":1},{"name":"history c","salience":0.02269112318754196,"theta":1},{"name":"forks pipelines","salience":0.01811627484858036,"theta":1},{"name":"thanks","salience":0.015926826745271683,"theta":1},{"name":"functions","salience":0.010001755319535732,"theta":1},{"name":"statements","salience":0.009759494103491306,"theta":1}],"question":"if my shell is not reliably saving commands to commandhistory commands i commandline i e sometimes will leave them null would a possible reason be due to lack of pipelines forking etc so far i ve only used pid fork for the process where i implement findexecutable the rest of my shell built in command history implementation is just while loops if statements together with functions i have written in history c are they sufficient for the shell command history or do i need to implement forks pipelines there too thanks","answers":["if my shell is not reliably saving commands to commandhistory commands i commandline i e sometimes will leave them null would a possible reason be due to lack of pipelines forking etc probably not it sounds more like a problem with the way you re managing the memory in and around your commandhistory object"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.3152690827846527,"theta":1},{"name":"shell","salience":0.19482356309890747,"theta":1},{"name":"extroneous","salience":0.06256123632192612,"theta":1},{"name":"cat","salience":0.05739670619368553,"theta":1},{"name":"sample shell","salience":0.05288688838481903,"theta":1},{"name":"cat process","salience":0.05144905671477318,"theta":1},{"name":"command","salience":0.04832698404788971,"theta":1},{"name":"cat","salience":0.04790976271033287,"theta":1},{"name":"process","salience":0.04334860295057297,"theta":1},{"name":"implementation","salience":0.04306535795331001,"theta":1},{"name":"sample shell","salience":0.02618512324988842,"theta":1},{"name":"b","salience":0.02101852186024189,"theta":1},{"name":"error","salience":0.019533462822437286,"theta":1},{"name":"cat","salience":0.01622566021978855,"theta":1}],"question":"i noticed in the shell will copy the previous command and any extroneous s are added onto the previous command in the sample shell it doesn t do this which implementation is advised i e if i enter cat i run the cat process if i subsequently enter do you want it so a we return an error as cat is not a valid process or b we run cat as per the sample shell","answers":["mymysh isn t bash so don t model expectations off of it for now go with running the last command as the example does but that may be a bug the correct outcome is probably to error as is a valid inbuilts but or any other lengthed string of isn t"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"lead","salience":0.1977679282426834,"theta":1},{"name":"cd filename","salience":0.17775152623653412,"theta":1},{"name":"cd username filename","salience":0.12020640820264816,"theta":1},{"name":"path","salience":0.08196619898080826,"theta":1},{"name":"home","salience":0.08179476857185364,"theta":1},{"name":"home directory","salience":0.0741257593035698,"theta":1},{"name":"destination","salience":0.07277648150920868,"theta":1},{"name":"home directory","salience":0.06500622630119324,"theta":1},{"name":"username","salience":0.05268540978431702,"theta":1},{"name":"user","salience":0.04504687711596489,"theta":1},{"name":"getenv home","salience":0.03087243065237999,"theta":1}],"question":"if i run cd filename and cd username filename will these lead to the same destination from what i understand represents the home directory and the path can be obtained by using getenv home is this home the home directory for the user called username","answers":["you can t cd to a file but cd will take you to your home directory cd username will take you to username s home directory eg cs1521 you can use glob to expand check man 3 glob for the required flag",["does that mean that if username corresponds to your username then cd and cd username will be the same but if username is another user s username then it will go to their home directory",["correct"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"message","salience":0.40027183294296265,"theta":1},{"name":"matter","salience":0.10270478576421738,"theta":1},{"name":"version glibc","salience":0.10270478576421738,"theta":1},{"name":"ive","salience":0.09747979044914246,"theta":1},{"name":"cam eup","salience":0.09350918233394623,"theta":1},{"name":"assignment","salience":0.09241636097431183,"theta":1},{"name":"linux","salience":0.06460576504468918,"theta":1},{"name":"mymysh","salience":0.046307504177093506,"theta":1}],"question":"out of nowhere this message comes out and ive been working on this assignment and this has never cam eup no matter how many testing ive done before weill mymysh mymysh lib i386 linux gnu libc so 6 version glibc 2 27 not found required by mymysh","answers":["on september 30th at 10 22pm someone replaced the 2 27 version of glibc with the 2 26 version on all of the cse systems you need to recompile all sections of your assignment with the 2 26 version of glibc you need to make clean and then make after that you will be able to use your mymysh","have you compiled your assignment make clean make",["yeh i have"],["same problem here when i ran the sample solution it seems to be a system wide problem",["yep error started from yesterday night"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cs1521 bin mymysh","salience":0.37150171399116516,"theta":1},{"name":"linux","salience":0.18585249781608582,"theta":1},{"name":"cs1521 bin","salience":0.10509666800498962,"theta":1},{"name":"error message import ravel","salience":0.09616539627313614,"theta":1},{"name":"version glibc","salience":0.07893972843885422,"theta":1},{"name":"something","salience":0.05988236516714096,"theta":1},{"name":"account","salience":0.042166806757450104,"theta":1},{"name":"cs1521 bin mymysh","salience":0.03019740991294384,"theta":1},{"name":"import ravel","salience":0.03019740991294384,"theta":1}],"question":"i was trying to run cs1521 bin mymysh but i get some error message import ravel 3 cs1521 bin mymysh lib i386 linux gnu libc so 6 version glibc 2 27 not found required by import ravel 3 cs1521 bin mymysh did i accidentally unlink something or did i just wreck my own account","answers":["on september 30th at 10 22pm someone replaced the 2 27 version of glibc with the 2 26 version on all of the cse systems in order for people to use the sample solution now the staff will need to recompile the reference solution with the older version of the software or re update back to version 2 27 of glibc","all i can see is from https askubuntu com questions 421642 libc so 6 v you don t have a high enough version of libc6 that is causing the error from how to fix lib x86 64 linux gnu libc so 6 version glibc 2 14 not found super user that means the program was compiled against glibc version 2 14 and it requires that version to run but your system has an older version installed you ll need to either recompile the program against the version of glibc that s on your system or install a newer version of glibc the libc6 package in debian so you just need to upgrade your libc6 package all versions of ubuntu have at least version 2 15 because it s a faily important package reference to upgrade it use these commands in a terminal sudo apt get update sudo apt get install libc6",["but there appears no sudo command on cse machine if use without sudo it shows permission denied"],"i ve same problem so it seems system wide",["thank god thought i broke something i used ldd bin bash linux gate so 1 0xf7743000 libtinfo so 5 gt lib i386 linux gnu libtinfo so 5 0xf76fa000 libdl so 2 gt lib i386 linux gnu libdl so 2 0xf76f5000 libc so 6 gt lib i386 linux gnu libc so 6 0xf7521000 lib ld linux so 2 0xf7744000 so the file exists i m checking online now",["any particular fix for this still get the same issue"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"functions","salience":0.2919473350048065,"theta":1},{"name":"char getcommandfromhistory","salience":0.21311987936496735,"theta":1},{"name":"example","salience":0.20453716814517975,"theta":1},{"name":"int seqnum","salience":0.18852311372756958,"theta":1},{"name":"getcommandfromhistory char command","salience":0.10187249630689621,"theta":1}],"question":"are we allowed to alter the functions in history c for example instead of char getcommandfromhistory int seqnum can we alter it to char getcommandfromhistory char command instead","answers":["you can but what exactly would you pass to your new function",["don t know if i m doing this horribly wrong but this function is for the seqno commands so it takes 28 for example checks if there s a history entry with that sequence number and then returns the command line corresponding to that entry is there something i am missing",["the is the command and 28 is the argument you don t need to pass the only the number",["so would my function be valid i trimmed off the command before passing it into the function",["sure would",["great news thank you dylan d"]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.3161891996860504,"theta":1},{"name":"values","salience":0.2780427634716034,"theta":1},{"name":"sscanf","salience":0.11062990128993988,"theta":1},{"name":"error","salience":0.07704474776983261,"theta":1},{"name":"fgets loop","salience":0.06722200661897659,"theta":1},{"name":"net","salience":0.06260242313146591,"theta":1},{"name":"malloc","salience":0.033553771674633026,"theta":1},{"name":"commandline","salience":0.033553771674633026,"theta":1},{"name":"help","salience":0.02116142027080059,"theta":1}],"question":"error while sscanf ing values into struct this sscanf is within a while fgets loop but i keep getting a runtime error and have been searching the net for a while now help would be appreciated could it be because i didn t malloc for commandline","answers":["its definitely because commandline isn t malloced",["thank you also i have gotten away so far with not mallocing for seqnumber is it recommended i do",["seqnumber doesn t need to malloced because it s just an int"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1}],"question":"is it okay to leave cleancommandhistory empty as it doesn t need to be freed","answers":["clearcommandhistory needs to be implemented",["but what should i put in if the data structure i implemented doesn t need to be freed",["the data structure will need to be freed as you are storing strings",["but since u offered maxstr so it can be declare in fixed size as a global temporary variable like this typedef struct history entry int seqnumber char commandline maxstr historyentry typedef struct history list int nentries int end historyentry commands maxhist historylist historylist commandhistory",["ok in that case you don t need a clearcommandhistory",["thanks i ll just leave a comment then"]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"way","salience":0.641623318195343,"theta":1},{"name":"clearcommandhistory","salience":0.3583766520023346,"theta":1}],"question":"hi did we have to implement a way to directly call clearcommandhistory","answers":["clear command history is only used to free the memory used by the history struct just before exit",["so we didn t have toimplement a way for the user to clear the mymysh history file",["if the user wants to clear the file they can rm it no call to clearcommandhistory can be made by the user"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.18039570748806,"theta":1},{"name":"parameter","salience":0.12865491211414337,"theta":1},{"name":"hisarg","salience":0.12175630033016205,"theta":1},{"name":"mymysh process","salience":0.08681659400463104,"theta":1},{"name":"hisarg","salience":0.0629335343837738,"theta":1},{"name":"history command","salience":0.05844837427139282,"theta":1},{"name":"hi im","salience":0.050736214965581894,"theta":1},{"name":"seqno","salience":0.050736214965581894,"theta":1},{"name":"hisarg","salience":0.04954640939831734,"theta":1},{"name":"command","salience":0.042788177728652954,"theta":1},{"name":"mymysh","salience":0.036453332751989365,"theta":1},{"name":"execve","salience":0.0353502482175827,"theta":1},{"name":"way","salience":0.030942952260375023,"theta":1},{"name":"hint","salience":0.02842453494668007,"theta":1},{"name":"advance","salience":0.017045704647898674,"theta":1},{"name":"function","salience":0.01070958562195301,"theta":1},{"name":"command","salience":0.008261194452643394,"theta":1}],"question":"how to pass command to execve s second parameter hi i m trying to solve seqno with execve hisarg here is the corresponding history command but execve seems only start another mymysh process which doesn t take in hisarg as the command so how could i let mymysh in the execve function run the command i specified hisarg if this is not the way we handle may i have a hint about it thanks in advance","answers":["the command you want to execve is hisarg 0 as that is the name of the program also there are two errors in the tokens line you need to fix"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history entries","salience":0.6979629397392273,"theta":1},{"name":"thanks","salience":0.3020370602607727,"theta":1}],"question":"hey i was wondering whether it is ohkay for my history entries to start from 0 instead of 1 thanks","answers":["no"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"typo","salience":0.48755258321762085,"theta":1},{"name":"history","salience":0.25029927492141724,"theta":1},{"name":"c","salience":0.19578181207180023,"theta":1},{"name":"assign2","salience":0.06636633723974228,"theta":1}],"question":"hello i think give cs1521 ass2 mymysh c history h history c has a typo from what i see it that should say assign2","answers":["yep should be give cs1521 assign2 mymysh c history h history c","yes i just had the same thought this afternoon"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"hi","salience":0.20862236618995667,"theta":1},{"name":"assignment spec","salience":0.20862236618995667,"theta":1},{"name":"case","salience":0.15197522938251495,"theta":1},{"name":"history","salience":0.10539251565933228,"theta":1},{"name":"filename fopen","salience":0.0844920426607132,"theta":1},{"name":"history","salience":0.07341130822896957,"theta":1},{"name":"history","salience":0.07255163788795471,"theta":1},{"name":"file home","salience":0.058615297079086304,"theta":1},{"name":"file","salience":0.036317236721515656,"theta":1}],"question":"file not saving hi the assignment spec says to save the history into a file home mymysh history however when i try to use mymysh history as the filename fopen is returning null i am not sure why this is the case how should i be creating saving the file","answers":["you can t use inside c programs it is interpreted by the shell you ll need to work out the full path name of the directory using the home environment variable it s in envp or you can read up on the getenv library function you can assume that this environment variable always has a value",["ahh i see thank you i didn t know that i tried to get the full path name and then append mymysh history onto it using strcat strcpy filename getenv home histfile but i was still receiving null which is why i resorted to trying to use am i using the function incorrectly",["as long as filename is malloced large enough that looks correct",["i increased the size of my char buffer however it still doesn t seem to be working the print statement for the path prints import glass 2 z5025097 mymysh history and the saved message doesn t print so i believe the file isn t being created any suggestions on what else might have gone wrong",["the problem is that you haven t got a between the path and the file",["thank you so much"]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error message","salience":0.6483497023582458,"theta":1},{"name":"exit","salience":0.22744601964950562,"theta":1},{"name":"command","salience":0.12420428544282913,"theta":1}],"question":"what error message shall i print if the first command ever exit is a","answers":["check the example rm mymysh history start 1521 mymysh and run as the first command",["shall i include the space in the space mymysh history",["i don t think i added a space but no there shouldn t be a space"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"functions","salience":0.10519255697727203,"theta":1},{"name":"posts","salience":0.10149621963500977,"theta":1},{"name":"savecommandhistory","salience":0.10032961517572403,"theta":1},{"name":"showcommandhistory","salience":0.09485582262277603,"theta":1},{"name":"reason","salience":0.06274531781673431,"theta":1},{"name":"way","salience":0.048723794519901276,"theta":1},{"name":"showcommandhistory function","salience":0.04082569107413292,"theta":1},{"name":"savecommandhistory function","salience":0.028703726828098297,"theta":1},{"name":"skeleton program","salience":0.027481839060783386,"theta":1},{"name":"savecommandhistory function","salience":0.02572273649275303,"theta":1},{"name":"savecommandhistory","salience":0.024495843797922134,"theta":1},{"name":"showcommandhistory","salience":0.02311934530735016,"theta":1},{"name":"confusion","salience":0.02233615145087242,"theta":1},{"name":"fd","salience":0.021271448582410812,"theta":1},{"name":"names","salience":0.02115282043814659,"theta":1},{"name":"function names","salience":0.01965772733092308,"theta":1},{"name":"posts","salience":0.01965772733092308,"theta":1},{"name":"output","salience":0.01882481575012207,"theta":1},{"name":"savecommandhistory","salience":0.01849718950688839,"theta":1},{"name":"assignment specs","salience":0.017280425876379013,"theta":1},{"name":"something","salience":0.016657693311572075,"theta":1},{"name":"history","salience":0.014836720190942287,"theta":1},{"name":"shell","salience":0.014836720190942287,"theta":1},{"name":"exit","salience":0.014836720190942287,"theta":1},{"name":"functions","salience":0.013622673228383064,"theta":1},{"name":"exit doesn t","salience":0.013362850993871689,"theta":1},{"name":"showcommandhistory","salience":0.012541540898382664,"theta":1},{"name":"understanding","salience":0.009136922657489777,"theta":1},{"name":"interaction","salience":0.009136922657489777,"theta":1},{"name":"thanks","salience":0.009136922657489777,"theta":1},{"name":"operation","salience":0.009136922657489777,"theta":1},{"name":"history","salience":0.008135393261909485,"theta":1},{"name":"shell","salience":0.0065217893570661545,"theta":1},{"name":"hand","salience":0.005729392636567354,"theta":1}],"question":"i have been reading previous posts about the showcommandhistory and savecommandhistory functions and am still somewhat confused i know we can use these or write our own if we want but given they are in the skeleton program files i figure i should try and use them unless i come up with a reason why not to maybe my confusion is around their names unintuitively to me the showcommandhistory function takes a fd to output save to where the savecommandhistory function does not though it seems to be it should the other way around based on the function names previous posts mention showcommandhistory should be called from savecommandhistory but the assignment specs to me imply the savecommandhistory function is only called on exiting the shell to write the history to file showcommandhistory on the other hand could need to be called many times when h history is typed into the shell before exit so calling it from savecommandhistory on exit doesn t seem logical is there something i am missing with my understanding of these two functions as at the moment i am not any clearer on their interaction and operation thanks","answers":["savecommandhistory can save by showing the command history to a file instead of the stdout",["thanks dylan so it would seem to me that the prototype for savecommandhistory would need to be modified to receive input to indicate if it should save to file or call showcommandhistory and have it output to stdout the original function it doesn t take an argument but i think that would need to change to work as describe",["savecommandhistory always writes to mymysh history which is why it doesn t need an argument showcommandhistory sends the history list somewhere the somewhere has to be indicated via an argument maybe the name showcommandhistory suggests that it s going to display it to the screen but that s not the intention maybe the name writecommandhistory would have been better or not then you d probably complain that it gave the impression that it was meant to go to a file",["then you d probably complain it was a question not a complaint and i think a valid one",["hi simon jas was just giving a catch 22 statement p basically the showcommandhistory function puts its output into the file pointer argument it was given"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"kind","salience":0.6257181763648987,"theta":1},{"name":"file","salience":0.2064189463853836,"theta":1},{"name":"mode","salience":0.1678628921508789,"theta":1}],"question":"what kind of mode shall i open the redirecting file 777 or 700 or 770","answers":["definitely not 7 that adds the execution bit and you r making text files the standard is 0644",["so that creating a file is not the more permissions the better why can t i use 666",["look back on the lectures and tute for a full answer 666 gives everyone on the system reading and writing permission on the file 644 gives you read and write but everyone else read only"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"ls output","salience":0.27522075176239014,"theta":1},{"name":"newline","salience":0.27522075176239014,"theta":1},{"name":"entry","salience":0.11162211745977402,"theta":1},{"name":"b escape sequences","salience":0.08401001244783401,"theta":1},{"name":"call","salience":0.07728339731693268,"theta":1},{"name":"bunch","salience":0.07636605203151703,"theta":1},{"name":"execve","salience":0.07636605203151703,"theta":1},{"name":"lines","salience":0.02391088753938675,"theta":1}],"question":"hi should ls output on a newline per entry since i iterate through a bunch of execve s using globlist gl pathv it does newlines every execve call if not what should i do to get rid of the lines i tried printing b escape sequences but it wouldn t get rid of them","answers":["ls in mymysh should output exactly what it does in bash",["how do you recommend i do this i am using execve so i looked at appending flags to the exec value so that it would be one line thinking of c but since ls will print a n at the end whenever its executed no flags to stop it i am pretty much clueless as to how to stop execve printing a new line",["you should never need to modify flags ls prints one entry per line if it s output is not a tty are you using an output redirection on mymysh or on ls inside mymysh if you are then what s happening is the correct behaviour if you aren t using output redirections anywhere then look for incorrect calls to pipe if you have any and dup2",["i am not using any output redirections yet nor pipe or dup2 my code is basically replace the command with the wildcard with the globlist output one by one and execve each one so obviously it is going to print a new line for each one as is the case for a normal execve the only case i need to not newline is for when the command is ls not l as for all other commands the output is the same as terminal s output",["execve is only called once after a glob expansion all the results are passed to execve at the same time"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"purpose","salience":0.4229735732078552,"theta":1},{"name":"initcommandhistory","salience":0.25644049048423767,"theta":1},{"name":"int","salience":0.1271868199110031,"theta":1},{"name":"cmdno variable","salience":0.12570041418075562,"theta":1},{"name":"someone","salience":0.06769867241382599,"theta":1}],"question":"cmdno initcommandhistory i am not quite sure about the purpose of cmdno variable in main which int value the initcommandhistory should return and what is cmdno used for can someone explain about it for me thanks","answers":["initcommandhistory returns the smallest number greater than any previous history number eg if you have a history file that has 12 commands numbered 1 12 then 13 will be returned if you load a history file that has 20 commands numbered 46 65 then 66 will be returned if no history file is found then 1 is returned"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"symbols","salience":0.3593842685222626,"theta":1},{"name":"sample","salience":0.33964571356773376,"theta":1},{"name":"space","salience":0.1839027851819992,"theta":1},{"name":"tokens","salience":0.11706722527742386,"theta":1}],"question":"do we need to handle symbols the sample seems to separate tokens on as well as space","answers":["dylan s right quotes are not treated specially i m sure i addressed this somewhere maybe another comment thread but i m surprised it s not somewhere in the spec",["the problem is that quotes are treated special they are removed entering mymysh cat text file will actually run cat text file"],"i believe the sample is incorrect the spec doesn t note any special behavior for or so is handled like any other character"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"curiosity","salience":0.29333585500717163,"theta":1},{"name":"cat","salience":0.2703351676464081,"theta":1},{"name":"cd command","salience":0.13864609599113464,"theta":1},{"name":"commands","salience":0.09692557156085968,"theta":1},{"name":"cd","salience":0.08930160850286484,"theta":1},{"name":"bin folder","salience":0.08466298878192902,"theta":1},{"name":"bin mymysh","salience":0.02679271809756756,"theta":1}],"question":"just asking out of curiosity why is cd command not stored in bin folder unlike other commands eg mkdir cat etc also cd is not working in cs1521 bin mymysh i don t know if it s meant to be like that","answers":["cd is a shell builtin every shell bash zsh fish mymysh have there own way of storing environment variables and in particular the current working directory our shell is piggy backing off of unix standards and uses the default method of storing and interacting with the environment even if every shell stored and used the environment in the same way there are many other tasks shells have to perform when cd is called globbing is only one way a path can be expanded other ways like regev and custom matching schemes could be used br different shells cd can have shortcuts bash allows naming directors in a global scope for quick switching to regularly used directories and many jump utility exist for custom path movement in essence that s the real reason customization path movement isn t a regulated thing and there are many schools of thaught about what s more efficient so different shells are allowed to do it in different ways other utilities are very strictly regulated about how there task should be done so it makes sense to have one program that does it exactly as defined the only common thing for path traversing is that after all processing is done the result is stored in the unix environment under pwd"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history c","salience":0.6576114892959595,"theta":1},{"name":"function prototype","salience":0.34238848090171814,"theta":1}],"question":"for history c are we required to use every function prototype provided","answers":["function prototypes are provided to serve as a guide any function can be added removed or modified"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"options","salience":0.5443522930145264,"theta":1},{"name":"commands","salience":0.27803465723991394,"theta":1},{"name":"shell","salience":0.1776130646467209,"theta":1}],"question":"do we need to implement options for the shell built in commands","answers":["inbuilts should work as described in the spec"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"im","salience":0.3088938593864441,"theta":1},{"name":"sample executable","salience":0.30543434619903564,"theta":1},{"name":"redirection","salience":0.21929802000522614,"theta":1},{"name":"command","salience":0.0994933694601059,"theta":1},{"name":"wildcards","salience":0.06688039004802704,"theta":1}],"question":"so i m testing out the sample executable and i m wondering if a command including wildcards and redirection should work","answers":["your example should work ok and now does work in the reference binary","this is a bug with the example this and other commands like it should be allowed"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"question","salience":0.34578993916511536,"theta":1},{"name":"history","salience":0.3273039758205414,"theta":1},{"name":"c","salience":0.11425773054361343,"theta":1},{"name":"history","salience":0.10527045279741287,"theta":1},{"name":"mymysh c","salience":0.056763920933008194,"theta":1},{"name":"file","salience":0.05061398446559906,"theta":1}],"question":"sorry that this question might sound extremely stupid but can we put define histfile mymysh history on mymysh c or history h so that we can use it when we are using showcommandhistory file on mymysh c","answers":["the define is only needed in history c but you can move it if you want to",["wait if that define is only needed in history c what s file pointer file outf for on showcommandhistory",["a call to showcommandhistory can be used to do most of the work of savecommandhistory"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"valgrind","salience":0.23036569356918335,"theta":1},{"name":"issue","salience":0.20552200078964233,"theta":1},{"name":"code","salience":0.13842150568962097,"theta":1},{"name":"bunch","salience":0.11765188723802567,"theta":1},{"name":"line numbers","salience":0.08482605963945389,"theta":1},{"name":"errors","salience":0.06359010189771652,"theta":1},{"name":"issue","salience":0.06249001622200012,"theta":1},{"name":"question marks","salience":0.04541777819395065,"theta":1},{"name":"something","salience":0.040249019861221313,"theta":1},{"name":"sample mymysh","salience":0.011465927585959435,"theta":1}],"question":"when i run my code with valgrind i get a whole bunch of these errors instead of showing the line numbers where the issue occurs it just provides three question marks when i run the sample mymysh with valgrind the same issue occurs is this something to worry about","answers":["seems to be an ongoing issue with valgrind and dcc unfortunate you will have to debug without for now"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"commands","salience":0.36321860551834106,"theta":1},{"name":"mymysh","salience":0.21491220593452454,"theta":1},{"name":"result","salience":0.2004016935825348,"theta":1},{"name":"gt","salience":0.15293174982070923,"theta":1},{"name":"cat","salience":0.06853574514389038,"theta":1}],"question":"hey i was trying commands on the given mymysh and i noticed the following result should cat s gt me txt not work","answers":["already reported it is a bug and should be accepted",["o right thank you"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"part","salience":0.2827724814414978,"theta":1},{"name":"program","salience":0.14190568029880524,"theta":1},{"name":"history","salience":0.14162547886371613,"theta":1},{"name":"home","salience":0.11468490213155746,"theta":1},{"name":"dot","salience":0.09722864627838135,"theta":1},{"name":"file","salience":0.06175506114959717,"theta":1},{"name":"file name","salience":0.050301797688007355,"theta":1},{"name":"dot","salience":0.048523999750614166,"theta":1},{"name":"file","salience":0.03060096874833107,"theta":1},{"name":"dot","salience":0.03060096874833107,"theta":1}],"question":"for saving history part we are asked to save the history in home mymysh history i m quite confused about the dot after what does that dot stand for i made a small program trying to create a file without the dot and it works and the file can t be created if the file name starting with a dot","answers":["you might think it didn t work because it s hidden run ls a to view hidden files as well","a dot file is a hidden file on a linux system a file starting with a dot definitely can be created in c",["ok that makes sense thank you very much"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"function prototypes","salience":1,"theta":1}],"question":"are we allowed to modify the provided function prototypes","answers":["there are no mandatory functions in the spec go for it"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.6571760773658752,"theta":1},{"name":"error","salience":0.050967589020729065,"theta":1},{"name":"file","salience":0.04495575278997421,"theta":1},{"name":"error","salience":0.04016934707760811,"theta":1},{"name":"token","salience":0.031014086678624153,"theta":1},{"name":"elsewhere","salience":0.031014086678624153,"theta":1},{"name":"command line","salience":0.031014086678624153,"theta":1},{"name":"perror","salience":0.025264061987400055,"theta":1},{"name":"loop","salience":0.021585462614893913,"theta":1},{"name":"mymysh","salience":0.021585462614893913,"theta":1},{"name":"error message","salience":0.017043152824044228,"theta":1},{"name":"function","salience":0.015174384228885174,"theta":1},{"name":"print message","salience":0.013036473654210567,"theta":1}],"question":"hi i m a bit confused about error handling it says that if the file does not exist or is not readable that is an error having lt as the last token or elsewhere in the command line is also an error so if there is an error should we just print the error message and continue the while loop or just stop the mymysh if print message what function should we use perror thank you","answers":["unless you encounter an unrecoverable error like malloc running out of memory you should continue the while loop but print an message you can only use perrot is a syscall fails otherwise use fprintf",["why should we use fprintf can we just use printf",["if you want to output to stderr then you need to use fprintf it s not mandatory but in extream debugging cases it can help having errors separate"]],["hi i wonder if we can use perror if not why",["perror reports an error if errno is set errno is set by a failed system call a system call is anything in man 2 read the man page of functions and if they say on error return 1 and set errno then you can use perror immediately after to report an error otherwise use fprintf"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"case","salience":0.4616602659225464,"theta":1},{"name":"anyone","salience":0.20440825819969177,"theta":1},{"name":"everything","salience":0.19126640260219574,"theta":1},{"name":"freaks","salience":0.1426650732755661,"theta":1}],"question":"just in case anyone else freaks out i think dcc might be segfaulting everything at the moment","answers":["yes as well as valgrind"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"valgrind","salience":0.6180166006088257,"theta":1},{"name":"dcc","salience":0.171493262052536,"theta":1},{"name":"dcc leak check","salience":0.10546761006116867,"theta":1},{"name":"hello n","salience":0.052511248737573624,"theta":1},{"name":"memory access","salience":0.052511248737573624,"theta":1}],"question":"is the valgrind as well as dcc and dcc leak check in vlab broken now even when i try to printf hello n when i run valgrind hello it says some uninitialized memory access","answers":["don t use valgrind and dcc together they do the same thing use dcc for run time checks then gcc and valgrind for a final profiling",["but i still believe something wrong with valgrind since when i run this simple program with gcc valgrind the reaction is unbelievable and now when i run all my previous programs with valgrind the same error message will occur"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"pwd","salience":0.7388318777084351,"theta":1},{"name":"cwd","salience":0.26116815209388733,"theta":1}],"question":"for pwd can we assume the cwd is maxline 200 chars long","answers":["read the man page on getcwd it tells you about size"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.38515743613243103,"theta":1},{"name":"im","salience":0.3784196972846985,"theta":1},{"name":"error","salience":0.2364228516817093,"theta":1}],"question":"i ve been stuck on this error when i compile i m not quite sure what the error is telling me","answers":["you have included unistd h in mymysh c but using chdir in history c so it needs to be included there too"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"errors","salience":0.5531588196754456,"theta":1},{"name":"model solution","salience":0.11666252464056015,"theta":1},{"name":"io redirection","salience":0.09435755759477615,"theta":1},{"name":"command","salience":0.09435755759477615,"theta":1},{"name":"stdout","salience":0.07325123995542526,"theta":1},{"name":"stdout","salience":0.06821226328611374,"theta":1}],"question":"do the errors we create such as invalid i o redirection and command not found go to stdout or stderr i believe the model solution sends them to stdout so that s what i ve done but i feel like they should go to stderr","answers":["as long as the error is the same the output stream dosen t matter stdout and steer can be merged later"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"file expansion","salience":0.22336773574352264,"theta":1},{"name":"history","salience":0.22078648209571838,"theta":1},{"name":"code","salience":0.2170735001564026,"theta":1},{"name":"count","salience":0.15711189806461334,"theta":1},{"name":"output","salience":0.11125131696462631,"theta":1},{"name":"code displays","salience":0.07040905952453613,"theta":1}],"question":"hi this is about displaying the history of file expansion my code displayed the official code displays does this count as inconsistent output","answers":["if the example saves the command as it was before globbing so should you"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"dir","salience":0.20641933381557465,"theta":1},{"name":"c files","salience":0.20641933381557465,"theta":1},{"name":"model solution shell","salience":0.20582212507724762,"theta":1},{"name":"io redirection","salience":0.0696672797203064,"theta":1},{"name":"c gt","salience":0.0653049424290657,"theta":1},{"name":"behaviour","salience":0.06412074714899063,"theta":1},{"name":"model shell","salience":0.06081258878111839,"theta":1},{"name":"c gt","salience":0.04620147496461868,"theta":1},{"name":"wc","salience":0.04011305049061775,"theta":1},{"name":"t","salience":0.01806662045419216,"theta":1},{"name":"usr bin wc","salience":0.017052514478564262,"theta":1}],"question":"in a dir with multiple c files i execute the following with the model solution shell mymysh wc c gt xyz invalid i o redirection is this intended behaviour confused because the model shell doesn t complain about this mymysh wc mymysh c testhist c gt xyz running usr bin wc returns 0","answers":["a glob pattern before a redirection is allowed the model solution is incorrect"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"memory leaks","salience":1,"theta":1}],"question":"do we get marked down if we got memory leaks","answers":["only if the reference mymysh has no memory leaks"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.3356345295906067,"theta":1},{"name":"program return","salience":0.3225354552268982,"theta":1},{"name":"difference","salience":0.23961541056632996,"theta":1},{"name":"program return","salience":0.10221460461616516,"theta":1}],"question":"hi i also wonder if there is a error why sometimes the program return 1 and sometimes the program return 2 what is the difference between them thanks","answers":["the printed return value should be returned by the executing process what the actual values is changes depending on the program",["is the value get from wait but my program get different value to the cs1521 bin mymysh one it will have some value like 11 or 512 rather than 1 or 2",["the spec tells you how to do this wexitstatus",["thank you very much and i have another question for redirect files if we have a pattern match eg cat lt txt as i was told before it should return an error message but i have tried the cs1521 bin mymysh it will not return an error but process it with the file file matched so should we print a error message or not if so what message should we print",["if txt expands to more than one file name it should complain cs1521 bin mymysh is currently doing it wrong it should be treated as if you had done cat lt a txt b txt the error message should be invalid i o redirection",["so will it eg cat lt txt be recorded in history or not",["only valid commands are recorded cat lt txt is valid if it expands to only one file and is invalid if it expands to multiple"]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"autotest","salience":0.3951820135116577,"theta":1},{"name":"mistakes","salience":0.21132978796958923,"theta":1},{"name":"advance","salience":0.20145650207996368,"theta":1},{"name":"format n space","salience":0.19203169643878937,"theta":1}],"question":"hi i wonder can we have some autotest to make sure we do not have silly mistakes including format n space thank you in advance","answers":["once i ve finished writing an assignment for my other course i ll put up some testing stuff however but this stage you ought to be able to do testing yourself e g write a sequence of shell commands in a file then do something like mymysh lt fileofcommands gt out obs cs1521 bin mymysh lt fileofcommands gt out expdiff out obs out exp after all this is what we do for auto testing"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"questions","salience":0.2532292604446411,"theta":1},{"name":"method","salience":0.23249904811382294,"theta":1},{"name":"details","salience":0.10319799929857254,"theta":1},{"name":"stage","salience":0.10319799929857254,"theta":1},{"name":"io redirection","salience":0.08960386365652084,"theta":1},{"name":"difference","salience":0.05978977680206299,"theta":1},{"name":"webcms3 cse unsw edu au comp1521 18s2 reso 2","salience":0.03935393691062927,"theta":1},{"name":"input case","salience":0.03517908230423927,"theta":1},{"name":"advance","salience":0.03517908230423927,"theta":1},{"name":"command output","salience":0.026606332510709763,"theta":1},{"name":"mark","salience":0.02216360718011856,"theta":1}],"question":"hello two relatively generic questions this time not asking for details at this stage 1 is the i o redirection any different to the method covered here https webcms3 cse unsw edu au comp1521 18s2 reso 2 seeing as though the command output is only worth 1 mark is there really any major difference between that and the input case thanks in advance","answers":["output redirection is very similar to input redirection a more accurate marking guild would be 2 marks for either input or output redirection and an additional 1 mark for the other there is a small difference as you are redirecting from a file to a process not from a process to another process because of this you don t need pipe s only dup2 s",["cool thanks dylan although the spec seems to hint at pipe as well as dup2 though was that bit extra or was it for something else",["pipe is only needed for the challenge",["so to clarify do you need to pipe at all or only for output redirection oliver",["pipe is not needed for in output redirection"]],["ah right thanks again for all the hard work answering these questions"]]],"sorry also 3 for our purposes shell commands will never be i o redirected right",["inbuilts like cd history and pwd will never be redirected"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"import ravel","salience":0.20421069860458374,"theta":1},{"name":"home","salience":0.16209542751312256,"theta":1},{"name":"history implementation","salience":0.12309898436069489,"theta":1},{"name":"code","salience":0.12271758913993835,"theta":1},{"name":"way","salience":0.09199457615613937,"theta":1},{"name":"history file","salience":0.06409313529729843,"theta":1},{"name":"command history file","salience":0.04414360597729683,"theta":1},{"name":"time","salience":0.04361352324485779,"theta":1},{"name":"homedir","salience":0.02347923442721367,"theta":1},{"name":"home environment","salience":0.022962963208556175,"theta":1},{"name":"file","salience":0.022913610562682152,"theta":1},{"name":"path","salience":0.021342333406209946,"theta":1},{"name":"code execution","salience":0.016114039346575737,"theta":1},{"name":"history file homedir","salience":0.013547450304031372,"theta":1},{"name":"heck","salience":0.012159633450210094,"theta":1},{"name":"import ravel","salience":0.011513198725879192,"theta":1}],"question":"i think i ve gotten my history implementation working except that when i call getenv home for a second time eg to save to the mymysh history file it returns a different path to the first time i call it i use the following code and call it when opening and when saving the command history file the first time i run this homedir is import ravel 4 zxxxxxxx the second time when trying to write to history file homedir is import ravel 4 zxxxxxxx mymysh history how the heck is that possible it s almost as if the home environment is being modified during my code execution to become a random file is there any way that could happen","answers":["it s not a random file that is the history file if you are modifying the return of getenv in place then the next time getenv is called your modification stays",["so if i change the string that getenv gives to me it ll change the home path too",["concatenate the history file name on a copy of the home env var",["is there a better way to do that than mallocing a string and strcpy newstring getenv home also when i try to cd to the home i get a problem that my directory is set at the home for the rest of the shell run regardless of me running cd somewhereelse would that be caused by the same issue of not using a copy of the getenv home string",["is there a better way to do that than mallocing a string and strcpy newstring getenv home no why do you think that s not a good way to do it assuming you make the buffer big enough which means malloc ing strlen enough to append the name of the history file",["i m still not used to c string manipulation so everything looks messy and horrible and i usually assume there s a better way to do it than i do it"]]]],["not quite the memory location used as the return of getenv is always the same if you modify what s at that location you modify what you get back next time"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"input","salience":0.1776549071073532,"theta":1},{"name":"input","salience":0.16291561722755432,"theta":1},{"name":"feature","salience":0.15801946818828583,"theta":1},{"name":"redirection","salience":0.07177482545375824,"theta":1},{"name":"output","salience":0.07177482545375824,"theta":1},{"name":"redirection","salience":0.04965437576174736,"theta":1},{"name":"output","salience":0.04965437576174736,"theta":1},{"name":"command","salience":0.043762218207120895,"theta":1},{"name":"case","salience":0.04023192450404167,"theta":1},{"name":"infile gt","salience":0.04023192450404167,"theta":1},{"name":"wc","salience":0.04023192450404167,"theta":1},{"name":"spec","salience":0.030482929199934006,"theta":1},{"name":"problem","salience":0.02635880745947361,"theta":1},{"name":"advance","salience":0.021441146731376648,"theta":1},{"name":"bash dash","salience":0.015810728073120117,"theta":1}],"question":"extra feature i ve implemented both input and output redirection however i ve also handled the case of both input and output redirection in the same command e g wc lt infile gt outfile this is how bash dash etc behave and more than the spec asks for will that be a problem thanks in advance","answers":["deleted",["no problem thanks",["it will be a problem if one of our test cases checks for this and expects to see an error submit a version that precisely meets the spec anything beyond this is a private thing that you can use to impress your tutor"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"hi","salience":0.6167407631874084,"theta":1},{"name":"sequence number","salience":0.11550786346197128,"theta":1},{"name":"command number","salience":0.09755450487136841,"theta":1},{"name":"thing","salience":0.05694248899817467,"theta":1},{"name":"difference","salience":0.05243724212050438,"theta":1},{"name":"thanks","salience":0.034584611654281616,"theta":1},{"name":"integer","salience":0.026232510805130005,"theta":1}],"question":"hi is the sequence number and the command number the same thing or whats the difference between them also initcommandhistory returns an integer what would it be thanks","answers":["yep they re the same initcommandhistory returns the first sequence number greater than any already used"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"c","salience":0.28507131338119507,"theta":1},{"name":"advice","salience":0.2754549980163574,"theta":1},{"name":"testing filename expansion","salience":0.11287112534046173,"theta":1},{"name":"cd ls","salience":0.08874078094959259,"theta":1},{"name":"ls","salience":0.08168131113052368,"theta":1},{"name":"extent","salience":0.054722514003515244,"theta":1},{"name":"thanks","salience":0.03857243433594704,"theta":1},{"name":"knowledge","salience":0.03857243433594704,"theta":1},{"name":"sample solution","salience":0.02431308850646019,"theta":1}],"question":"hello any advice on testing filename expansion i know i can do cd ls c and ls on the sample solution but that s the extent of my knowledge thanks","answers":["have a look at man 7 glob all the examples should work as you are using the glob function also try filename and username filename"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"environment","salience":0.36698117852211,"theta":1},{"name":"mymysh","salience":0.20823179185390472,"theta":1},{"name":"command line","salience":0.19402416050434113,"theta":1},{"name":"help","salience":0.10433968901634216,"theta":1},{"name":"error","salience":0.06589769572019577,"theta":1},{"name":"thanks","salience":0.06052548065781593,"theta":1}],"question":"hi just wondering what should be the environment of mymysh and how should i type it in the command line because i am getting this error when trying to run thanks for any help","answers":["what kind of machine are you running this on",["my own laptop lenovo thinkpad",["running windows",["yes my laptop is win10 but running this on vlab linux",["hmmm strange i just tested cs1521 bin mymysh on vlab vx4 and it worked ok does cs1521 bin mymysh work what does the command echo path show",["yes cs1521 bin mymysh works fine echo path shows",["did you change any variables before your code reached this point line 66 what did you change and how did you change it",["no i don t think so the only thing i did was to cat history c mymysh c gt exe c and run gcc on exe c if this counts also i have tried to import history c instead of history h but i have changed it back to history h when i ran the code",["it s a dcc thing gcc works fine https gist github com dylan brotherston 41acb999"],["off topic but you should run make with c source code catting was only for mips code",["oh didn t notice this thanks"]],["i am having this error as well i am very sure i haven t changed anything my code runs happily in cygwin on windows but not in the vnc environment i get the exact same error the only change that i believe may be relevant is i changed the make file to make in dcc rather than gcc",["i believe clang dosn t allows for envp as a thired argument to main dcc uses clang so try using gcc instead",["ok cool thank you"],["it s a dcc thing gcc works fine https gist github com dylan brotherston 41acb999",["i tried gcc and it shows this cannot open file the segmentation fault thing may be my own bug but what about the no such file or directory thing",["also please use the makefile"],["probably coming from trying to open mymysh history incorrectly",["got it thanks for your help"]]]]]]]]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error","salience":0.8496323227882385,"theta":1},{"name":"makefile","salience":0.15036766231060028,"theta":1}],"question":"hi i am getting this error when i submit but it compiles fine using the makefile given","answers":["which host did you run the give command on",["it was on a cse machine but it seems to be working now when i submitted again"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history file","salience":0.46753770112991333,"theta":1},{"name":"history","salience":0.15751643478870392,"theta":1},{"name":"commands","salience":0.15122278034687042,"theta":1},{"name":"thanks","salience":0.11710808426141739,"theta":1},{"name":"function","salience":0.10661500692367554,"theta":1}],"question":"does our mymysh history file have to only store the last 20 commands or can it store more all history and have the showhistory function only print the last 20 thanks","answers":["don t care as long as it only holds the last 20 internally i m not fussed what s in the history file",["are we allowed to read from the mymysh history to get the past commands e g the last 17 from the last session and store the current session commands e g the 3 in the current session in the buffer the result of running history would still be the correct 20 commands",["if there are less than 20 commands in the history file load them up and start adding future commands to the historylist if there are at least 20 commands in the history file load the most recent 20 in the historylist and start replacing the oldest command each time you enter a new command"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"sample mymysh","salience":0.1912657618522644,"theta":1},{"name":"command line","salience":0.12610618770122528,"theta":1},{"name":"shell redirection","salience":0.11714664846658707,"theta":1},{"name":"files","salience":0.09382196515798569,"theta":1},{"name":"cat","salience":0.08591051399707794,"theta":1},{"name":"io redirection","salience":0.059775516390800476,"theta":1},{"name":"cat","salience":0.059433549642562866,"theta":1},{"name":"bash shell","salience":0.05872680991888046,"theta":1},{"name":"error","salience":0.05238096043467522,"theta":1},{"name":"command","salience":0.04619261994957924,"theta":1},{"name":"filename expansions","salience":0.03648638352751732,"theta":1},{"name":"specification","salience":0.03648638352751732,"theta":1},{"name":"redirection","salience":0.020120324566960335,"theta":1},{"name":"functionality","salience":0.01614636741578579,"theta":1}],"question":"hi using the sample mymysh is possible to do shell redirection with multiple files cat lt history ch which works like the bash shell but when a similar command is given cat lt history c history h the following error is returned invalid i o redirection do we need to match this functionality or can we assume that redirection will not be tested with filename expansions as the specification states that the last command line should be a filename","answers":["only one file can be given to a redirect if a glob pattern expands to more than one file then it should be an error the mymysh example actually only works with the first file even if two are given from a glob",["thanks for the clarification dylan"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"shell mymysh","salience":0.33079877495765686,"theta":1},{"name":"repost","salience":0.23161961138248444,"theta":1},{"name":"io redirection","salience":0.15928904712200165,"theta":1},{"name":"file","salience":0.14837834239006042,"theta":1},{"name":"thanks","salience":0.07964912801980972,"theta":1},{"name":"both","salience":0.05026509240269661,"theta":1}],"question":"hello i m sure this has been asked already so sorry for potential repost just can t find it for i o redirection are we assuming that we re only ever reading writing from one file and never doing both at the same time as well the shell mymysh looked like it was doing that thanks","answers":["correct only one of lt or gt is allowed at a time"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"comment","salience":0.2818172872066498,"theta":1},{"name":"showcommandhistory file function","salience":0.2742183804512024,"theta":1},{"name":"history","salience":0.24642860889434814,"theta":1},{"name":"function","salience":0.1975357085466385,"theta":1}],"question":"what should the showcommandhistory file function in history c do the comment above the function is not completed","answers":["print the contents if the history structure to the file provided",["i am using fprintf in my showcommand function if that is the case can i just call the showcommandhistory function inside the savehistoryfunction",["you can yes"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"clang error","salience":0.3669240176677704,"theta":1},{"name":"ld","salience":0.1496579945087433,"theta":1},{"name":"clang error linker command","salience":0.10574246942996979,"theta":1},{"name":"mymysh error","salience":0.0792756900191307,"theta":1},{"name":"error","salience":0.0641031339764595,"theta":1},{"name":"t","salience":0.05982140451669693,"theta":1},{"name":"invocation","salience":0.04129325971007347,"theta":1},{"name":"use v","salience":0.0407998189330101,"theta":1},{"name":"exit code","salience":0.0407998189330101,"theta":1},{"name":"computer","salience":0.028750795871019363,"theta":1},{"name":"file","salience":0.022831609472632408,"theta":1}],"question":"clang error unable to execute command executable ld doesn t exist clang error linker command failed with exit code 1 use v to see invocation make mymysh error 1 i get this error when i want to submit it but when i make the file on my own computer it compiles properly what is this trying to say","answers":["nothing is wrong with your code just wait for the submission to be fixed"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"gt","salience":0.6407347321510315,"theta":1},{"name":"file name","salience":0.3592652678489685,"theta":1}],"question":"can we assume the gt or lt is not a valid file name","answers":["you can yes"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"function","salience":0.6815648674964905,"theta":1},{"name":"cmdno","salience":0.1610795259475708,"theta":1},{"name":"cmdno","salience":0.15735559165477753,"theta":1}],"question":"what does inithistory return the function says it returns cmdno but what exactly is cmdno","answers":["part of what initcommand reads are the sequence numbers for the commands it returns the next sequence number i e one more than the largest number in the history that it just read in",["by the way when initcommand is run do the sequence numbers of the commands start back at 0"],["i see i see thanks"],"when you read the mymysh history file each command will have its number return the largest number 1 wa that is the number of the next command to be executed"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"entries","salience":0.3307804465293884,"theta":1},{"name":"number","salience":0.13420610129833221,"theta":1},{"name":"buffer","salience":0.1155475601553917,"theta":1},{"name":"entries","salience":0.09029074758291245,"theta":1},{"name":"number","salience":0.05377800017595291,"theta":1},{"name":"buffer","salience":0.03165636211633682,"theta":1},{"name":"commandhistory","salience":0.029092995449900627,"theta":1},{"name":"history","salience":0.027539672330021858,"theta":1},{"name":"question","salience":0.027539672330021858,"theta":1},{"name":"entries","salience":0.025868460536003113,"theta":1},{"name":"number","salience":0.025868460536003113,"theta":1},{"name":"file","salience":0.024113591760396957,"theta":1},{"name":"number","salience":0.018194379284977913,"theta":1},{"name":"commands","salience":0.015477458015084267,"theta":1},{"name":"entries","salience":0.014435079880058765,"theta":1},{"name":"file thanks","salience":0.01361010130494833,"theta":1},{"name":"file","salience":0.013448589481413364,"theta":1},{"name":"beginning","salience":0.00855229888111353,"theta":1}],"question":"hey does nentries refer to the number of entries in the buffer that are not empty or does it refer to the number of entries that have already been added to the history even if they have been removed from the buffer follow up question when initialising the commandhistory are we supposed to assume that there are 0 entries in the beginning before reading the file such that the number of entries after the file has been read in will the number of commands in the file thanks","answers":["i used it as the number of entrys in the array but you can use it however you like inithistory is the first thing done by the shell so you can assume that there are no commands in history",["ahh thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"hello","salience":0.4076937139034271,"theta":1},{"name":"history","salience":0.18313486874103546,"theta":1},{"name":"catering","salience":0.16541999578475952,"theta":1},{"name":"reason","salience":0.09715153276920319,"theta":1},{"name":"numbers","salience":0.06810303777456284,"theta":1},{"name":"advance","salience":0.048111263662576675,"theta":1},{"name":"command","salience":0.0303855761885643,"theta":1}],"question":"hello is there some special catering we must do if for some reason our history goes past the 999th command i e into 4 digit numbers thanks in advance","answers":["no amway use the same format i doubt that testing will go on long enough for this to matter"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history","salience":0.5016162395477295,"theta":1},{"name":"fgets","salience":0.19280052185058594,"theta":1},{"name":"file","salience":0.19052988290786743,"theta":1},{"name":"content","salience":0.0812583938241005,"theta":1},{"name":"cat","salience":0.03379494324326515,"theta":1}],"question":"why doesnt mymysh history act like a proper file i cant fscanf from it or fgets from it even though i cat it i see theres content ive written on it","answers":["the mymysh history file needs to be in your home directory as given by the home environment variable if the file is at home mymysh history it also needs to be opened with fopen home mymysh history r but home needs to be expanded into a path first",["where does home come from what is it i assume it s some sort of absolute path to the current user s home file but i don t remember it being covered yet",["you can find it in the environment",["i haven t seen week 9 s lectures yet are environment variables covered there or somewhere else",["not sure they were covered in week08 lab and tute",["iirc our tute mostly skimmed over them since we could just pass in the envps we got from main is there another source of info for the 1521 course you know of that i could look through",["not really sure chech week07 08 lecture notes and also the answers to the week08 tute also man getenv"]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"many","salience":0.363089919090271,"theta":1},{"name":"cd variants","salience":0.14971643686294556,"theta":1},{"name":"some","salience":0.11167283356189728,"theta":1},{"name":"handles","salience":0.10402291268110275,"theta":1},{"name":"cd username","salience":0.07274962216615677,"theta":1},{"name":"cd","salience":0.06376484781503677,"theta":1},{"name":"example","salience":0.051311392337083817,"theta":1},{"name":"oliver","salience":0.051311392337083817,"theta":1},{"name":"others","salience":0.03236065059900284,"theta":1}],"question":"how many of these cd variants do we need to code i know chdir handles for you but some of the others behave rather strangely cd username and straight cd for example oliver","answers":["try them on the provided executable at 1521 mymysh and see what works and what doesn t"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"header gt im","salience":0.20995382964611053,"theta":1},{"name":"header gt","salience":0.07340995967388153,"theta":1},{"name":"footer gt reply","salience":0.06345126777887344,"theta":1},{"name":"comment","salience":0.05516863986849785,"theta":1},{"name":"post","salience":0.044388432055711746,"theta":1},{"name":"top","salience":0.03907064348459244,"theta":1},{"name":"discussion","salience":0.03907064348459244,"theta":1},{"name":"history","salience":0.03848949074745178,"theta":1},{"name":"history file","salience":0.01996040530502796,"theta":1},{"name":"im","salience":0.01859433762729168,"theta":1},{"name":"rui tong","salience":0.018295912072062492,"theta":1},{"name":"header gt","salience":0.017786283046007156,"theta":1},{"name":"showcommandhistory function","salience":0.016969235613942146,"theta":1},{"name":"history","salience":0.015205303207039833,"theta":1},{"name":"file pointer","salience":0.01491553895175457,"theta":1},{"name":"assignment","salience":0.01491553895175457,"theta":1},{"name":"commandhistory","salience":0.0144772594794631,"theta":1},{"name":"struct","salience":0.014473390765488148,"theta":1},{"name":"commandhistory","salience":0.014301075600087643,"theta":1},{"name":"showcommandhistory","salience":0.014123253524303436,"theta":1},{"name":"command history","salience":0.013956429436802864,"theta":1},{"name":"file","salience":0.013660774566233158,"theta":1},{"name":"h command","salience":0.013287849724292755,"theta":1},{"name":"savecommandhistory","salience":0.01256859116256237,"theta":1},{"name":"file","salience":0.012538093142211437,"theta":1},{"name":"header gt john shepherd","salience":0.011609040200710297,"theta":1},{"name":"show function","salience":0.011467594653367996,"theta":1},{"name":"places","salience":0.0102012874558568,"theta":1},{"name":"time","salience":0.010076921433210373,"theta":1},{"name":"implementation","salience":0.010076921433210373,"theta":1},{"name":"program","salience":0.010076921433210373,"theta":1},{"name":"struct variable","salience":0.010076921433210373,"theta":1},{"name":"everything","salience":0.010076921433210373,"theta":1},{"name":"header gt showcommandhistory","salience":0.008701910264790058,"theta":1},{"name":"shell","salience":0.0068910024128854275,"theta":1},{"name":"footer gt","salience":0.00653275428339839,"theta":1},{"name":"showcommandhistory","salience":0.0063473316840827465,"theta":1},{"name":"header gt","salience":0.0058989147655665874,"theta":1},{"name":"understanding","salience":0.00463954359292984,"theta":1},{"name":"reply","salience":0.004542544949799776,"theta":1},{"name":"header gt savecommandhistory","salience":0.004497987683862448,"theta":1},{"name":"thanks","salience":0.004229786340147257,"theta":1},{"name":"im","salience":0.004229786340147257,"theta":1},{"name":"understanding","salience":0.0038580824621021748,"theta":1},{"name":"history log","salience":0.003739328356459737,"theta":1},{"name":"call","salience":0.0033889063633978367,"theta":1},{"name":"jas","salience":0.0030975830741226673,"theta":1},{"name":"thanks","salience":0.0029607880860567093,"theta":1},{"name":"thing","salience":0.0028527325484901667,"theta":1},{"name":"way","salience":0.0028527325484901667,"theta":1},{"name":"shell","salience":0.002700475277379155,"theta":1},{"name":"writing","salience":0.002371935173869133,"theta":1},{"name":"showcommandhistory","salience":0.0023155128583312035,"theta":1},{"name":"footer gt reply","salience":0.001992196077480912,"theta":1},{"name":"header gt john shepherd","salience":0.0016917446628212929,"theta":1},{"name":"case","salience":0.0014858508948236704,"theta":1},{"name":"factor","salience":0.0014858508948236704,"theta":1}],"question":"hello i deleted a comment on an old post i made because i realised that it doesn t bump it back to the top so i m just making a new post original discussion lt header gt rui tong 4 days ago last modified 4 days ago lt header gt i m currently looking at the showcommandhistory function and basically i gather that i m reading from a file pointer to the mymysh history file is there really any purpose for doing this because when i look at the assignment i feel like it d be much simpler to just store everything in the already defined global struct variable commandhistory and then read from that instead for the show function and then call savecommandhistory before the program quits whereas from what i see in this current implementation every time i want to add to my history i need to always store it in commandhistory and then write it out to mymysh history which feels like i always need to write to 2 different places at once the struct and the file thanks lt header gt john shepherd 4 days ago last modified 4 days ago lt header gt showcommandhistory writes to the file handle this allows you to double up using it interactively for the h command and to save the command history to the mymysh history fiile lt footer gt reply lt footer gt lt header gt rui tong 4 days ago lt header gt hang on sorry about this jas but in that case what s the distinguishing factor between showcommandhistory and savecommandhistory lt footer gt reply edit delete lt footer gt lt header gt john shepherd 4 days ago lt header gt savecommandhistory could be implemented very easily using showcommandhistory lt footer gt reply lt footer gt deleted reply sort of thanks jas although i m now wondering about this from my understanding i may have misinterpreted but my understanding is that savecommandhistory call s showcommandhistory to ensure that showcommandhistory does the writing for me but if my shell wants to exit now this is going to be problematic because the last thing i want is for my shell to print out a history log right before it exits is there any way i can overcome this thanks","answers":["and to clarify any and all functions can be edited added or removed its recommended to call showcommandhistory from savecommandhistory but you don t need to",["ahh i see your point now we can send it to stdout or send it to some file we made in save thanks dylan"],"showcommandhistory only outputs to one place the place given by the file argument"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cat","salience":0.29762977361679077,"theta":1},{"name":"command","salience":0.20646347105503082,"theta":1},{"name":"txt file","salience":0.19128760695457458,"theta":1},{"name":"first","salience":0.09657788276672363,"theta":1},{"name":"file","salience":0.06765076518058777,"theta":1},{"name":"bin mymysh","salience":0.05056244134902954,"theta":1},{"name":"redirect command","salience":0.04776740446686745,"theta":1},{"name":"lot","salience":0.04206065461039543,"theta":1}],"question":"hi when i try cat lt txt command at cs1521 bin mymysh i found that only the first matched txt file will be matched does that mean we only need to match the first file in the redirect command thanks a lot","answers":["only one file can be redirected into or out of cat lt txt should be an error as only one file is allowed","since it is really hard to let stdin stdout to point to several file descriptors at same time"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cat","salience":0.3318019211292267,"theta":1},{"name":"return","salience":0.1366722136735916,"theta":1},{"name":"file","salience":0.06578827649354935,"theta":1},{"name":"child process","salience":0.05701170489192009,"theta":1},{"name":"situation","salience":0.053995124995708466,"theta":1},{"name":"running bin cat cat","salience":0.053995124995708466,"theta":1},{"name":"error message","salience":0.049647603183984756,"theta":1},{"name":"error","salience":0.04937539994716644,"theta":1},{"name":"directory","salience":0.042226970195770264,"theta":1},{"name":"file","salience":0.041721031069755554,"theta":1},{"name":"directory","salience":0.041721031069755554,"theta":1},{"name":"somewhere","salience":0.02584662288427353,"theta":1},{"name":"hints","salience":0.019062746316194534,"theta":1},{"name":"advance","salience":0.018154749646782875,"theta":1},{"name":"child process","salience":0.012979486025869846,"theta":1}],"question":"hi since we need to print the return 0 1 at the end for this situation mymysh cat xyz running bin cat cat xyz no such file or directory returns 1 although it will print no such file or directory but it is not a error so we can not get the error message from the child process can i get some hints of how i know the child process goes wrong somewhere so that i will know i should return 1 rather than 0 thank you in advance","answers":["read man 2 wait"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command history file","salience":0.13310682773590088,"theta":1},{"name":"commands","salience":0.10149849951267242,"theta":1},{"name":"shell","salience":0.08395859599113464,"theta":1},{"name":"assignment spec","salience":0.0760091170668602,"theta":1},{"name":"command history","salience":0.044943444430828094,"theta":1},{"name":"commands","salience":0.04335510730743408,"theta":1},{"name":"instance history","salience":0.030941452831029892,"theta":1},{"name":"history","salience":0.030941452831029892,"theta":1},{"name":"history","salience":0.030569564551115036,"theta":1},{"name":"lecture","salience":0.02991793304681778,"theta":1},{"name":"command","salience":0.02842864766716957,"theta":1},{"name":"command sequence","salience":0.026338761672377586,"theta":1},{"name":"difference","salience":0.026331793516874313,"theta":1},{"name":"record","salience":0.026331793516874313,"theta":1},{"name":"commands","salience":0.023185549303889275,"theta":1},{"name":"file","salience":0.020289722830057144,"theta":1},{"name":"command","salience":0.019991030916571617,"theta":1},{"name":"someone","salience":0.019912483170628548,"theta":1},{"name":"runs","salience":0.017845159396529198,"theta":1},{"name":"shell","salience":0.01679438352584839,"theta":1},{"name":"shell","salience":0.01679438352584839,"theta":1},{"name":"command history list","salience":0.01658639870584011,"theta":1},{"name":"commands","salience":0.015103346668183804,"theta":1},{"name":"history","salience":0.015103346668183804,"theta":1},{"name":"history","salience":0.015103346668183804,"theta":1},{"name":"requirement","salience":0.014246838167309761,"theta":1},{"name":"lecture","salience":0.014246838167309761,"theta":1},{"name":"pipe","salience":0.012524827383458614,"theta":1},{"name":"challenge component","salience":0.011638715863227844,"theta":1},{"name":"sequence","salience":0.011222290806472301,"theta":1},{"name":"requirement","salience":0.00999283604323864,"theta":1},{"name":"spec","salience":0.009871219284832478,"theta":1},{"name":"sequence","salience":0.006874288897961378,"theta":1}],"question":"hi how many commands do we record in the current shell instance history the assignment spec says 20 but jas said 50 in the lecture also could someone explain to me the difference between the permanent record of command history and the instance history like do we on closing the shell save the current temporary history into this permanent file then when the shell next runs use that history as the current instance history as well does the permanent command history file only hold 20 50 commands at a time also if we start overwriting the oldest command in the temporary command history list is the new command sequence 21 51 or does it become 20 50 and all undeleted commands have their sequence reduced by 1 with the current sequence 1 command being deleted finally for now is pipe handling a challenge component or a requirement in the lecture it seemed to be phrased as a requirement but the spec says it s a challenge edit are the commands h and history recorded in the history","answers":["20 commands are in history there is a defined constant in the history c file that has the correct number when the shell starts if a history file exists it is loaded into memory inside the shell when the shell executes a correct command the command is added to the internal history if there are more than 20 in history the least recent command is removed from history when the shell is shutdown the internal history is saved into the history file overwriting whatever is in there command history starts a 1 if there isn t a file to read then always increases by one for each command 1 2 3 19 20 21 100 101 102 pipes are not required by the shell only input or output redirection always go by the spec above jas above me above supplied code"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"program","salience":0.5102254152297974,"theta":1},{"name":"redirects","salience":0.16605080664157867,"theta":1},{"name":"cmd gt cmd","salience":0.16605080664157867,"theta":1},{"name":"example","salience":0.1576729714870453,"theta":1}],"question":"does the program need to handle multiple redirects for example cmd lt cmd gt cmd or can i assume that there will be 1 redirect","answers":["if you try it on the provided executable 1521 mymysh and you ll see that only one of lt or gt is accepted at a time"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"requirement","salience":0.29231753945350647,"theta":1},{"name":"function","salience":0.2188653200864792,"theta":1},{"name":"format","salience":0.1069423034787178,"theta":1},{"name":"return value","salience":0.09443005919456482,"theta":1},{"name":"function","salience":0.0680987536907196,"theta":1},{"name":"char filenameexpand char tokens","salience":0.0644926056265831,"theta":1},{"name":"format","salience":0.06040453538298607,"theta":1},{"name":"pattern match glob case","salience":0.042302701622247696,"theta":1},{"name":"advance","salience":0.0320047028362751,"theta":1},{"name":"way","salience":0.020141469314694405,"theta":1}],"question":"hi i wonder if there is specific requirement of the format of the return value of the char filenameexpand char tokens function if not will this function be individually test how it will test and can i not use this function if i can use other way to handle the pattern match glob case if so what should be the format thank you in advance","answers":["to my knowledge no functions will be individually tested you can add as many functions as you want to either mymysh c or history c h",["and i can also not use some of the function which already added and need me to fill for example if i think i can implement my shell to expand all file names without using char filenameexpand char tokens function i can just not use it as long as i can get the right output i can still get the mark for lt dl gt lt dt gt expand filename wildcards 2 marks part i can delete that function which already written for me and want me to implement with todo in the file that i submit",["as long as your shell does it it doesn t matter how"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.36727237701416016,"theta":1},{"name":"glob","salience":0.22197173535823822,"theta":1},{"name":"pattern match","salience":0.17901578545570374,"theta":1},{"name":"array","salience":0.13500508666038513,"theta":1},{"name":"glob result","salience":0.09673501551151276,"theta":1}],"question":"do we need to handle several pattern match by using glob in one command which means we need to have a array of glob result","answers":["yes multiple arguments might have to be globed glob returns a struct with a gl pathv for you read man 3 glob for info on the struct and how to glob multiple things",["since if the pattern matched is one we can simply replaced but if pattern matched greater than one we need to have a loop so will we have 2 or more like txt in one command that means we will have several gl pathv i am not to sure how to handle this case",["you need multiple calls to glob but only one glob t steuct read the man page it has info about calling glob multiple times",["but if i use append all the path will be append in one struct if i have 3 argv token contains when i actually run the command does that mean i need to have 3 loops to loop through all the command",["there is no problem with having all paths in one struct"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"test1 txt test2 txt","salience":0.16297271847724915,"theta":1},{"name":"interaction","salience":0.15974260866641998,"theta":1},{"name":"filename expansion","salience":0.15200963616371155,"theta":1},{"name":"io redirection","salience":0.13504397869110107,"theta":1},{"name":"hello gt txt","salience":0.06665845960378647,"theta":1},{"name":"sample program","salience":0.05382988229393959,"theta":1},{"name":"txt","salience":0.04555518180131912,"theta":1},{"name":"filename expansion","salience":0.03875266760587692,"theta":1},{"name":"gt","salience":0.0385110042989254,"theta":1},{"name":"directory","salience":0.036691851913928986,"theta":1},{"name":"spec","salience":0.03413298353552818,"theta":1},{"name":"token","salience":0.02633395604789257,"theta":1},{"name":"error","salience":0.022343868389725685,"theta":1},{"name":"tokens","salience":0.01599532552063465,"theta":1},{"name":"command line","salience":0.01142587885260582,"theta":1}],"question":"what is the interaction between filename expansion and io redirection running echo hello gt txt in the sample program when test1 txt and test2 txt exist in the current directory writes hello to test1 txt and leaves test2 txt empty this seems inconsistent with the spec as after filename expansion the tokens in the command line would be echo hello gt test1 txt test2 txt so gt is not the 2nd last token and so this should instead be an error","answers":["file name expansion should not happen after lt or gt only one file can be given"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"something","salience":0.263254851102829,"theta":1},{"name":"mymysh","salience":0.13137923181056976,"theta":1},{"name":"sample program","salience":0.10631527006626129,"theta":1},{"name":"gedit mymysh c","salience":0.09651471674442291,"theta":1},{"name":"c","salience":0.08988117426633835,"theta":1},{"name":"reactions","salience":0.07266881316900253,"theta":1},{"name":"shell","salience":0.07094963639974594,"theta":1},{"name":"command","salience":0.06762902438640594,"theta":1},{"name":"press control z","salience":0.06762902438640594,"theta":1},{"name":"gedit mymysh c amp aonther text file amp","salience":0.03377825394272804,"theta":1}],"question":"i ve noticed something with both the sample program and my own mymysh c when i try to execute gedit mymysh c sometimes the shell just have no reactions after executing the command unless press control z or c but when i try to run gedit mymysh c amp aonther text file amp will be created how can i fix this","answers":["graphical programs won t be run under mymysh there is a lot of hacks and tricks used to make them work now amp is a shell builtin like gt or lt as your shell doesn t do anything with this like bash does it is simply passed to the called program"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"showcommandhistory file outf function","salience":0.2421441525220871,"theta":1},{"name":"function","salience":0.16926327347755432,"theta":1},{"name":"outs","salience":0.1353701949119568,"theta":1},{"name":"savecommandhistory","salience":0.12609784305095673,"theta":1},{"name":"content","salience":0.11883945763111115,"theta":1},{"name":"file","salience":0.07685466855764389,"theta":1},{"name":"advance","salience":0.06768901646137238,"theta":1},{"name":"functions","salience":0.06374139338731766,"theta":1}],"question":"hi i wonder for void showcommandhistory file outf function if the outs already open and is what this function does quite similar to void savecommandhistory both these 2 functions do is to write the content to the file thank you in advance","answers":["void savecommandhistory saves the contents of the history structure to the file home mymysh history this can be done with a call to showcommandhistory void showcommandhistory file outf prints the contents of the history structure to a specified file stream outf",["so the file stream outf have already been opened before it is passed into the function all i need is to write things to the function and i do not need to close the file stream inside the function void showcommandhistory file outf thank you in advance",["it needs to be opened before the function call yes showcommandhistory uses the file stream only"]],"and the contents are the same",["yes"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"commands","salience":0.31820836663246155,"theta":1},{"name":"ordering","salience":0.21589434146881104,"theta":1},{"name":"commands","salience":0.20651832222938538,"theta":1},{"name":"history file","salience":0.07856911420822144,"theta":1},{"name":"ordering","salience":0.06768810003995895,"theta":1},{"name":"history","salience":0.062072426080703735,"theta":1},{"name":"reverse order","salience":0.03381911665201187,"theta":1},{"name":"format","salience":0.017230208963155746,"theta":1}],"question":"does the ordering of the commands in the mymysh history file have to exactly match the ordering when history is displayed although individual commands are stored in the same format as when displayed they happen to be ordered in the reverse order","answers":["the file should be in ascending order the same as the history command"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"int initcommandhistory","salience":0.43177950382232666,"theta":1},{"name":"int nentries","salience":0.3317670226097107,"theta":1},{"name":"struct","salience":0.23645344376564026,"theta":1}],"question":"hi i also wonder what should be returned by int initcommandhistory is that int nentries inside the struct","answers":["as i was told the other day it returns nentries 1 ie the sequence number of the next command thats why its return value is assigned to the variable cmdno in main"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history","salience":0.2804289758205414,"theta":1},{"name":"order","salience":0.25054702162742615,"theta":1},{"name":"cd","salience":0.1121293231844902,"theta":1},{"name":"example","salience":0.1026647761464119,"theta":1},{"name":"cd","salience":0.09191561490297318,"theta":1},{"name":"cd","salience":0.07003065943717957,"theta":1},{"name":"thanks","salience":0.03508452698588371,"theta":1},{"name":"advance","salience":0.03508452698588371,"theta":1},{"name":"queue","salience":0.022114582359790802,"theta":1}],"question":"will command change internal order of history for example if i have a history recording 0 cd 1 ls 2 cat xxxxx then i used 1 which corresponds to 0 cd will cd enter the queue so that it looks like 0 cd 1 cd or keep consistent as before thanks in advance","answers":["what does cs1521 bin mymysh do",["sorry didn t fully read the specification"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"problem","salience":0.7525140047073364,"theta":1},{"name":"ld","salience":0.09379341453313828,"theta":1},{"name":"code","salience":0.07139796018600464,"theta":1},{"name":"make","salience":0.05043895170092583,"theta":1},{"name":"t exit","salience":0.03185567259788513,"theta":1}],"question":"i have a problem about give why when i run give it says that executable ld doesn t exit i can guarant my code could complie with make","answers":["ld is the program used to combine o files in your submission by clang this isn t a problem with your code it will be fixed soon",["thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"question","salience":0.26485440135002136,"theta":1},{"name":"mode","salience":0.12343276292085648,"theta":1},{"name":"mode","salience":0.12343276292085648,"theta":1},{"name":"path","salience":0.10911700874567032,"theta":1},{"name":"file","salience":0.07888205349445343,"theta":1},{"name":"assignment","salience":0.0756254568696022,"theta":1},{"name":"redirection part","salience":0.0747298076748848,"theta":1},{"name":"file","salience":0.05992948263883591,"theta":1},{"name":"everything","salience":0.05279945209622383,"theta":1},{"name":"lines","salience":0.0371968075633049,"theta":1}],"question":"i have a question about the mode of open path mode in the redirection part of the assignment if i want to write to a file how can i guarant that i can overwrite everything in the file not just the first few lines","answers":["open is actually open path flags mode read man 2 open for the full list of flags but the o trunc is one of the flags you need",["thanks"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"problem","salience":0.5112134218215942,"theta":1},{"name":"command","salience":0.17302820086479187,"theta":1},{"name":"command","salience":0.16142971813678741,"theta":1},{"name":"disk quota","salience":0.07716431468725204,"theta":1},{"name":"vlab","salience":0.07716431468725204,"theta":1}],"question":"i have a problem about the execve command why after i try to redirect a command i suddenly blow up the disk quota of vlab","answers":["what command",["execve ls and redirect to hello",["and after that the folder occupy 60 of my total memory",["any increase in ram should only last for the duration of the ls command and it should only be a small increase"]],["if you don t close after dup2 correctly then all output can start going to your file",["can the fork blow up memory i only fork before the actull exe",["a fork bomb can blow up memory but that requires each forked process to also call fork",["yes i ve just fixed the bug which is a fork bomb this morning but how can i reduce the memory currently there s only 1 6 mb in that folder but the quota is still reach the limit",["memory ram or storage disk",["i ve already clean up the file during help sessions thankyou"]]]],["a fork will at most double the memory ram used after the exec then you have the memory of that new process instead of a second copy of your own program"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"im","salience":0.1498657613992691,"theta":1},{"name":"showcommandhistory function","salience":0.1498657613992691,"theta":1},{"name":"assignment","salience":0.1073511466383934,"theta":1},{"name":"history","salience":0.0768984854221344,"theta":1},{"name":"purpose","salience":0.0656130388379097,"theta":1},{"name":"history file","salience":0.0640689805150032,"theta":1},{"name":"file pointer","salience":0.051544319838285446,"theta":1},{"name":"commandhistory","salience":0.04022417590022087,"theta":1},{"name":"show function","salience":0.03694409504532814,"theta":1},{"name":"everything","salience":0.03538636118173599,"theta":1},{"name":"struct variable","salience":0.03538636118173599,"theta":1},{"name":"savecommandhistory","salience":0.03249622881412506,"theta":1},{"name":"program","salience":0.03249622881412506,"theta":1},{"name":"commandhistory","salience":0.027918413281440735,"theta":1},{"name":"struct","salience":0.024410832673311234,"theta":1},{"name":"places","salience":0.017218422144651413,"theta":1},{"name":"file thanks","salience":0.017218422144651413,"theta":1},{"name":"history","salience":0.013479945249855518,"theta":1},{"name":"implementation","salience":0.010806510224938393,"theta":1},{"name":"time","salience":0.010806510224938393,"theta":1}],"question":"i m currently looking at the showcommandhistory function and basically i gather that i m reading from a file pointer to the mymysh history file is there really any purpose for doing this because when i look at the assignment i feel like it d be much simpler to just store everything in the already defined global struct variable commandhistory and then read from that instead for the show function and then call savecommandhistory before the program quits whereas from what i see in this current implementation every time i want to add to my history i need to always store it in commandhistory and then write it out to mymysh history which feels like i always need to write to 2 different places at once the struct and the file thanks","answers":["showcommandhistory writes to the file handle this allows you to double up using it interactively for the h command and to save the command history to the mymysh history fiile",["hang on sorry about this jas but in that case what s the distinguishing factor between showcommandhistory and savecommandhistory",["savecommandhistory could be implemented very easily using showcommandhistory"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history file","salience":0.26626574993133545,"theta":1},{"name":"home history","salience":0.25745731592178345,"theta":1},{"name":"home","salience":0.18502074480056763,"theta":1},{"name":"error","salience":0.11515597254037857,"theta":1},{"name":"file","salience":0.09358766674995422,"theta":1},{"name":"director","salience":0.08251255750656128,"theta":1}],"question":"how can i create the history file in the home currently when i try open or fopen home history will always fail and error says no such file or director","answers":["home is an environment variable that needs to be expanded either with getenv or by a search of envp"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"mistake","salience":0.1675681471824646,"theta":1},{"name":"redirection command","salience":0.1506538838148117,"theta":1},{"name":"sample program","salience":0.13364405930042267,"theta":1},{"name":"cat","salience":0.05999777466058731,"theta":1},{"name":"file","salience":0.05858435481786728,"theta":1},{"name":"error","salience":0.04162329062819481,"theta":1},{"name":"cat","salience":0.040888234972953796,"theta":1},{"name":"token","salience":0.03644401580095291,"theta":1},{"name":"elsewhere","salience":0.03644401580095291,"theta":1},{"name":"assignment","salience":0.03644401580095291,"theta":1},{"name":"definition","salience":0.03644401580095291,"theta":1},{"name":"directory","salience":0.036006610840559006,"theta":1},{"name":"command line","salience":0.03348821401596069,"theta":1},{"name":"case","salience":0.029312411323189735,"theta":1},{"name":"file name","salience":0.025340208783745766,"theta":1},{"name":"error","salience":0.022173799574375153,"theta":1},{"name":"output","salience":0.02137303538620472,"theta":1},{"name":"error","salience":0.02061181701719761,"theta":1},{"name":"argument","salience":0.012958084233105183,"theta":1}],"question":"is there a small mistake in the redirection command of the sample program when i run cat lt try 2 try 3 the two file are in my own directory it actully cat try 2 however according to the definition of the assignment having lt as the last token or elsewhere in the command line is also an error this case should produce an error not directly taking the argument next to lt as the file name also like wc l try 2 gt try 3 try 4 try 5 the output is in the try 3 but not an error","answers":["fixed new mymysh installed","correct only one file name is allowed"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cat command","salience":0.44070371985435486,"theta":1},{"name":"history file","salience":0.36505213379859924,"theta":1},{"name":"farmat","salience":0.12883305549621582,"theta":1},{"name":"stdout","salience":0.032904356718063354,"theta":1},{"name":"program","salience":0.03250672295689583,"theta":1}],"question":"for the history file when i run the cat command on it shall it be exactly the same farmat as the one i print in the stdout or i could update it only when the program actually finishes","answers":["the mymyh history file is updated by savecommandhistory and that is only called right at the end",["so when i cat the mymyh history file shall it be the same format as the history in the stdout",["if you are in mymysh and you cat the file it should look like it did before you started your session only after you type exit will the file be updated but the format is the same yes 3d s n",["so can i assume that it is only updated when someone press exit for example when i press control c and terminate the process the records in the history list will just disappear",["only exit and d will update history if mymysh is terminated with c then the history file stays as if the current session didn t happen"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"redirect","salience":0.24893824756145477,"theta":1},{"name":"questions","salience":0.20481541752815247,"theta":1},{"name":"redirect command","salience":0.0907617136836052,"theta":1},{"name":"filename","salience":0.06520991027355194,"theta":1},{"name":"input command","salience":0.06520991027355194,"theta":1},{"name":"gt","salience":0.06443912535905838,"theta":1},{"name":"token","salience":0.06217913329601288,"theta":1},{"name":"token","salience":0.05999576672911644,"theta":1},{"name":"redirect","salience":0.04983416199684143,"theta":1},{"name":"cases","salience":0.04012635722756386,"theta":1},{"name":"pairs","salience":0.0282554030418396,"theta":1},{"name":"filename","salience":0.02023487165570259,"theta":1}],"question":"i have 2 questions about redirect can i assume that the redirect command always have the last 2 token as gt and a filename and reditrct input command always have the first 2 token as lt and a filename and for the redirect do we need to consider cases with mumltiple pairs of lt gt","answers":["no you could just get a command then a gt with no filename the last two tokens are either lt filename or gt filename both input and output redirection is not allowed",["should input be the first two token and should this type of command needed to be consider inputfile lt sort gt outputfile and what is the meaning of getting a command then gt with no filename",["see my other post input or output redirection is always after the command gt with no filename is an error"]],["there are 3 possible correct formats for a input line command arg command arg lt filename command arg gt filename where arg means optionally one or more arguments only 1 is correct for inbuilts everything else is incorrect in some way",["yeah thanks so this shell is different from the one in vlab even if redirect input we need to put lt file name at the back",["what shell on vlab all shells i know of need redirects after commands",["oh i made a mistake but will this kind of command considered for this assignment like the command used in 2521 lab time sort n lt tmp nums gt dev null",["as i said only one redirect will be used either lt tmp nums or gt dev null but not both",["thanks so much"]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"reference program","salience":0.6794396638870239,"theta":1},{"name":"status codes exec","salience":0.20068949460983276,"theta":1},{"name":"file","salience":0.11987083405256271,"theta":1}],"question":"reference program is returning two status codes exec is an empty executable file","answers":["hi andrew the sample program has been fixed mymysh testrunning test test unknown type of executable returns 255mymysh exit bash","the return code from an empty program should be 0 not 255 looks like jas isn t killing a forked process correctly so there are two returns there should of course only be one return printed",["hm it looks like a bash thing actually tried it in zsh and i get the error code 126 bash is probably running the file as a bash script",["and that s just a zsh thing per posix there is no defined behaviour when an empty file is executed bash just runs it as a script and zsh errors out with a file was not executable it s undefined behaviour as jas is returning 255 you should do the same",["the same is true for any non shebanged script file jas s implementation will break you should not break and return 255 for now jas may have an update once he fixes the problems"]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"filename expansion","salience":0.44179895520210266,"theta":1},{"name":"character","salience":0.15841972827911377,"theta":1},{"name":"middle","salience":0.14790022373199463,"theta":1},{"name":"example","salience":0.11330996453762054,"theta":1},{"name":"hello cs1521","salience":0.08053261041641235,"theta":1},{"name":"file expansion","salience":0.058038510382175446,"theta":1}],"question":"when shall a filename expansion happen for a character can the be used as the middle of a file expansion for example ls l hello cs1521","answers":["must always be the first char in a path",["so in this case i can just glob and move on",["yep that is as long as you check globs return for errors",["so in what case involves shall i remove some part of the path name i m getting really confused for example if i do wc l zid cs1521 week07 c the actull command saves the path name but when i do wc l c the output removes the path name",["sorry yifan i don t follow",["it is like for the same directory wc l zid cs1521 week07 c the correct output will be home zid cs1521 week07 a c home zid cs1521 week07 b c etc but if i m in the directory and do wc l c the output would be a c b c so my question is in what case the path name obtained by glob should be removed",["for zid cs1521 week07 c first glob resolves the then every file in home zid cs1521 week07 that matches c is found and the full path is return as the full path is given for c every file in the current directory as found by getcwd that match c is found and the relative path from the current directory is returned you can then get the current path from getcwd or from pwd in envp and strcat each result onto a copy of it",["then can i assume that home is the largest directory every other directory comes from home",["is the root directory every absolute path starts with a relative path starts with anything else",["thanks i finally understand"]]]]]]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error messages","salience":0.7678642868995667,"theta":1},{"name":"stdout","salience":0.23213572800159454,"theta":1}],"question":"should error messages be sent to stderr or stdout","answers":["unless specified it doesn t really matter debugging and logging can be easier if errors go to a different place than normal output but in this case it s is entirely up to you"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.3492657542228699,"theta":1},{"name":"error message","salience":0.1475483924150467,"theta":1},{"name":"cage export cage","salience":0.08750823885202408,"theta":1},{"name":"cage export cage","salience":0.08154423534870148,"theta":1},{"name":"perror","salience":0.07571712881326675,"theta":1},{"name":"wc","salience":0.06969371438026428,"theta":1},{"name":"directory","salience":0.05298352241516113,"theta":1},{"name":"file","salience":0.037384528666734695,"theta":1},{"name":"directory","salience":0.037384528666734695,"theta":1},{"name":"perror","salience":0.037384528666734695,"theta":1},{"name":"file","salience":0.02358543686568737,"theta":1}],"question":"when a command fails and needs to print an error message how to remove the tmp amd cage export cage 2 z5173587 cs1521 assign2 in perror i mean instead of showing wc tmp amd cage export cage 2 z5173587 cs1521 assign2 c no such file or directory how can i just show wc c no such file or directory with perror","answers":["dylan is right in his comments about perror i assume that this output is coming from your attempt at mymysh and not the reference solution did you use glob to do the expansion i just tested this command on the reference solution and got jas williams cs1521 bin mymysh mymysh wc c running usr bin wc wc c no such file or directory returns 1 mymysh which is what i would have expected",["the only difference is that instead of printing wc c no such file or directory my out put is after the call to execve function wc tmp amd cage export cage 2 z5173587 cs1521 assign2 c no such file or directory",["it appears that you are just appending c onto the end of the current path or just giving c to wc jas mentioned the glob function the file path needs to be parsed by the glob function in order for special chars like to be expanded edit let me rephrase i assume you are entering something like this mymysh wc c and you then tokenise this line into wc c at the moment it looks like you are just calling execve wc wc c envp now c has no special meaning to wc so wc is just appending c onto the end of the current path the current path is pwd in envp and is tmp amd cage export cage 2 z5173587 cs1521 assign2 this is where the error comes from to get this working properly c needs to be transformed into an absolute path so that wc does t append it to pwd to do this use the glob function then pass the globed path as the second argument like so execve wc wc home username c envp where home username c was returned from glob c",["do you mean that not only the args the path must also be expanded",["see my edit",["deleted",["hi yifan that s a bit to much code for the forum please delete that and send me an email"]]]]]],"perror is only used when a system call fails ie something found in man 2 perror then generates an error message based on errno for other errors like not finding a command use fprintf to stderr if you are running wc and wc is producing wc tmp amd cage export cage 2 z5173587 cs1521 assign2 c no such file or directory then that means that wc is getting tmp amd cage export cage 2 z5173587 cs1521 assign2 c as its second argument",["i understand that wc is getting tmp amd cage export cage 2 z5173587 cs1521 assign2 c as the second argument however currently the file pass of execve file arg envp should be the one above is it possible to let the eveve print a different error message like something begin with wc c"]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history","salience":1,"theta":1}],"question":"what is mymysh history","answers":["a file in the home directory of the current user of mymysh that is read on startup of mymysh is created on exit of mymysh holds the current users command history of mymysh"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"h","salience":0.23180678486824036,"theta":1},{"name":"sample output","salience":0.22127977013587952,"theta":1},{"name":"feedback","salience":0.17814432084560394,"theta":1},{"name":"shouldn t","salience":0.15376867353916168,"theta":1},{"name":"point","salience":0.07790591567754745,"theta":1},{"name":"user","salience":0.05219221115112305,"theta":1},{"name":"sense","salience":0.04524049162864685,"theta":1},{"name":"command","salience":0.039661843329668045,"theta":1}],"question":"in the sample output after h is executed it would be added as 31 and 11 will be discarded shouldn t it make more sense to output 12 31 so the user doesn t even get visual feedback about 11 no point in knowing that command if you can t use it","answers":["mymysh executes commands before they are added to the history because only valid commands are added this has the side effect that showing history shows the history as it was before the current command",["could it be implemented differently thanks",["it could have been but this aspect won t be changing mymysh is not bash and doesn t need to behave exactly like bash"]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"history substitution","salience":1,"theta":1}],"question":"history substitution is this valid","answers":["it probably shouldn t be you can implement it however you like we won t include it in our testing"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"maxstr","salience":0.37794750928878784,"theta":1},{"name":"strings","salience":0.1700824648141861,"theta":1},{"name":"string size","salience":0.09508425742387772,"theta":1},{"name":"struct","salience":0.09508425742387772,"theta":1},{"name":"file","salience":0.08857133984565735,"theta":1},{"name":"same","salience":0.05833904445171356,"theta":1},{"name":"run","salience":0.04754487797617912,"theta":1},{"name":"string","salience":0.03734155371785164,"theta":1},{"name":"address","salience":0.03000469319522381,"theta":1}],"question":"do we have to malloc for the strings or just put the maxstr as string size in the struct since it is very difficult to read from the file when the string is dynamically allocated the address cannot be guaranteed to be the same for each run","answers":["dynamic allocation is only relevant while the shell is running you should be writing the string not a pointer to the string into the history file",["so you mean that malloc is not necessary in the history c",["no that s not what i meant",["but when write fd amp current history sizeof historyentry the one written to the file is always a pointer how can i instead writting the string",["open the history file using fopen rather than open and then use fprintf to write stuff into it"]]]]]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"communication","salience":1,"theta":1}],"question":"communication","answers":["communication"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"error messages","salience":0.4187118411064148,"theta":1},{"name":"sample program","salience":0.37099123001098633,"theta":1},{"name":"error messages","salience":0.21029692888259888,"theta":1}],"question":"should we be using the same error messages provided in the sample program or will it be fine if we type our own error messages","answers":["use the same messages including the same spacing and upper lower case characters you can use your own error messages if you don t care about failing auto testing"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"return value","salience":0.33076658844947815,"theta":1},{"name":"command cat","salience":0.16331824660301208,"theta":1},{"name":"wexitstatus","salience":0.1013573706150055,"theta":1},{"name":"sub processes","salience":0.09670107066631317,"theta":1},{"name":"wstatus","salience":0.06615784764289856,"theta":1},{"name":"wait","salience":0.06615784764289856,"theta":1},{"name":"file","salience":0.06157805398106575,"theta":1},{"name":"output","salience":0.053031500428915024,"theta":1},{"name":"values","salience":0.037375546991825104,"theta":1},{"name":"sample output","salience":0.023555917665362358,"theta":1}],"question":"how should we get the return value from sub processes i used wexitstatus on the wstatus given by wait but this gave 1 for the command cat xyz where the file xyz doesn t exist whereas the sample output and sample executable both show 256 as the output should i multiply all return values by 256","answers":["i didn t use wexitstatus but i think i should have i ll change the executable and the spec to reflect this"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"number","salience":0.5483469367027283,"theta":1},{"name":"history entries","salience":0.45165306329727173,"theta":1}],"question":"what should initcommandhistory return the number of history entries","answers":["the first history number to use ie if you run mymysh and run 5 commands then close mymysh the next time it is run the history numbers start at 6 so initcommandhistory returns 6"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"commands","salience":0.2874511480331421,"theta":1},{"name":"number","salience":0.2221866399049759,"theta":1},{"name":"command","salience":0.20889870822429657,"theta":1},{"name":"history","salience":0.16843849420547485,"theta":1},{"name":"command numbers","salience":0.1130250096321106,"theta":1}],"question":"once there are 20 commands in history is the most recent command always number 20 or do the command numbers keep rising forever","answers":["the history number is always increasing but only the last 20 need to be remembered"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"cd command","salience":0.4291028082370758,"theta":1},{"name":"directories","salience":0.31863468885421753,"theta":1},{"name":"account","salience":0.15414085984230042,"theta":1},{"name":"spaces","salience":0.09812163561582565,"theta":1}],"question":"for the cd command should we take directories with spaces into account","answers":["no spaces are only used as argument seperators"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"home","salience":0.3623972535133362,"theta":1},{"name":"format","salience":0.2875139117240906,"theta":1},{"name":"sample executable","salience":0.23494522273540497,"theta":1},{"name":"format","salience":0.11514359712600708,"theta":1}],"question":"do we need to save the home mymysh history in the same format as the sample executable or are we allowed to make up our own format","answers":["same format the only format that you re allowed to fiddle with is the internal format of the history list"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"ins","salience":0.40423330664634705,"theta":1},{"name":"example","salience":0.15602459013462067,"theta":1},{"name":"history","salience":0.13609936833381653,"theta":1},{"name":"command","salience":0.10931021720170975,"theta":1},{"name":"shell","salience":0.10075186938047409,"theta":1},{"name":"redirection","salience":0.05444343015551567,"theta":1},{"name":"ins","salience":0.03913723677396774,"theta":1}],"question":"can shell built ins be redirected for example is h gt history txt a valid command this would imply that shell built ins would need to be handled after redirection was applied","answers":["no they can t be redirected"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command history file","salience":0.5250822901725769,"theta":1},{"name":"entries","salience":0.2761719226837158,"theta":1},{"name":"everything","salience":0.19874578714370728,"theta":1}],"question":"does the command history file only contain the most recent 20 entries or everything","answers":["only the most recent 20 entries since you can t see more than that there s not much point storing them"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"sample program","salience":0.68316650390625,"theta":1},{"name":"sequence numbers","salience":0.23775482177734375,"theta":1},{"name":"command history","salience":0.07907870411872864,"theta":1}],"question":"the sample program seems to start sequence numbers in the command history at 2 is this correct","answers":["no it s not correct and it s now fixed it s not going to fix any old mymysh history files that start counting at 2 but if you remove the file and restart mymysh it should start counting from 1"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command lines","salience":0.4428960382938385,"theta":1},{"name":"characters","salience":0.31244680285453796,"theta":1},{"name":"history","salience":0.14207200706005096,"theta":1},{"name":"char lines","salience":0.10258513689041138,"theta":1}],"question":"are all command lines max 200 characters or do we have to dynamically allocate char lines to store into history","answers":["if the spec doesn t say that you have to dynamically allocate command line strings for the history then you don t i think the data structures i gave you assumed that you would dynamically allocate command lines for the history but you can change those data structures if you want"]},{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"assignments","salience":0.5,"theta":1},{"name":"assignment 2","salience":0.5,"theta":1},{"name":"assignment 2 specification","salience":0.5,"theta":1},{"name":"command","salience":0.33461543917655945,"theta":1},{"name":"cs1521 bin mymysh","salience":0.3050708770751953,"theta":1},{"name":"file","salience":0.23320749402046204,"theta":1},{"name":"directory error","salience":0.127106174826622,"theta":1}],"question":"i am not sure if i am using the right command but running cs1521 bin mymysh gives me a no such file or directory error","answers":["ooops forgot to put the executable there it s there now"]}]}