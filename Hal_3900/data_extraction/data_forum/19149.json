{"posts":[{"tags":[{"name":"forums","salience":0.5,"theta":1},{"name":"lectures","salience":0.5,"theta":1},{"name":"week 5","salience":0.5,"theta":1},{"name":"lecture exercises","salience":0.5,"theta":1}],"question":"hi i have some questions about system calls in cat3 c in the lecture exercises int in open argv 1 o rdonly if in lt 0 error errno errno can t open s argv 1 above is the code for open when we call open it returns a file descriptor here it checks if it s less than 0 but wouldn t it be better if we do in lt 3 instead cause we don t want 0 1 and 2 as file descriptors since they re default for stdin stdout and stderr char buf max int nread while nread read in buf max 0 write 1 buf nread and this is the code for read read returns 1 when it fails shouldn t we check if nread gt 0 instead of 0 cheers","answers":["for the open question checking for in lt 0 is correct the open call won t allocate any of 0 1 or 2 because they re already in use so there s no use checking for them if it succeeds it will return a value 3 or higher if it fails it will return 1 no other values are relevant and only 1 is an error result for the read question yes checking for the return value being gt 0 would probably be better the code is assuming that there won t be errors and in that context the termination return value is 0",["thanks i ll just check them both is greater then 0 before using it"]]}]}