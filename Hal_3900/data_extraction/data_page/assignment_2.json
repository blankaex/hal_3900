{"grouped":[{"tags":[{"name":"table","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"assignment","salience":0.7274385094642639,"theta":1},{"name":"shell computer system fundamentals","salience":0.2725614607334137,"theta":1}],"text":"comp1521 18s2 assignment 2 my very own shell computer system fundamentals"}]},{"tags":[{"name":"table","salience":0.5,"theta":1},{"name":"admin","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"course mark","salience":1,"theta":1}],"text":"marks 11 towards total course mark"},{"tags":[{"name":"group","salience":0.7249495983123779,"theta":1},{"name":"assignment","salience":0.27505040168762207,"theta":1}],"text":"group this assignment is completed individually"},{"tags":[],"text":"due by 11 59 59pm on sunday 7th october"},{"tags":[{"name":"history","salience":0.5557078719139099,"theta":1},{"name":"webcms","salience":0.2572709918022156,"theta":1},{"name":"c","salience":0.1870211362838745,"theta":1}],"text":"submit give cs1521 assign2 mymysh c history h history c or via webcms"},{"tags":[{"name":"mark","salience":0.7648585438728333,"theta":1},{"name":"ceiling","salience":0.23514142632484436,"theta":1}],"text":"latepenalty 0 09 marks per hour late approx 2 2 marks per day off the ceiling e g if you are 36 hours late your maximum possible mark is 7 8 11"},{"tags":[{"name":"code","salience":0.057392604649066925,"theta":1},{"name":"code","salience":0.057392604649066925,"theta":1},{"name":"marks","salience":0.05291597172617912,"theta":1},{"name":"performance","salience":0.045149169862270355,"theta":1},{"name":"auto testing","salience":0.04265474155545235,"theta":1},{"name":"test cases","salience":0.03846282884478569,"theta":1},{"name":"tute solutions","salience":0.03635963052511215,"theta":1},{"name":"guide","salience":0.032017968595027924,"theta":1},{"name":"style","salience":0.032017968595027924,"theta":1},{"name":"lectures","salience":0.032017968595027924,"theta":1},{"name":"assessment","salience":0.027539294213056564,"theta":1},{"name":"mark","salience":0.025392411276698112,"theta":1},{"name":"test cases","salience":0.02519853413105011,"theta":1},{"name":"c statements","salience":0.023865340277552605,"theta":1},{"name":"code","salience":0.022170018404722214,"theta":1},{"name":"code","salience":0.022170018404722214,"theta":1},{"name":"code","salience":0.022170018404722214,"theta":1},{"name":"performance mark","salience":0.016792522743344307,"theta":1},{"name":"code","salience":0.015958230942487717,"theta":1},{"name":"performance mark","salience":0.015418239869177341,"theta":1},{"name":"code","salience":0.015198079869151115,"theta":1},{"name":"code","salience":0.01501371618360281,"theta":1},{"name":"some","salience":0.013931920751929283,"theta":1},{"name":"range","salience":0.013931920751929283,"theta":1},{"name":"mark","salience":0.0138138672336936,"theta":1},{"name":"control structures","salience":0.01376278605312109,"theta":1},{"name":"mark","salience":0.012837404385209084,"theta":1},{"name":"mark","salience":0.012076231651008129,"theta":1},{"name":"c statements","salience":0.011768377386033535,"theta":1},{"name":"comment","salience":0.011082335375249386,"theta":1},{"name":"performance","salience":0.010912838391959667,"theta":1},{"name":"code","salience":0.010532716289162636,"theta":1},{"name":"code","salience":0.010532716289162636,"theta":1},{"name":"t","salience":0.010449890047311783,"theta":1},{"name":"cases","salience":0.009591622278094292,"theta":1},{"name":"solution","salience":0.009535436518490314,"theta":1},{"name":"indentation","salience":0.009535436518490314,"theta":1},{"name":"comment","salience":0.009451894089579582,"theta":1},{"name":"line","salience":0.009419367648661137,"theta":1},{"name":"block","salience":0.009419367648661137,"theta":1},{"name":"task","salience":0.009419367648661137,"theta":1},{"name":"use","salience":0.009419367648661137,"theta":1},{"name":"names","salience":0.009419367648661137,"theta":1},{"name":"gcc","salience":0.0076910522766411304,"theta":1},{"name":"code","salience":0.007383057381957769,"theta":1},{"name":"mark","salience":0.006790484767407179,"theta":1},{"name":"control structures","salience":0.006682779639959335,"theta":1},{"name":"comment","salience":0.006624128669500351,"theta":1},{"name":"line","salience":0.006601294036954641,"theta":1},{"name":"code","salience":0.0055676898919045925,"theta":1},{"name":"comment","salience":0.005443108733743429,"theta":1},{"name":"block","salience":0.004623943008482456,"theta":1},{"name":"task","salience":0.004623943008482456,"theta":1},{"name":"use","salience":0.004623943008482456,"theta":1},{"name":"names","salience":0.004623943008482456,"theta":1},{"name":"indentation","salience":0.004623943008482456,"theta":1},{"name":"marks","salience":0.004258768167346716,"theta":1},{"name":"performance","salience":0.0036174473352730274,"theta":1},{"name":"auto testing","salience":0.0034126911778002977,"theta":1},{"name":"tutor s assessment","salience":0.002898554550483823,"theta":1},{"name":"some","salience":0.002898554550483823,"theta":1},{"name":"range","salience":0.002898554550483823,"theta":1}],"text":"assessment for a guide to style use the code in the lectures and tute solutions and the supplied code 9 marks for correct performance measured by auto testing on a range of test cases some of which will be provided for you to test your code as you write it 1 mark for commenting the code you don t need a comment on every line but roughly one comment on each block of c statements that does a meaningful task 1 mark for readable code sensible names consistent use of indentation to highlight control structures if your submitted code won t compile your maximum possible performance mark is 3 9 the solution make sure your code compiles and runs under gcc before submitting if your submitted code fails all the performance tests your maximum possible performance mark is 5 9 in both cases the actual mark will be determined by a tutor s assessment on how close your code is to working 9 marks for correct performance measured by auto testing on a range of test cases some of which will be provided for you to test your code as you write it 1 mark for commenting the code you don t need a comment on every line but roughly one comment on each block of c statements that does a meaningful task 1 mark for readable code sensible names consistent use of indentation to highlight control structures"},{"tags":[{"name":"marks","salience":0.2903811037540436,"theta":1},{"name":"test cases","salience":0.19185686111450195,"theta":1},{"name":"code","salience":0.13949957489967346,"theta":1},{"name":"performance","salience":0.1197357103228569,"theta":1},{"name":"auto testing","salience":0.09312187135219574,"theta":1},{"name":"some","salience":0.08319231867790222,"theta":1},{"name":"range","salience":0.08221254497766495,"theta":1}],"text":"9 marks for correct performance measured by auto testing on a range of test cases some of which will be provided for you to test your code as you write it"},{"tags":[{"name":"mark","salience":0.3300289809703827,"theta":1},{"name":"c statements","salience":0.1644633561372757,"theta":1},{"name":"code","salience":0.1382443904876709,"theta":1},{"name":"comment","salience":0.10047227889299393,"theta":1},{"name":"line","salience":0.09637977927923203,"theta":1},{"name":"comment","salience":0.09253795444965363,"theta":1},{"name":"task","salience":0.04772907495498657,"theta":1},{"name":"block","salience":0.03014419786632061,"theta":1}],"text":"1 mark for commenting the code you don t need a comment on every line but roughly one comment on each block of c statements that does a meaningful task"},{"tags":[{"name":"mark","salience":0.44773098826408386,"theta":1},{"name":"names","salience":0.13994920253753662,"theta":1},{"name":"code","salience":0.13836055994033813,"theta":1},{"name":"use","salience":0.12917302548885345,"theta":1},{"name":"control structures","salience":0.10012457519769669,"theta":1},{"name":"indentation","salience":0.044661667197942734,"theta":1}],"text":"1 mark for readable code sensible names consistent use of indentation to highlight control structures"}]},{"tags":[{"name":"table","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"marks","salience":0.2903811037540436,"theta":1},{"name":"test cases","salience":0.19185686111450195,"theta":1},{"name":"code","salience":0.13949957489967346,"theta":1},{"name":"performance","salience":0.1197357103228569,"theta":1},{"name":"auto testing","salience":0.09312187135219574,"theta":1},{"name":"some","salience":0.08319231867790222,"theta":1},{"name":"range","salience":0.08221254497766495,"theta":1}],"text":"9 marks for correct performance measured by auto testing on a range of test cases some of which will be provided for you to test your code as you write it"},{"tags":[{"name":"mark","salience":0.3300289809703827,"theta":1},{"name":"c statements","salience":0.1644633561372757,"theta":1},{"name":"code","salience":0.1382443904876709,"theta":1},{"name":"comment","salience":0.10047227889299393,"theta":1},{"name":"line","salience":0.09637977927923203,"theta":1},{"name":"comment","salience":0.09253795444965363,"theta":1},{"name":"task","salience":0.04772907495498657,"theta":1},{"name":"block","salience":0.03014419786632061,"theta":1}],"text":"1 mark for commenting the code you don t need a comment on every line but roughly one comment on each block of c statements that does a meaningful task"},{"tags":[{"name":"mark","salience":0.44773098826408386,"theta":1},{"name":"names","salience":0.13994920253753662,"theta":1},{"name":"code","salience":0.13836055994033813,"theta":1},{"name":"use","salience":0.12917302548885345,"theta":1},{"name":"control structures","salience":0.10012457519769669,"theta":1},{"name":"indentation","salience":0.044661667197942734,"theta":1}],"text":"1 mark for readable code sensible names consistent use of indentation to highlight control structures"}]},{"tags":[{"name":"list","salience":0.5,"theta":1},{"name":"objectives","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"c code","salience":0.46774357557296753,"theta":1},{"name":"experience","salience":0.32049283385276794,"theta":1},{"name":"processes","salience":0.21176359057426453,"theta":1}],"text":"to give you experience writing c code to manipulate processes"},{"tags":[{"name":"communication pipes","salience":1,"theta":1}],"text":"to give you experience with interprocess communication pipes"},{"tags":[{"name":"experience","salience":0.48294228315353394,"theta":1},{"name":"c","salience":0.31550681591033936,"theta":1},{"name":"data structures","salience":0.20155088603496552,"theta":1}],"text":"to give you further experience with data structures in c"}]},{"tags":[{"name":"list","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"executable","salience":0.8837491273880005,"theta":1},{"name":"token","salience":0.11625086516141891,"theta":1}],"text":"an executable for the command first token actually exists"},{"tags":[{"name":"stdin","salience":0.907674252986908,"theta":1},{"name":"filename","salience":0.09232573956251144,"theta":1}],"text":"stdin is redirected but without giveng a filename to read from"},{"tags":[{"name":"stdin","salience":0.5467406511306763,"theta":1},{"name":"filename","salience":0.45325931906700134,"theta":1}],"text":"stdin is redirected but with a filename that is nonexistent or not readable"},{"tags":[{"name":"stdout","salience":0.8837491273880005,"theta":1},{"name":"filename","salience":0.11625086516141891,"theta":1}],"text":"stdout is redirected but without giving a filename to write to"},{"tags":[{"name":"stdout","salience":0.5971030592918396,"theta":1},{"name":"filename","salience":0.4028969407081604,"theta":1}],"text":"stdout is redirected but with a filename that is not writeable"},{"tags":[{"name":"seqno","salience":0.7827401161193848,"theta":1},{"name":"sequence number","salience":0.21725986897945404,"theta":1}],"text":"using seqno but with an invalid sequence number"}]},{"tags":[{"name":"list","salience":0.5,"theta":1}],"items":[{"tags":[{"name":"commands","salience":0.6913410425186157,"theta":1},{"name":"lab","salience":0.30865898728370667,"theta":1}],"text":"get normal commands running properly week 08 lab"},{"tags":[{"name":"shell","salience":0.5783335566520691,"theta":1},{"name":"ins","salience":0.4216664433479309,"theta":1}],"text":"then add shell built ins"},{"tags":[{"name":"command history","salience":1,"theta":1}],"text":"then add command history"},{"tags":[{"name":"history substitution","salience":1,"theta":1}],"text":"then add history substitution"},{"tags":[{"name":"filename expansion","salience":1,"theta":1}],"text":"then add filename expansion"},{"tags":[{"name":"input output redirection","salience":1,"theta":1}],"text":"then add input output redirection"}]}],"block":[{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"performance mark","salience":0.310362309217453,"theta":1},{"name":"code","salience":0.19293561577796936,"theta":1},{"name":"t","salience":0.14186401665210724,"theta":1},{"name":"code","salience":0.08157289773225784,"theta":1},{"name":"performance mark","salience":0.053444668650627136,"theta":1},{"name":"code","salience":0.05144577473402023,"theta":1},{"name":"performance","salience":0.04467744007706642,"theta":1},{"name":"gcc","salience":0.03867502510547638,"theta":1},{"name":"code","salience":0.03069264441728592,"theta":1},{"name":"tutor s assessment","salience":0.027253495529294014,"theta":1},{"name":"mark","salience":0.015022224746644497,"theta":1},{"name":"cases","salience":0.0120538966730237,"theta":1}],"text":"if your submitted code won t compile your maximum possible performance mark is 3 9 the solution make sure your code compiles and runs under gcc before submitting if your submitted code fails all the performance tests your maximum possible performance mark is 5 9 in both cases the actual mark will be determined by a tutor s assessment on how close your code is to working"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"background","salience":0.5,"theta":1},{"name":"program","salience":0.3517676293849945,"theta":1},{"name":"shell","salience":0.17485970258712769,"theta":1},{"name":"programs","salience":0.14449569582939148,"theta":1},{"name":"lines","salience":0.04658174514770508,"theta":1},{"name":"line","salience":0.04603450372815132,"theta":1},{"name":"line","salience":0.04287826269865036,"theta":1},{"name":"shells","salience":0.0421324148774147,"theta":1},{"name":"bash","salience":0.037614353001117706,"theta":1},{"name":"text","salience":0.03460124880075455,"theta":1},{"name":"command","salience":0.02626122534275055,"theta":1},{"name":"token","salience":0.021018968895077705,"theta":1},{"name":"example","salience":0.018500830978155136,"theta":1},{"name":"tokens","salience":0.01325343456119299,"theta":1}],"text":"a shell is a program that executes other programs command line based shells e g bash read lines of text break each line into tokens and execute the command indicated by the first token for example"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command","salience":0.44590336084365845,"theta":1},{"name":"tokens","salience":0.14681541919708252,"theta":1},{"name":"ls command","salience":0.10346565395593643,"theta":1},{"name":"executable","salience":0.0909973755478859,"theta":1},{"name":"shell","salience":0.08993926644325256,"theta":1},{"name":"tokens","salience":0.07769915461540222,"theta":1},{"name":"command line arguments","salience":0.045179761946201324,"theta":1}],"text":"is a command with three tokens ls al and cs1521 bin the shell works out where the executable for the ls command is located and executes it passing the second two tokens as command line arguments"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command lines","salience":0.4520546793937683,"theta":1},{"name":"users","salience":0.10004521906375885,"theta":1},{"name":"lot","salience":0.06356330960988998,"theta":1},{"name":"shells","salience":0.06356330960988998,"theta":1},{"name":"output","salience":0.048421937972307205,"theta":1},{"name":"commands","salience":0.033158544450998306,"theta":1},{"name":"example","salience":0.028282994404435158,"theta":1},{"name":"command","salience":0.02285248227417469,"theta":1},{"name":"history","salience":0.022626569494605064,"theta":1},{"name":"output","salience":0.01946464367210865,"theta":1},{"name":"file","salience":0.017882755026221275,"theta":1},{"name":"list","salience":0.017551638185977936,"theta":1},{"name":"unix linux","salience":0.015736162662506104,"theta":1},{"name":"program","salience":0.014808869920670986,"theta":1},{"name":"users","salience":0.01454878505319357,"theta":1},{"name":"example","salience":0.013525032438337803,"theta":1},{"name":"pipeline","salience":0.011829583905637264,"theta":1},{"name":"pipeline","salience":0.009972748346626759,"theta":1},{"name":"text file","salience":0.00949741993099451,"theta":1},{"name":"words","salience":0.008349605835974216,"theta":1},{"name":"commands","salience":0.007020296063274145,"theta":1},{"name":"effects","salience":0.005243399646133184,"theta":1}],"text":"however shells do a lot more than just reading command lines and executing them for example they keep a history of previous commands to make it easy to re execute them they also allow users to capture the output of a command by redirecting its output into a file and importantly on unix linux they allow users to build a pipeline of commands to achieve powerful effects without having to write a program for example the following pipeline produces a list of the top ten most frequently used words in a text file"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"details","salience":0.705138623714447,"theta":1},{"name":"unix linux commands","salience":0.15780942142009735,"theta":1},{"name":"web site","salience":0.08564649522304535,"theta":1},{"name":"way","salience":0.05140545219182968,"theta":1}],"text":"for more details on unix linux commands and how they can be combined in this way see the comp2041 web site"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"linux shells","salience":0.7273643016815186,"theta":1},{"name":"programming capability","salience":0.18711787462234497,"theta":1},{"name":"pipelines","salience":0.08551785349845886,"theta":1}],"text":"unix linux shells also typically provide a full programming capability if pipelines aren t quite enough"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"some","salience":0.2517489492893219,"theta":1},{"name":"bash","salience":0.2193744033575058,"theta":1},{"name":"shell","salience":0.21685896813869476,"theta":1},{"name":"assignment","salience":0.2023230344057083,"theta":1},{"name":"core features","salience":0.10969463735818863,"theta":1}],"text":"you will not be required to implement a shell as powerful as bash for this assignment but you will build some of the core features"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"setting up","salience":0.5,"theta":1},{"name":"directory","salience":0.3640633821487427,"theta":1},{"name":"assignment","salience":0.28760799765586853,"theta":1},{"name":"assignment files","salience":0.2388085126876831,"theta":1},{"name":"command","salience":0.10952010005712509,"theta":1}],"text":"create a private directory for doing the assignment and put the assignment files in it by running the following command"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"home machine","salience":0.3277299106121063,"theta":1},{"name":"home","salience":0.17972184717655182,"theta":1},{"name":"files","salience":0.1233392134308815,"theta":1},{"name":"fine","salience":0.10129234194755554,"theta":1},{"name":"zip file","salience":0.08119381964206696,"theta":1},{"name":"code","salience":0.07687760144472122,"theta":1},{"name":"cse machines","salience":0.06735005229711533,"theta":1},{"name":"machine","salience":0.042495232075452805,"theta":1}],"text":"if you re working on this at home download the zip file and create the files on your home machine it s fine to work on your own machine but remember to always test your code on the cse machines before submitting"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command","salience":0.6507119536399841,"theta":1},{"name":"files","salience":0.34928804636001587,"theta":1}],"text":"the above command will create the following files"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"file","salience":0.6206515431404114,"theta":1},{"name":"compilation","salience":0.20545892417430878,"theta":1},{"name":"system","salience":0.10610680282115936,"theta":1},{"name":"modules","salience":0.06778274476528168,"theta":1}],"text":"a file to control compilation of the various modules in the system"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"skeleton","salience":0.7101349830627441,"theta":1},{"name":"shell program","salience":0.28986501693725586,"theta":1}],"text":"a skeleton for the shell program that you are required to write"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"interface","salience":0.4766119718551636,"theta":1},{"name":"functions","salience":0.344807893037796,"theta":1},{"name":"history list data","salience":0.1785801202058792,"theta":1}],"text":"a complete interface for the functions on history list data"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"skeleton","salience":0.6507119536399841,"theta":1},{"name":"history list functions","salience":0.34928804636001587,"theta":1}],"text":"a skeleton for the history list functions"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"exercise","salience":0.5,"theta":1},{"name":"aim","salience":0.23165424168109894,"theta":1},{"name":"exercise","salience":0.1963859647512436,"theta":1},{"name":"command history list data structures","salience":0.1235581561923027,"theta":1},{"name":"mymysh c","salience":0.09769546985626221,"theta":1},{"name":"program skeleton","salience":0.08683919906616211,"theta":1},{"name":"functions","salience":0.056978266686201096,"theta":1},{"name":"executable","salience":0.053960997611284256,"theta":1},{"name":"functions","salience":0.04322255402803421,"theta":1},{"name":"c","salience":0.03332430124282837,"theta":1},{"name":"history","salience":0.030435483902692795,"theta":1},{"name":"c files","salience":0.02677835151553154,"theta":1},{"name":"program","salience":0.01916699856519699,"theta":1}],"text":"the aim of this exercise is to complete the supplied program skeleton in mymysh c giving an executable called mymysh this requires you to implement the command history list data structures and functions and then use these in implementing the main program you can add as many functions as you like to mymysh c and history c files"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.7995747327804565,"theta":1},{"name":"following","salience":0.20042528212070465,"theta":1}],"text":"the shell needs to be able to do the following"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"prompt","salience":0.4111177325248718,"theta":1},{"name":"shell","salience":0.09390823543071747,"theta":1},{"name":"command","salience":0.05714281275868416,"theta":1},{"name":"line","salience":0.04661949351429939,"theta":1},{"name":"command","salience":0.03762877359986305,"theta":1},{"name":"prompt function","salience":0.03315548598766327,"theta":1},{"name":"text","salience":0.032759889960289,"theta":1},{"name":"command","salience":0.03143532574176788,"theta":1},{"name":"tokens","salience":0.025607293471693993,"theta":1},{"name":"line","salience":0.025607293471693993,"theta":1},{"name":"token","salience":0.0235303808003664,"theta":1},{"name":"space","salience":0.022543342784047127,"theta":1},{"name":"sequence","salience":0.022272121161222458,"theta":1},{"name":"name","salience":0.020710863173007965,"theta":1},{"name":"message","salience":0.01726359687745571,"theta":1},{"name":"path","salience":0.01566317304968834,"theta":1},{"name":"user","salience":0.01566317304968834,"theta":1},{"name":"executable","salience":0.01566317304968834,"theta":1},{"name":"command","salience":0.015580276027321815,"theta":1},{"name":"shell","salience":0.01250863540917635,"theta":1},{"name":"command","salience":0.009800609201192856,"theta":1},{"name":"executable file","salience":0.00690916134044528,"theta":1},{"name":"somewhere","salience":0.00690916134044528,"theta":1}],"text":"the shell should print a prompt using the supplied prompt function it then reads a single line of text and interprets it as a command a command is a sequence of space separated tokens on a single line the first token is treated as the name of a command where the command exists as an executable file somewhere in the user s path if no such executable is found the shell should print a command not found message"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command","salience":0.19556184113025665,"theta":1},{"name":"library function","salience":0.1742062121629715,"theta":1},{"name":"command","salience":0.0796479880809784,"theta":1},{"name":"pathname","salience":0.07035304605960846,"theta":1},{"name":"parameter","salience":0.060330744832754135,"theta":1},{"name":"parameter","salience":0.059618253260850906,"theta":1},{"name":"parameter","salience":0.05630406737327576,"theta":1},{"name":"user s environment","salience":0.05519428476691246,"theta":1},{"name":"sequence","salience":0.04808785021305084,"theta":1},{"name":"tokens","salience":0.04808785021305084,"theta":1},{"name":"argument","salience":0.0447528176009655,"theta":1},{"name":"lab","salience":0.03853160887956619,"theta":1},{"name":"lab","salience":0.027143584564328194,"theta":1},{"name":"environment","salience":0.027143584564328194,"theta":1},{"name":"program","salience":0.015036259777843952,"theta":1}],"text":"the command is invoked via the execve library function with the full pathname of the command as the first parameter the sequence of tokens as the second parameter and the user s environment from the third argument of the the main program as the third parameter this is similar as the week 08 lab except that the lab didn t use the available environment"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.1536773294210434,"theta":1},{"name":"difference","salience":0.12141967564821243,"theta":1},{"name":"lab","salience":0.10242809355258942,"theta":1},{"name":"command","salience":0.06448553502559662,"theta":1},{"name":"information","salience":0.06290806084871292,"theta":1},{"name":"use","salience":0.06014843285083771,"theta":1},{"name":"output","salience":0.04598376899957657,"theta":1},{"name":"command","salience":0.04466758668422699,"theta":1},{"name":"command","salience":0.04413791373372078,"theta":1},{"name":"command name","salience":0.03492056578397751,"theta":1},{"name":"pathname","salience":0.03470299392938614,"theta":1},{"name":"path","salience":0.03190111368894577,"theta":1},{"name":"command s return status","salience":0.030392538756132126,"theta":1},{"name":"command executable","salience":0.027596350759267807,"theta":1},{"name":"pathname","salience":0.02598528191447258,"theta":1},{"name":"search","salience":0.02597842551767826,"theta":1},{"name":"output","salience":0.022341398522257805,"theta":1},{"name":"command","salience":0.02195577882230282,"theta":1},{"name":"name","salience":0.016895616427063942,"theta":1},{"name":"command","salience":0.013829424045979977,"theta":1},{"name":"hyphens","salience":0.013644106686115265,"theta":1}],"text":"one difference to the lab is that the shell should print some additional information before and after the output fom the command before the command it should show the pathname of the command executable use the full pathname if the command is found by using a search of the path if the command name is relative use the name as given after the command it should print the command s return status as determined using wexitstatus the output from the command should be delineated by twenty hyphens as shown below"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"mymysh","salience":0.8575566411018372,"theta":1},{"name":"shell","salience":0.14244334399700165,"theta":1}],"text":"note that mymysh is the shell s prompt"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"commands","salience":0.5246731042861938,"theta":1},{"name":"number","salience":0.3582237958908081,"theta":1},{"name":"ins","salience":0.08068849891424179,"theta":1},{"name":"shell","salience":0.03641458973288536,"theta":1}],"text":"there are a number of built in commands that are not executed as described above but are handled directly by the shell the built ins are described below"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command line","salience":0.4844774901866913,"theta":1},{"name":"tokens","salience":0.29940924048423767,"theta":1},{"name":"shell prompt","salience":0.21611326932907104,"theta":1}],"text":"if the command line has no tokens it is simply ignored and a new shell prompt is printed"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.3451569974422455,"theta":1},{"name":"list","salience":0.13199660181999207,"theta":1},{"name":"shell","salience":0.11241044104099274,"theta":1},{"name":"command","salience":0.10428206622600555,"theta":1},{"name":"commands","salience":0.10307786613702774,"theta":1},{"name":"sessions","salience":0.06474997103214264,"theta":1},{"name":"shell","salience":0.056816328316926956,"theta":1},{"name":"examples","salience":0.04862159118056297,"theta":1},{"name":"sequence number sequence numbers","salience":0.03288813680410385,"theta":1}],"text":"the shell should maintain a persistent list of the most recent 20 valid commands that the shell has executed each command is associated with a sequence number sequence numbers increase constantly over time and persist between sessions with the shell see the examples below"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command history","salience":0.2545669376850128,"theta":1},{"name":"shell","salience":0.19739145040512085,"theta":1},{"name":"data structure","salience":0.09099629521369934,"theta":1},{"name":"function","salience":0.0690435990691185,"theta":1},{"name":"interface functions","salience":0.06823248416185379,"theta":1},{"name":"history","salience":0.06046581268310547,"theta":1},{"name":"data structures","salience":0.05815291032195091,"theta":1},{"name":"number","salience":0.055091820657253265,"theta":1},{"name":"list","salience":0.055091820657253265,"theta":1},{"name":"command history","salience":0.03657203167676926,"theta":1},{"name":"implementation","salience":0.03287876397371292,"theta":1},{"name":"functions","salience":0.02151607535779476,"theta":1}],"text":"while shell is executing the command history is maintained in a fixed size data structure defined in history c a number of interface functions are defined on this list and should be used in the main function if you asbolutely cannot stand the supplied data structures and functions feel free to define your own as long as the history behaves as required the precise implementation of the command history is not critical"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"text file","salience":0.2769903540611267,"theta":1},{"name":"command history","salience":0.2607958912849426,"theta":1},{"name":"format","salience":0.11184095591306686,"theta":1},{"name":"executions","salience":0.06616535782814026,"theta":1},{"name":"mymysh program","salience":0.06616535782814026,"theta":1},{"name":"commands","salience":0.046507734805345535,"theta":1},{"name":"history","salience":0.036641910672187805,"theta":1},{"name":"file home","salience":0.026049407199025154,"theta":1},{"name":"mymysh","salience":0.02228444255888462,"theta":1},{"name":"shell","salience":0.02206259034574032,"theta":1},{"name":"file","salience":0.022017482668161392,"theta":1},{"name":"sequence numbers","salience":0.016468483954668045,"theta":1},{"name":"history","salience":0.012388837523758411,"theta":1},{"name":"space character","salience":0.007370100822299719,"theta":1},{"name":"format","salience":0.006251079495996237,"theta":1}],"text":"the command history has to persist between executions of the mymysh program to achieve this it saves the history in a file home mymysh history when mymysh terminates and restores it from this file when it next starts the mymysh history is simply a text file containing the most recent 20 commands and their sequence numbers it must be in the same format as that produced by the mymysh binary i e 3d s n which is the same format as used to display the history within the shell where represents a single space character"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"commands","salience":0.22832804918289185,"theta":1},{"name":"history","salience":0.17543283104896545,"theta":1},{"name":"command","salience":0.16589121520519257,"theta":1},{"name":"notation seqno","salience":0.059619318693876266,"theta":1},{"name":"commands","salience":0.05726289004087448,"theta":1},{"name":"command","salience":0.055932387709617615,"theta":1},{"name":"history","salience":0.050574470311403275,"theta":1},{"name":"history","salience":0.04655354097485542,"theta":1},{"name":"sequence number","salience":0.040354784578084946,"theta":1},{"name":"one","salience":0.040354784578084946,"theta":1},{"name":"user","salience":0.02851218916475773,"theta":1},{"name":"command","salience":0.02836294285953045,"theta":1},{"name":"notation","salience":0.022820595651865005,"theta":1}],"text":"commands from the history can be re executed by using the special notation seqno and giving the sequence number for one of the commands in the history the command from the history should become the current command and then be treated as if it had been typed by the user the special notation re executes the previous command"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"linux shells","salience":0.30727246403694153,"theta":1},{"name":"commands","salience":0.2566015124320984,"theta":1},{"name":"history","salience":0.20155632495880127,"theta":1},{"name":"following","salience":0.15487012267112732,"theta":1},{"name":"commands","salience":0.0796995684504509,"theta":1}],"text":"note that unlike most unix linux shells mymysh does not place invalid commands in the history so commands should be checked for the following before being executed"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"any","salience":0.33828696608543396,"theta":1},{"name":"command line","salience":0.30003297328948975,"theta":1},{"name":"errors","salience":0.24016173183918,"theta":1},{"name":"history","salience":0.12151829898357391,"theta":1}],"text":"if the command line produces any of the above errors it should not be placed in the history"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"commands","salience":0.6704497337341309,"theta":1},{"name":"shell","salience":0.21631065011024475,"theta":1},{"name":"command path","salience":0.11323961615562439,"theta":1}],"text":"the following commands are handled by the shell and do not need to be searched for in the command path"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.6507119536399841,"theta":1},{"name":"command history","salience":0.34928804636001587,"theta":1}],"text":"terminate the shell after saving the command history"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"commands","salience":0.827747106552124,"theta":1},{"name":"sequence numbers","salience":0.17225287854671478,"theta":1}],"text":"display the last 20 commands with their sequence numbers"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.5525654554367065,"theta":1},{"name":"getcwd","salience":0.3144729435443878,"theta":1},{"name":"directory","salience":0.13296158611774445,"theta":1}],"text":"print the shell s current working directory hint getcwd"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"shell","salience":0.43371111154556274,"theta":1},{"name":"working directory","salience":0.21554534137248993,"theta":1},{"name":"filename expansion","salience":0.13556694984436035,"theta":1},{"name":"working directory hint","salience":0.09586377441883087,"theta":1},{"name":"getcwd","salience":0.06813311576843262,"theta":1},{"name":"chdir","salience":0.051179707050323486,"theta":1}],"text":"change the shell s working directory after filename expansion after changing show the new working directory hint chdir and getcwd"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"exit","salience":0.8312284350395203,"theta":1},{"name":"command history","salience":0.16877159476280212,"theta":1}],"text":"the exit built in is not placed in the command history"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"any","salience":0.16151787340641022,"theta":1},{"name":"characters","salience":0.1435743272304535,"theta":1},{"name":"one","salience":0.1435743272304535,"theta":1},{"name":"tokens","salience":0.08040148764848709,"theta":1},{"name":"token","salience":0.08040148764848709,"theta":1},{"name":"all","salience":0.05738963559269905,"theta":1},{"name":"tokens","salience":0.055091340094804764,"theta":1},{"name":"token","salience":0.055091340094804764,"theta":1},{"name":"glob library function","salience":0.04549868777394295,"theta":1},{"name":"tokens list","salience":0.03961466997861862,"theta":1},{"name":"matches","salience":0.0355478897690773,"theta":1},{"name":"actions","salience":0.027582062408328056,"theta":1},{"name":"glob function","salience":0.022048266604542732,"theta":1},{"name":"glob nocheck glob tilde","salience":0.019395053386688232,"theta":1},{"name":"parameter","salience":0.019395053386688232,"theta":1},{"name":"any","salience":0.01387650053948164,"theta":1}],"text":"if any of the following characters appears in one of the tokens that token should be replaced by all of the tokens matching that token using the glob library function this may result in the tokens list becoming longer than initially if there are no matches use the token unchanged this should be done before any of the actions described below hint use glob nocheck glob tilde as the second parameter of the glob function"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"tokens","salience":0.2539852261543274,"theta":1},{"name":"command line","salience":0.18769465386867523,"theta":1},{"name":"tokens","salience":0.14677761495113373,"theta":1},{"name":"command","salience":0.11841630190610886,"theta":1},{"name":"filename","salience":0.06048324704170227,"theta":1},{"name":"file","salience":0.04201793298125267,"theta":1},{"name":"file","salience":0.04201793298125267,"theta":1},{"name":"input","salience":0.033508118242025375,"theta":1},{"name":"token","salience":0.029382947832345963,"theta":1},{"name":"command line","salience":0.026859788224101067,"theta":1},{"name":"elsewhere","salience":0.023659085854887962,"theta":1},{"name":"pipe","salience":0.019979437813162804,"theta":1},{"name":"error","salience":0.015217716805636883,"theta":1}],"text":"if the command line contains the tokens and a filename as the last two tokens the command should be executed with its standard input connected to the named file if the file does not exist or is not readable that is an error having as the last token or elsewhere in the command line is also an error hint pipe and dup2"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command","salience":0.5221008658409119,"theta":1},{"name":"command line","salience":0.10880876332521439,"theta":1},{"name":"filename","salience":0.08979681879281998,"theta":1},{"name":"tokens","salience":0.08423605561256409,"theta":1},{"name":"tokens","salience":0.033993110060691833,"theta":1},{"name":"file","salience":0.024900341406464577,"theta":1},{"name":"file","salience":0.024900341406464577,"theta":1},{"name":"output","salience":0.018711356446146965,"theta":1},{"name":"length","salience":0.017406437546014786,"theta":1},{"name":"token","salience":0.016391698271036148,"theta":1},{"name":"contents","salience":0.01542683970183134,"theta":1},{"name":"elsewhere","salience":0.013180599547922611,"theta":1},{"name":"pipe","salience":0.011817270889878273,"theta":1},{"name":"command line","salience":0.010534294880926609,"theta":1},{"name":"file","salience":0.007795216515660286,"theta":1}],"text":"if the command line contains the tokens and a filename as the last two tokens the command should be executed with its standard output connected to the named file if the file does not already exist or exists and is writeable then it is truncated to zero length and it current contents are overwritten if the file exists and is not writeable that is an error having as the last token or elsewhere in the command line is also an error hint pipe and dup2"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"ins","salience":0.8215324282646179,"theta":1},{"name":"output","salience":0.1784675419330597,"theta":1}],"text":"shell built ins cannot have their output redirected"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"hints","salience":0.5,"theta":1},{"name":"program","salience":0.578466534614563,"theta":1},{"name":"mymysh","salience":0.4215334355831146,"theta":1}],"text":"the main program of mymysh should be structured roughly as follows"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"whole","salience":0.4351953864097595,"theta":1},{"name":"above","salience":0.3089604079723358,"theta":1},{"name":"stages","salience":0.15632940828800201,"theta":1},{"name":"id","salience":0.09951480478048325,"theta":1}],"text":"trying to implement the whole of the above at once is difficult i d suggest implementing it in stages"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"marks","salience":0.3469686806201935,"theta":1},{"name":"components","salience":0.16714167594909668,"theta":1},{"name":"each","salience":0.1365613490343094,"theta":1},{"name":"marks","salience":0.13585510849952698,"theta":1},{"name":"component","salience":0.10869032144546509,"theta":1},{"name":"t work","salience":0.06729520857334137,"theta":1},{"name":"components","salience":0.03748767822980881,"theta":1}],"text":"marks are available for each of the components you can get full marks for a working component even if other components don t work or aren t implemented"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"example","salience":0.4504646956920624,"theta":1},{"name":"shell","salience":0.35259467363357544,"theta":1},{"name":"practice","salience":0.19694063067436218,"theta":1}],"text":"the following example shows how the shell should work in practice"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"ambiguities","salience":0.3170749843120575,"theta":1},{"name":"above","salience":0.2472848892211914,"theta":1},{"name":"basis","salience":0.17894764244556427,"theta":1},{"name":"shell","salience":0.1768709123134613,"theta":1},{"name":"executable","salience":0.07982156425714493,"theta":1}],"text":"to resolve any ambiguities in the above and to give you a basis for testing an executable for the shell is available as"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"bug","salience":0.6116704344749451,"theta":1},{"name":"bugs","salience":0.13070249557495117,"theta":1},{"name":"sample executable","salience":0.08161358535289764,"theta":1},{"name":"one","salience":0.07291115820407867,"theta":1},{"name":"design choices","salience":0.07291115820407867,"theta":1},{"name":"sample executable","salience":0.030191173776984215,"theta":1}],"text":"please let me know asap if you think that there are bugs in the sample executable disagreeing with one of the above design choices does not constitute a bug however if the sample executable behaves differently to what is stated above then that is definitely a bug"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"challenge","salience":0.5,"theta":1},{"name":"kudos","salience":0.6507119536399841,"theta":1},{"name":"marks","salience":0.34928804636001587,"theta":1}],"text":"worth kudos but no marks"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"command pipelines","salience":0.7059070467948914,"theta":1},{"name":"cmd1 cmd2 cmdn","salience":0.29409292340278625,"theta":1}],"text":"implement command pipelines i e cmd1 cmd2 cmdn where n 2"},{"tags":[{"name":"paragraph","salience":0.5,"theta":1},{"name":"jas","salience":1,"theta":1}],"text":"have fun jas"}]}